const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-B50az2Pj.js","assets/webworkerAll-Do-zjiOh.js","assets/colorToUniform-DmtBy-2V.js","assets/WebGPURenderer-O1tybfJi.js","assets/SharedSystems-DMQat01R.js","assets/WebGLRenderer-Bot26_GY.js"])))=>i.map(i=>d[i]);
var nM=Object.defineProperty;var aM=(n,e,t)=>e in n?nM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var M=(n,e,t)=>aM(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function $g(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sm={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function rM(){if(Mb)return bl;Mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:s,key:o,ref:i!==void 0?i:null,props:a}}return bl.Fragment=e,bl.jsx=t,bl.jsxs=t,bl}var kb;function oM(){return kb||(kb=1,sm.exports=rM()),sm.exports}var k=oM(),im={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function lM(){if(Eb)return Ae;Eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=m&&F[m]||F["@@iterator"],typeof F=="function"?F:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function _(F,K,ae){this.props=F,this.context=K,this.refs=v,this.updater=ae||p}_.prototype.isReactComponent={},_.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function A(){}A.prototype=_.prototype;function S(F,K,ae){this.props=F,this.context=K,this.refs=v,this.updater=ae||p}var w=S.prototype=new A;w.constructor=S,x(w,_.prototype),w.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function D(F,K,ae,ee,ce,ue){return ae=ue.ref,{$$typeof:n,type:F,key:K,ref:ae!==void 0?ae:null,props:ue}}function B(F,K){return D(F.type,K,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ae){return K[ae]})}var z=/\/+/g;function H(F,K){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):K.toString(36)}function X(){}function j(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(X,X):(F.status="pending",F.then(function(K){F.status==="pending"&&(F.status="fulfilled",F.value=K)},function(K){F.status==="pending"&&(F.status="rejected",F.reason=K)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,K,ae,ee,ce){var ue=typeof F;(ue==="undefined"||ue==="boolean")&&(F=null);var fe=!1;if(F===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(F.$$typeof){case n:case e:fe=!0;break;case d:return fe=F._init,W(fe(F._payload),K,ae,ee,ce)}}if(fe)return ce=ce(F),fe=ee===""?"."+H(F,0):ee,T(ce)?(ae="",fe!=null&&(ae=fe.replace(z,"$&/")+"/"),W(ce,K,ae,"",function(Ue){return Ue})):ce!=null&&(O(ce)&&(ce=B(ce,ae+(ce.key==null||F&&F.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+fe)),K.push(ce)),1;fe=0;var Ye=ee===""?".":ee+":";if(T(F))for(var be=0;be<F.length;be++)ee=F[be],ue=Ye+H(ee,be),fe+=W(ee,K,ae,ue,ce);else if(be=y(F),typeof be=="function")for(F=be.call(F),be=0;!(ee=F.next()).done;)ee=ee.value,ue=Ye+H(ee,be++),fe+=W(ee,K,ae,ue,ce);else if(ue==="object"){if(typeof F.then=="function")return W(j(F),K,ae,ee,ce);throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return fe}function I(F,K,ae){if(F==null)return F;var ee=[],ce=0;return W(F,ee,"","",function(ue){return K.call(ae,ue,ce++)}),ee}function U(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(ae){(F._status===0||F._status===-1)&&(F._status=1,F._result=ae)},function(ae){(F._status===0||F._status===-1)&&(F._status=2,F._result=ae)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var ne=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function se(){}return Ae.Children={map:I,forEach:function(F,K,ae){I(F,function(){K.apply(this,arguments)},ae)},count:function(F){var K=0;return I(F,function(){K++}),K},toArray:function(F){return I(F,function(K){return K})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ae.Component=_,Ae.Fragment=t,Ae.Profiler=i,Ae.PureComponent=S,Ae.StrictMode=s,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(F){return R.H.useMemoCache(F)}},Ae.cache=function(F){return function(){return F.apply(null,arguments)}},Ae.cloneElement=function(F,K,ae){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ee=x({},F.props),ce=F.key,ue=void 0;if(K!=null)for(fe in K.ref!==void 0&&(ue=void 0),K.key!==void 0&&(ce=""+K.key),K)!E.call(K,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&K.ref===void 0||(ee[fe]=K[fe]);var fe=arguments.length-2;if(fe===1)ee.children=ae;else if(1<fe){for(var Ye=Array(fe),be=0;be<fe;be++)Ye[be]=arguments[be+2];ee.children=Ye}return D(F.type,ce,void 0,void 0,ue,ee)},Ae.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Ae.createElement=function(F,K,ae){var ee,ce={},ue=null;if(K!=null)for(ee in K.key!==void 0&&(ue=""+K.key),K)E.call(K,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ce[ee]=K[ee]);var fe=arguments.length-2;if(fe===1)ce.children=ae;else if(1<fe){for(var Ye=Array(fe),be=0;be<fe;be++)Ye[be]=arguments[be+2];ce.children=Ye}if(F&&F.defaultProps)for(ee in fe=F.defaultProps,fe)ce[ee]===void 0&&(ce[ee]=fe[ee]);return D(F,ue,void 0,void 0,null,ce)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(F){return{$$typeof:c,render:F}},Ae.isValidElement=O,Ae.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:U}},Ae.memo=function(F,K){return{$$typeof:u,type:F,compare:K===void 0?null:K}},Ae.startTransition=function(F){var K=R.T,ae={};R.T=ae;try{var ee=F(),ce=R.S;ce!==null&&ce(ae,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(se,ne)}catch(ue){ne(ue)}finally{R.T=K}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(F){return R.H.use(F)},Ae.useActionState=function(F,K,ae){return R.H.useActionState(F,K,ae)},Ae.useCallback=function(F,K){return R.H.useCallback(F,K)},Ae.useContext=function(F){return R.H.useContext(F)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(F,K){return R.H.useDeferredValue(F,K)},Ae.useEffect=function(F,K,ae){var ee=R.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(F,K)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(F,K,ae){return R.H.useImperativeHandle(F,K,ae)},Ae.useInsertionEffect=function(F,K){return R.H.useInsertionEffect(F,K)},Ae.useLayoutEffect=function(F,K){return R.H.useLayoutEffect(F,K)},Ae.useMemo=function(F,K){return R.H.useMemo(F,K)},Ae.useOptimistic=function(F,K){return R.H.useOptimistic(F,K)},Ae.useReducer=function(F,K,ae){return R.H.useReducer(F,K,ae)},Ae.useRef=function(F){return R.H.useRef(F)},Ae.useState=function(F){return R.H.useState(F)},Ae.useSyncExternalStore=function(F,K,ae){return R.H.useSyncExternalStore(F,K,ae)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.1.0",Ae}var Rb;function Kg(){return Rb||(Rb=1,im.exports=lM()),im.exports}var Z=Kg();const lt=$g(Z);var nm={exports:{}},vl={},am={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function cM(){return Db||(Db=1,function(n){function e(I,U){var ne=I.length;I.push(U);e:for(;0<ne;){var se=ne-1>>>1,F=I[se];if(0<i(F,U))I[se]=U,I[ne]=F,ne=se;else break e}}function t(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var U=I[0],ne=I.pop();if(ne!==U){I[0]=ne;e:for(var se=0,F=I.length,K=F>>>1;se<K;){var ae=2*(se+1)-1,ee=I[ae],ce=ae+1,ue=I[ce];if(0>i(ee,ne))ce<F&&0>i(ue,ee)?(I[se]=ue,I[ce]=ne,se=ce):(I[se]=ee,I[ae]=ne,se=ae);else if(ce<F&&0>i(ue,ne))I[se]=ue,I[ce]=ne,se=ce;else break e}}return U}function i(I,U){var ne=I.sortIndex-U.sortIndex;return ne!==0?ne:I.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var h=[],u=[],d=1,m=null,y=3,p=!1,x=!1,v=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function T(I){for(var U=t(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=I)s(u),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(u)}}function R(I){if(v=!1,T(I),!x)if(t(h)!==null)x=!0,E||(E=!0,H());else{var U=t(u);U!==null&&W(R,U.startTime-I)}}var E=!1,D=-1,B=5,O=-1;function L(){return _?!0:!(n.unstable_now()-O<B)}function z(){if(_=!1,E){var I=n.unstable_now();O=I;var U=!0;try{e:{x=!1,v&&(v=!1,S(D),D=-1),p=!0;var ne=y;try{t:{for(T(I),m=t(h);m!==null&&!(m.expirationTime>I&&L());){var se=m.callback;if(typeof se=="function"){m.callback=null,y=m.priorityLevel;var F=se(m.expirationTime<=I);if(I=n.unstable_now(),typeof F=="function"){m.callback=F,T(I),U=!0;break t}m===t(h)&&s(h),T(I)}else s(h);m=t(h)}if(m!==null)U=!0;else{var K=t(u);K!==null&&W(R,K.startTime-I),U=!1}}break e}finally{m=null,y=ne,p=!1}U=void 0}}finally{U?H():E=!1}}}var H;if(typeof w=="function")H=function(){w(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,j=X.port2;X.port1.onmessage=z,H=function(){j.postMessage(null)}}else H=function(){A(z,0)};function W(I,U){D=A(function(){I(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(I){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var ne=y;y=U;try{return I()}finally{y=ne}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ne=y;y=I;try{return U()}finally{y=ne}},n.unstable_scheduleCallback=function(I,U,ne){var se=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?se+ne:se):ne=se,I){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,I={id:d++,callback:U,priorityLevel:I,startTime:ne,expirationTime:F,sortIndex:-1},ne>se?(I.sortIndex=ne,e(u,I),t(h)===null&&I===t(u)&&(v?(S(D),D=-1):v=!0,W(R,ne-se))):(I.sortIndex=F,e(h,I),x||p||(x=!0,E||(E=!0,H()))),I},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(I){var U=y;return function(){var ne=y;y=U;try{return I.apply(this,arguments)}finally{y=ne}}}}(rm)),rm}var Pb;function uM(){return Pb||(Pb=1,am.exports=cM()),am.exports}var om={exports:{}},as={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function hM(){if(Bb)return as;Bb=1;var n=Kg();function e(h){var u="https://react.dev/errors/"+h;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,u,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:u,implementation:d}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,u){if(h==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return as.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,as.createPortal=function(h,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(h,u,null,d)},as.flushSync=function(h){var u=o.T,d=s.p;try{if(o.T=null,s.p=2,h)return h()}finally{o.T=u,s.p=d,s.d.f()}},as.preconnect=function(h,u){typeof h=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,s.d.C(h,u))},as.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},as.preinit=function(h,u){if(typeof h=="string"&&u&&typeof u.as=="string"){var d=u.as,m=c(d,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?s.d.S(h,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:p}):d==="script"&&s.d.X(h,{crossOrigin:m,integrity:y,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},as.preinitModule=function(h,u){if(typeof h=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=c(u.as,u.crossOrigin);s.d.M(h,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&s.d.M(h)},as.preload=function(h,u){if(typeof h=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,m=c(d,u.crossOrigin);s.d.L(h,d,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},as.preloadModule=function(h,u){if(typeof h=="string")if(u){var d=c(u.as,u.crossOrigin);s.d.m(h,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else s.d.m(h)},as.requestFormReset=function(h){s.d.r(h)},as.unstable_batchedUpdates=function(h,u){return h(u)},as.useFormState=function(h,u,d){return o.H.useFormState(h,u,d)},as.useFormStatus=function(){return o.H.useHostTransitionStatus()},as.version="19.1.0",as}var Ob;function Hv(){if(Ob)return om.exports;Ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),om.exports=hM(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function dM(){if(Nb)return vl;Nb=1;var n=uM(),e=Kg(),t=Hv();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,f=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(f=l.return),r=l.return;while(r)}return l.tag===3?f:null}function o(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(s(188))}function h(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(s(188));return l!==r?null:r}for(var f=r,g=l;;){var b=f.return;if(b===null)break;var C=b.alternate;if(C===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===f)return c(b),r;if(C===g)return c(b),l;C=C.sibling}throw Error(s(188))}if(f.return!==g.return)f=b,g=C;else{for(var P=!1,N=b.child;N;){if(N===f){P=!0,f=b,g=C;break}if(N===g){P=!0,g=b,f=C;break}N=N.sibling}if(!P){for(N=C.child;N;){if(N===f){P=!0,f=C,g=b;break}if(N===g){P=!0,g=C,f=b;break}N=N.sibling}if(!P)throw Error(s(189))}}if(f.alternate!==g)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?r:l}function u(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=u(r),l!==null)return l;r=r.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var X=Symbol.for("react.client.reference");function j(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===X?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case E:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case p:return"Portal";case w:return(r.displayName||"Context")+".Provider";case S:return(r._context.displayName||"Context")+".Consumer";case T:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return l=r.displayName||null,l!==null?l:j(r.type)||"Memo";case B:l=r._payload,r=r._init;try{return j(r(l))}catch{}}return null}var W=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},se=[],F=-1;function K(r){return{current:r}}function ae(r){0>F||(r.current=se[F],se[F]=null,F--)}function ee(r,l){F++,se[F]=r.current,r.current=l}var ce=K(null),ue=K(null),fe=K(null),Ye=K(null);function be(r,l){switch(ee(fe,l),ee(ue,r),ee(ce,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?tb(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=tb(l),r=sb(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(ce),ee(ce,r)}function Ue(){ae(ce),ae(ue),ae(fe)}function tt(r){r.memoizedState!==null&&ee(Ye,r);var l=ce.current,f=sb(l,r.type);l!==f&&(ee(ue,r),ee(ce,f))}function At(r){ue.current===r&&(ae(ce),ae(ue)),Ye.current===r&&(ae(Ye),ml._currentValue=ne)}var ye=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,ke=n.unstable_cancelCallback,ct=n.unstable_shouldYield,fi=n.unstable_requestPaint,Tt=n.unstable_now,Ei=n.unstable_getCurrentPriorityLevel,Ri=n.unstable_ImmediatePriority,vo=n.unstable_UserBlockingPriority,mi=n.unstable_NormalPriority,la=n.unstable_LowPriority,_o=n.unstable_IdlePriority,er=n.log,YC=n.unstable_setDisableYieldValue,wo=null,Rs=null;function An(r){if(typeof er=="function"&&YC(r),Rs&&typeof Rs.setStrictMode=="function")try{Rs.setStrictMode(wo,r)}catch{}}var Ds=Math.clz32?Math.clz32:HC,UC=Math.log,VC=Math.LN2;function HC(r){return r>>>=0,r===0?32:31-(UC(r)/VC|0)|0}var pc=256,yc=4194304;function ca(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xc(r,l,f){var g=r.pendingLanes;if(g===0)return 0;var b=0,C=r.suspendedLanes,P=r.pingedLanes;r=r.warmLanes;var N=g&134217727;return N!==0?(g=N&~C,g!==0?b=ca(g):(P&=N,P!==0?b=ca(P):f||(f=N&~r,f!==0&&(b=ca(f))))):(N=g&~C,N!==0?b=ca(N):P!==0?b=ca(P):f||(f=g&~r,f!==0&&(b=ca(f)))),b===0?0:l!==0&&l!==b&&(l&C)===0&&(C=b&-b,f=l&-l,C>=f||C===32&&(f&4194048)!==0)?l:b}function So(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function XC(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zp(){var r=pc;return pc<<=1,(pc&4194048)===0&&(pc=256),r}function Fp(){var r=yc;return yc<<=1,(yc&62914560)===0&&(yc=4194304),r}function Hh(r){for(var l=[],f=0;31>f;f++)l.push(r);return l}function Co(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function GC(r,l,f,g,b,C){var P=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var N=r.entanglements,Y=r.expirationTimes,Q=r.hiddenUpdates;for(f=P&~f;0<f;){var ie=31-Ds(f),le=1<<ie;N[ie]=0,Y[ie]=-1;var J=Q[ie];if(J!==null)for(Q[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}f&=~le}g!==0&&jp(r,g,0),C!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=C&~(P&~l))}function jp(r,l,f){r.pendingLanes|=l,r.suspendedLanes&=~l;var g=31-Ds(l);r.entangledLanes|=l,r.entanglements[g]=r.entanglements[g]|1073741824|f&4194090}function Yp(r,l){var f=r.entangledLanes|=l;for(r=r.entanglements;f;){var g=31-Ds(f),b=1<<g;b&l|r[g]&l&&(r[g]|=l),f&=~b}}function Xh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Gh(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Up(){var r=U.p;return r!==0?r:(r=window.event,r===void 0?32:_b(r.type))}function qC(r,l){var f=U.p;try{return U.p=r,l()}finally{U.p=f}}var Tn=Math.random().toString(36).slice(2),is="__reactFiber$"+Tn,xs="__reactProps$"+Tn,tr="__reactContainer$"+Tn,qh="__reactEvents$"+Tn,WC="__reactListeners$"+Tn,$C="__reactHandles$"+Tn,Vp="__reactResources$"+Tn,Ao="__reactMarker$"+Tn;function Wh(r){delete r[is],delete r[xs],delete r[qh],delete r[WC],delete r[$C]}function sr(r){var l=r[is];if(l)return l;for(var f=r.parentNode;f;){if(l=f[tr]||f[is]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(r=rb(r);r!==null;){if(f=r[is])return f;r=rb(r)}return l}r=f,f=r.parentNode}return null}function ir(r){if(r=r[is]||r[tr]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function To(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function nr(r){var l=r[Vp];return l||(l=r[Vp]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yt(r){r[Ao]=!0}var Hp=new Set,Xp={};function ua(r,l){ar(r,l),ar(r+"Capture",l)}function ar(r,l){for(Xp[r]=l,r=0;r<l.length;r++)Hp.add(l[r])}var KC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gp={},qp={};function QC(r){return ye.call(qp,r)?!0:ye.call(Gp,r)?!1:KC.test(r)?qp[r]=!0:(Gp[r]=!0,!1)}function bc(r,l,f){if(QC(l))if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+f)}}function vc(r,l,f){if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+f)}}function Qi(r,l,f,g){if(g===null)r.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(l,f,""+g)}}var $h,Wp;function rr(r){if($h===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);$h=l&&l[1]||"",Wp=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$h+r+Wp}var Kh=!1;function Qh(r,l){if(!r||Kh)return"";Kh=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(r,[],le)}else{try{le.call()}catch(te){J=te}r.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),P=C[0],N=C[1];if(P&&N){var Y=P.split(`
`),Q=N.split(`
`);for(b=g=0;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;for(;b<Q.length&&!Q[b].includes("DetermineComponentFrameRoot");)b++;if(g===Y.length||b===Q.length)for(g=Y.length-1,b=Q.length-1;1<=g&&0<=b&&Y[g]!==Q[b];)b--;for(;1<=g&&0<=b;g--,b--)if(Y[g]!==Q[b]){if(g!==1||b!==1)do if(g--,b--,0>b||Y[g]!==Q[b]){var ie=`
`+Y[g].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=g&&0<=b);break}}}finally{Kh=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?rr(f):""}function ZC(r){switch(r.tag){case 26:case 27:case 5:return rr(r.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return Qh(r.type,!1);case 11:return Qh(r.type.render,!1);case 1:return Qh(r.type,!0);case 31:return rr("Activity");default:return""}}function $p(r){try{var l="";do l+=ZC(r),r=r.return;while(r);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ks(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kp(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function JC(r){var l=Kp(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),g=""+r[l];if(!r.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,C=f.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return b.call(this)},set:function(P){g=""+P,C.call(this,P)}}),Object.defineProperty(r,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function _c(r){r._valueTracker||(r._valueTracker=JC(r))}function Qp(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return r&&(g=Kp(r)?r.checked?"true":"false":r.value),r=g,r!==f?(l.setValue(r),!0):!1}function wc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var eA=/[\n"\\]/g;function Qs(r){return r.replace(eA,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Zh(r,l,f,g,b,C,P,N){r.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.type=P:r.removeAttribute("type"),l!=null?P==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ks(l)):r.value!==""+Ks(l)&&(r.value=""+Ks(l)):P!=="submit"&&P!=="reset"||r.removeAttribute("value"),l!=null?Jh(r,P,Ks(l)):f!=null?Jh(r,P,Ks(f)):g!=null&&r.removeAttribute("value"),b==null&&C!=null&&(r.defaultChecked=!!C),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+Ks(N):r.removeAttribute("name")}function Zp(r,l,f,g,b,C,P,N){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),l!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;f=f!=null?""+Ks(f):"",l=l!=null?""+Ks(l):f,N||l===r.value||(r.value=l),r.defaultValue=l}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=N?r.checked:!!g,r.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(r.name=P)}function Jh(r,l,f){l==="number"&&wc(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function or(r,l,f,g){if(r=r.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<r.length;f++)b=l.hasOwnProperty("$"+r[f].value),r[f].selected!==b&&(r[f].selected=b),b&&g&&(r[f].defaultSelected=!0)}else{for(f=""+Ks(f),l=null,b=0;b<r.length;b++){if(r[b].value===f){r[b].selected=!0,g&&(r[b].defaultSelected=!0);return}l!==null||r[b].disabled||(l=r[b])}l!==null&&(l.selected=!0)}}function Jp(r,l,f){if(l!=null&&(l=""+Ks(l),l!==r.value&&(r.value=l),f==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=f!=null?""+Ks(f):""}function e0(r,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(s(92));if(W(g)){if(1<g.length)throw Error(s(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=Ks(l),r.defaultValue=f,g=r.textContent,g===f&&g!==""&&g!==null&&(r.value=g)}function lr(r,l){if(l){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=l;return}}r.textContent=l}var tA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function t0(r,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":g?r.setProperty(l,f):typeof f!="number"||f===0||tA.has(l)?l==="float"?r.cssFloat=f:r[l]=(""+f).trim():r[l]=f+"px"}function s0(r,l,f){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var b in l)g=l[b],l.hasOwnProperty(b)&&f[b]!==g&&t0(r,b,g)}else for(var C in l)l.hasOwnProperty(C)&&t0(r,C,l[C])}function ed(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sc(r){return iA.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var td=null;function sd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var cr=null,ur=null;function i0(r){var l=ir(r);if(l&&(r=l.stateNode)){var f=r[xs]||null;e:switch(r=l.stateNode,l.type){case"input":if(Zh(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Qs(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==r&&g.form===r.form){var b=g[xs]||null;if(!b)throw Error(s(90));Zh(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===r.form&&Qp(g)}break e;case"textarea":Jp(r,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&or(r,!!f.multiple,l,!1)}}}var id=!1;function n0(r,l,f){if(id)return r(l,f);id=!0;try{var g=r(l);return g}finally{if(id=!1,(cr!==null||ur!==null)&&(lu(),cr&&(l=cr,r=ur,ur=cr=null,i0(l),r)))for(l=0;l<r.length;l++)i0(r[l])}}function Mo(r,l){var f=r.stateNode;if(f===null)return null;var g=f[xs]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(s(231,l,typeof f));return f}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(Zi)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){nd=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{nd=!1}var Mn=null,ad=null,Cc=null;function a0(){if(Cc)return Cc;var r,l=ad,f=l.length,g,b="value"in Mn?Mn.value:Mn.textContent,C=b.length;for(r=0;r<f&&l[r]===b[r];r++);var P=f-r;for(g=1;g<=P&&l[f-g]===b[C-g];g++);return Cc=b.slice(r,1<g?1-g:void 0)}function Ac(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Tc(){return!0}function r0(){return!1}function bs(r){function l(f,g,b,C,P){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(f=r[N],this[N]=f?f(C):C[N]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Tc:r0,this.isPropagationStopped=r0,this}return d(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),l}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=bs(ha),Eo=d({},ha,{view:0,detail:0}),nA=bs(Eo),rd,od,Ro,kc=d({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ro&&(Ro&&r.type==="mousemove"?(rd=r.screenX-Ro.screenX,od=r.screenY-Ro.screenY):od=rd=0,Ro=r),rd)},movementY:function(r){return"movementY"in r?r.movementY:od}}),o0=bs(kc),aA=d({},kc,{dataTransfer:0}),rA=bs(aA),oA=d({},Eo,{relatedTarget:0}),ld=bs(oA),lA=d({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),cA=bs(lA),uA=d({},ha,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hA=bs(uA),dA=d({},ha,{data:0}),l0=bs(dA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=gA[r])?!!l[r]:!1}function cd(){return pA}var yA=d({},Eo,{key:function(r){if(r.key){var l=fA[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Ac(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mA[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(r){return r.type==="keypress"?Ac(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ac(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xA=bs(yA),bA=d({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=bs(bA),vA=d({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),_A=bs(vA),wA=d({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),SA=bs(wA),CA=d({},kc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),AA=bs(CA),TA=d({},ha,{newState:0,oldState:0}),MA=bs(TA),kA=[9,13,27,32],ud=Zi&&"CompositionEvent"in window,Do=null;Zi&&"documentMode"in document&&(Do=document.documentMode);var EA=Zi&&"TextEvent"in window&&!Do,u0=Zi&&(!ud||Do&&8<Do&&11>=Do),h0=" ",d0=!1;function f0(r,l){switch(r){case"keyup":return kA.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hr=!1;function RA(r,l){switch(r){case"compositionend":return m0(l);case"keypress":return l.which!==32?null:(d0=!0,h0);case"textInput":return r=l.data,r===h0&&d0?null:r;default:return null}}function DA(r,l){if(hr)return r==="compositionend"||!ud&&f0(r,l)?(r=a0(),Cc=ad=Mn=null,hr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return u0&&l.locale!=="ko"?null:l.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!PA[r.type]:l==="textarea"}function p0(r,l,f,g){cr?ur?ur.push(g):ur=[g]:cr=g,l=mu(l,"onChange"),0<l.length&&(f=new Mc("onChange","change",null,f,g),r.push({event:f,listeners:l}))}var Po=null,Bo=null;function BA(r){Kx(r,0)}function Ec(r){var l=To(r);if(Qp(l))return r}function y0(r,l){if(r==="change")return l}var x0=!1;if(Zi){var hd;if(Zi){var dd="oninput"in document;if(!dd){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),dd=typeof b0.oninput=="function"}hd=dd}else hd=!1;x0=hd&&(!document.documentMode||9<document.documentMode)}function v0(){Po&&(Po.detachEvent("onpropertychange",_0),Bo=Po=null)}function _0(r){if(r.propertyName==="value"&&Ec(Bo)){var l=[];p0(l,Bo,r,sd(r)),n0(BA,l)}}function OA(r,l,f){r==="focusin"?(v0(),Po=l,Bo=f,Po.attachEvent("onpropertychange",_0)):r==="focusout"&&v0()}function NA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ec(Bo)}function LA(r,l){if(r==="click")return Ec(l)}function IA(r,l){if(r==="input"||r==="change")return Ec(l)}function zA(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Ps=typeof Object.is=="function"?Object.is:zA;function Oo(r,l){if(Ps(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var f=Object.keys(r),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!ye.call(l,b)||!Ps(r[b],l[b]))return!1}return!0}function w0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function S0(r,l){var f=w0(r);r=0;for(var g;f;){if(f.nodeType===3){if(g=r+f.textContent.length,r<=l&&g>=l)return{node:f,offset:l-r};r=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=w0(f)}}function C0(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?C0(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function A0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=wc(r.document);l instanceof r.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)r=l.contentWindow;else break;l=wc(r.document)}return l}function fd(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var FA=Zi&&"documentMode"in document&&11>=document.documentMode,dr=null,md=null,No=null,gd=!1;function T0(r,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;gd||dr==null||dr!==wc(g)||(g=dr,"selectionStart"in g&&fd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),No&&Oo(No,g)||(No=g,g=mu(md,"onSelect"),0<g.length&&(l=new Mc("onSelect","select",null,l,f),r.push({event:l,listeners:g}),l.target=dr)))}function da(r,l){var f={};return f[r.toLowerCase()]=l.toLowerCase(),f["Webkit"+r]="webkit"+l,f["Moz"+r]="moz"+l,f}var fr={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},pd={},M0={};Zi&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function fa(r){if(pd[r])return pd[r];if(!fr[r])return r;var l=fr[r],f;for(f in l)if(l.hasOwnProperty(f)&&f in M0)return pd[r]=l[f];return r}var k0=fa("animationend"),E0=fa("animationiteration"),R0=fa("animationstart"),jA=fa("transitionrun"),YA=fa("transitionstart"),UA=fa("transitioncancel"),D0=fa("transitionend"),P0=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function gi(r,l){P0.set(r,l),ua(l,[r])}var B0=new WeakMap;function Zs(r,l){if(typeof r=="object"&&r!==null){var f=B0.get(r);return f!==void 0?f:(l={value:r,source:l,stack:$p(l)},B0.set(r,l),l)}return{value:r,source:l,stack:$p(l)}}var Js=[],mr=0,xd=0;function Rc(){for(var r=mr,l=xd=mr=0;l<r;){var f=Js[l];Js[l++]=null;var g=Js[l];Js[l++]=null;var b=Js[l];Js[l++]=null;var C=Js[l];if(Js[l++]=null,g!==null&&b!==null){var P=g.pending;P===null?b.next=b:(b.next=P.next,P.next=b),g.pending=b}C!==0&&O0(f,b,C)}}function Dc(r,l,f,g){Js[mr++]=r,Js[mr++]=l,Js[mr++]=f,Js[mr++]=g,xd|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function bd(r,l,f,g){return Dc(r,l,f,g),Pc(r)}function gr(r,l){return Dc(r,null,null,l),Pc(r)}function O0(r,l,f){r.lanes|=f;var g=r.alternate;g!==null&&(g.lanes|=f);for(var b=!1,C=r.return;C!==null;)C.childLanes|=f,g=C.alternate,g!==null&&(g.childLanes|=f),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(b=!0)),r=C,C=C.return;return r.tag===3?(C=r.stateNode,b&&l!==null&&(b=31-Ds(f),r=C.hiddenUpdates,g=r[b],g===null?r[b]=[l]:g.push(l),l.lane=f|536870912),C):null}function Pc(r){if(50<rl)throw rl=0,Tf=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var pr={};function VA(r,l,f,g){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(r,l,f,g){return new VA(r,l,f,g)}function vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ji(r,l){var f=r.alternate;return f===null?(f=Bs(r.tag,l,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=l,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,l=r.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function N0(r,l){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,l=f.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Bc(r,l,f,g,b,C){var P=0;if(g=r,typeof r=="function")vd(r)&&(P=1);else if(typeof r=="string")P=XT(r,f,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=Bs(31,f,l,b),r.elementType=O,r.lanes=C,r;case x:return ma(f.children,b,C,l);case v:P=8,b|=24;break;case _:return r=Bs(12,f,l,b|2),r.elementType=_,r.lanes=C,r;case R:return r=Bs(13,f,l,b),r.elementType=R,r.lanes=C,r;case E:return r=Bs(19,f,l,b),r.elementType=E,r.lanes=C,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:case w:P=10;break e;case S:P=9;break e;case T:P=11;break e;case D:P=14;break e;case B:P=16,g=null;break e}P=29,f=Error(s(130,r===null?"null":typeof r,"")),g=null}return l=Bs(P,f,l,b),l.elementType=r,l.type=g,l.lanes=C,l}function ma(r,l,f,g){return r=Bs(7,r,g,l),r.lanes=f,r}function _d(r,l,f){return r=Bs(6,r,null,l),r.lanes=f,r}function wd(r,l,f){return l=Bs(4,r.children!==null?r.children:[],r.key,l),l.lanes=f,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var yr=[],xr=0,Oc=null,Nc=0,ei=[],ti=0,ga=null,en=1,tn="";function pa(r,l){yr[xr++]=Nc,yr[xr++]=Oc,Oc=r,Nc=l}function L0(r,l,f){ei[ti++]=en,ei[ti++]=tn,ei[ti++]=ga,ga=r;var g=en;r=tn;var b=32-Ds(g)-1;g&=~(1<<b),f+=1;var C=32-Ds(l)+b;if(30<C){var P=b-b%5;C=(g&(1<<P)-1).toString(32),g>>=P,b-=P,en=1<<32-Ds(l)+b|f<<b|g,tn=C+r}else en=1<<C|f<<b|g,tn=r}function Sd(r){r.return!==null&&(pa(r,1),L0(r,1,0))}function Cd(r){for(;r===Oc;)Oc=yr[--xr],yr[xr]=null,Nc=yr[--xr],yr[xr]=null;for(;r===ga;)ga=ei[--ti],ei[ti]=null,tn=ei[--ti],ei[ti]=null,en=ei[--ti],ei[ti]=null}var ms=null,bt=null,Xe=!1,ya=null,Di=!1,Ad=Error(s(519));function xa(r){var l=Error(s(418,""));throw zo(Zs(l,r)),Ad}function I0(r){var l=r.stateNode,f=r.type,g=r.memoizedProps;switch(l[is]=r,l[xs]=g,f){case"dialog":Pe("cancel",l),Pe("close",l);break;case"iframe":case"object":case"embed":Pe("load",l);break;case"video":case"audio":for(f=0;f<ll.length;f++)Pe(ll[f],l);break;case"source":Pe("error",l);break;case"img":case"image":case"link":Pe("error",l),Pe("load",l);break;case"details":Pe("toggle",l);break;case"input":Pe("invalid",l),Zp(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),_c(l);break;case"select":Pe("invalid",l);break;case"textarea":Pe("invalid",l),e0(l,g.value,g.defaultValue,g.children),_c(l)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||eb(l.textContent,f)?(g.popover!=null&&(Pe("beforetoggle",l),Pe("toggle",l)),g.onScroll!=null&&Pe("scroll",l),g.onScrollEnd!=null&&Pe("scrollend",l),g.onClick!=null&&(l.onclick=gu),l=!0):l=!1,l||xa(r)}function z0(r){for(ms=r.return;ms;)switch(ms.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:ms=ms.return}}function Lo(r){if(r!==ms)return!1;if(!Xe)return z0(r),Xe=!0,!1;var l=r.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||Uf(r.type,r.memoizedProps)),f=!f),f&&bt&&xa(r),z0(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(f=r.data,f==="/$"){if(l===0){bt=yi(r.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;r=r.nextSibling}bt=null}}else l===27?(l=bt,Vn(r.type)?(r=Gf,Gf=null,bt=r):bt=l):bt=ms?yi(r.stateNode.nextSibling):null;return!0}function Io(){bt=ms=null,Xe=!1}function F0(){var r=ya;return r!==null&&(ws===null?ws=r:ws.push.apply(ws,r),ya=null),r}function zo(r){ya===null?ya=[r]:ya.push(r)}var Td=K(null),ba=null,sn=null;function kn(r,l,f){ee(Td,l._currentValue),l._currentValue=f}function nn(r){r._currentValue=Td.current,ae(Td)}function Md(r,l,f){for(;r!==null;){var g=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),r===f)break;r=r.return}}function kd(r,l,f,g){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var C=b.dependencies;if(C!==null){var P=b.child;C=C.firstContext;e:for(;C!==null;){var N=C;C=b;for(var Y=0;Y<l.length;Y++)if(N.context===l[Y]){C.lanes|=f,N=C.alternate,N!==null&&(N.lanes|=f),Md(C.return,f,r),g||(P=null);break e}C=N.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(s(341));P.lanes|=f,C=P.alternate,C!==null&&(C.lanes|=f),Md(P,f,r),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===r){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function Fo(r,l,f,g){r=null;for(var b=l,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(s(387));if(P=P.memoizedProps,P!==null){var N=b.type;Ps(b.pendingProps.value,P.value)||(r!==null?r.push(N):r=[N])}}else if(b===Ye.current){if(P=b.alternate,P===null)throw Error(s(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(ml):r=[ml])}b=b.return}r!==null&&kd(l,r,f,g),l.flags|=262144}function Lc(r){for(r=r.firstContext;r!==null;){if(!Ps(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function va(r){ba=r,sn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ns(r){return j0(ba,r)}function Ic(r,l){return ba===null&&va(r),j0(r,l)}function j0(r,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},sn===null){if(r===null)throw Error(s(308));sn=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else sn=sn.next=l;return f}var HA=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(f,g){r.push(g)}};this.abort=function(){l.aborted=!0,r.forEach(function(f){return f()})}},XA=n.unstable_scheduleCallback,GA=n.unstable_NormalPriority,It={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new HA,data:new Map,refCount:0}}function jo(r){r.refCount--,r.refCount===0&&XA(GA,function(){r.controller.abort()})}var Yo=null,Rd=0,br=0,vr=null;function qA(r,l){if(Yo===null){var f=Yo=[];Rd=0,br=Bf(),vr={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Rd++,l.then(Y0,Y0),l}function Y0(){if(--Rd===0&&Yo!==null){vr!==null&&(vr.status="fulfilled");var r=Yo;Yo=null,br=0,vr=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function WA(r,l){var f=[],g={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return r.then(function(){g.status="fulfilled",g.value=l;for(var b=0;b<f.length;b++)(0,f[b])(l)},function(b){for(g.status="rejected",g.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),g}var U0=I.S;I.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&qA(r,l),U0!==null&&U0(r,l)};var _a=K(null);function Dd(){var r=_a.current;return r!==null?r:rt.pooledCache}function zc(r,l){l===null?ee(_a,_a.current):ee(_a,l.pool)}function V0(){var r=Dd();return r===null?null:{parent:It._currentValue,pool:r}}var Uo=Error(s(460)),H0=Error(s(474)),Fc=Error(s(542)),Pd={then:function(){}};function X0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jc(){}function G0(r,l,f){switch(f=r[f],f===void 0?r.push(l):f!==l&&(l.then(jc,jc),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,W0(r),r;default:if(typeof l.status=="string")l.then(jc,jc);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(g){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=g}},function(g){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,W0(r),r}throw Vo=l,Uo}}var Vo=null;function q0(){if(Vo===null)throw Error(s(459));var r=Vo;return Vo=null,r}function W0(r){if(r===Uo||r===Fc)throw Error(s(483))}var En=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Rn(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Dn(r,l,f){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(qe&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,l=Pc(r),O0(r,null,f),l}return Dc(r,g,l,f),Pc(r)}function Ho(r,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=r.pendingLanes,f|=g,l.lanes=f,Yp(r,f)}}function Nd(r,l){var f=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var P={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?b=C=P:C=C.next=P,f=f.next}while(f!==null);C===null?b=C=l:C=C.next=l}else b=C=l;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=l:r.next=l,f.lastBaseUpdate=l}var Ld=!1;function Xo(){if(Ld){var r=vr;if(r!==null)throw r}}function Go(r,l,f,g){Ld=!1;var b=r.updateQueue;En=!1;var C=b.firstBaseUpdate,P=b.lastBaseUpdate,N=b.shared.pending;if(N!==null){b.shared.pending=null;var Y=N,Q=Y.next;Y.next=null,P===null?C=Q:P.next=Q,P=Y;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,N=ie.lastBaseUpdate,N!==P&&(N===null?ie.firstBaseUpdate=Q:N.next=Q,ie.lastBaseUpdate=Y))}if(C!==null){var le=b.baseState;P=0,ie=Q=Y=null,N=C;do{var J=N.lane&-536870913,te=J!==N.lane;if(te?(je&J)===J:(g&J)===J){J!==0&&J===br&&(Ld=!0),ie!==null&&(ie=ie.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var we=r,ve=N;J=l;var Qe=f;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){le=we.call(Qe,le,J);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,J=typeof we=="function"?we.call(Qe,le,J):we,J==null)break e;le=d({},le,J);break e;case 2:En=!0}}J=N.callback,J!==null&&(r.flags|=64,te&&(r.flags|=8192),te=b.callbacks,te===null?b.callbacks=[J]:te.push(J))}else te={lane:J,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ie===null?(Q=ie=te,Y=le):ie=ie.next=te,P|=J;if(N=N.next,N===null){if(N=b.shared.pending,N===null)break;te=N,N=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);ie===null&&(Y=le),b.baseState=Y,b.firstBaseUpdate=Q,b.lastBaseUpdate=ie,C===null&&(b.shared.lanes=0),Fn|=P,r.lanes=P,r.memoizedState=le}}function $0(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function K0(r,l){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)$0(f[r],l)}var _r=K(null),Yc=K(0);function Q0(r,l){r=hn,ee(Yc,r),ee(_r,l),hn=r|l.baseLanes}function Id(){ee(Yc,hn),ee(_r,_r.current)}function zd(){hn=Yc.current,ae(_r),ae(Yc)}var Pn=0,Me=null,$e=null,Pt=null,Uc=!1,wr=!1,wa=!1,Vc=0,qo=0,Sr=null,$A=0;function Mt(){throw Error(s(321))}function Fd(r,l){if(l===null)return!1;for(var f=0;f<l.length&&f<r.length;f++)if(!Ps(r[f],l[f]))return!1;return!0}function jd(r,l,f,g,b,C){return Pn=C,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=r===null||r.memoizedState===null?Oy:Ny,wa=!1,C=f(g,b),wa=!1,wr&&(C=J0(l,f,g,b)),Z0(r),C}function Z0(r){I.H=$c;var l=$e!==null&&$e.next!==null;if(Pn=0,Pt=$e=Me=null,Uc=!1,qo=0,Sr=null,l)throw Error(s(300));r===null||Ut||(r=r.dependencies,r!==null&&Lc(r)&&(Ut=!0))}function J0(r,l,f,g){Me=r;var b=0;do{if(wr&&(Sr=null),qo=0,wr=!1,25<=b)throw Error(s(301));if(b+=1,Pt=$e=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}I.H=sT,C=l(f,g)}while(wr);return C}function KA(){var r=I.H,l=r.useState()[0];return l=typeof l.then=="function"?Wo(l):l,r=r.useState()[0],($e!==null?$e.memoizedState:null)!==r&&(Me.flags|=1024),l}function Yd(){var r=Vc!==0;return Vc=0,r}function Ud(r,l,f){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~f}function Vd(r){if(Uc){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Uc=!1}Pn=0,Pt=$e=Me=null,wr=!1,qo=Vc=0,Sr=null}function vs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Me.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Bt(){if($e===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=$e.next;var l=Pt===null?Me.memoizedState:Pt.next;if(l!==null)Pt=l,$e=r;else{if(r===null)throw Me.alternate===null?Error(s(467)):Error(s(310));$e=r,r={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Pt===null?Me.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(r){var l=qo;return qo+=1,Sr===null&&(Sr=[]),r=G0(Sr,r,l),l=Me,(Pt===null?l.memoizedState:Pt.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?Oy:Ny),r}function Hc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wo(r);if(r.$$typeof===w)return ns(r)}throw Error(s(438,String(r)))}function Xd(r){var l=null,f=Me.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=Me.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Hd(),Me.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(r),g=0;g<r;g++)f[g]=L;return l.index++,f}function an(r,l){return typeof l=="function"?l(r):l}function Xc(r){var l=Bt();return Gd(l,$e,r)}function Gd(r,l,f){var g=r.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=f;var b=r.baseQueue,C=g.pending;if(C!==null){if(b!==null){var P=b.next;b.next=C.next,C.next=P}l.baseQueue=b=C,g.pending=null}if(C=r.baseState,b===null)r.memoizedState=C;else{l=b.next;var N=P=null,Y=null,Q=l,ie=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(je&le)===le:(Pn&le)===le){var J=Q.revertLane;if(J===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===br&&(ie=!0);else if((Pn&J)===J){Q=Q.next,J===br&&(ie=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},Y===null?(N=Y=le,P=C):Y=Y.next=le,Me.lanes|=J,Fn|=J;le=Q.action,wa&&f(C,le),C=Q.hasEagerState?Q.eagerState:f(C,le)}else J={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},Y===null?(N=Y=J,P=C):Y=Y.next=J,Me.lanes|=le,Fn|=le;Q=Q.next}while(Q!==null&&Q!==l);if(Y===null?P=C:Y.next=N,!Ps(C,r.memoizedState)&&(Ut=!0,ie&&(f=vr,f!==null)))throw f;r.memoizedState=C,r.baseState=P,r.baseQueue=Y,g.lastRenderedState=C}return b===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function qd(r){var l=Bt(),f=l.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=r;var g=f.dispatch,b=f.pending,C=l.memoizedState;if(b!==null){f.pending=null;var P=b=b.next;do C=r(C,P.action),P=P.next;while(P!==b);Ps(C,l.memoizedState)||(Ut=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),f.lastRenderedState=C}return[C,g]}function ey(r,l,f){var g=Me,b=Bt(),C=Xe;if(C){if(f===void 0)throw Error(s(407));f=f()}else f=l();var P=!Ps(($e||b).memoizedState,f);P&&(b.memoizedState=f,Ut=!0),b=b.queue;var N=iy.bind(null,g,b,r);if($o(2048,8,N,[r]),b.getSnapshot!==l||P||Pt!==null&&Pt.memoizedState.tag&1){if(g.flags|=2048,Cr(9,Gc(),sy.bind(null,g,b,f,l),null),rt===null)throw Error(s(349));C||(Pn&124)!==0||ty(g,l,f)}return f}function ty(r,l,f){r.flags|=16384,r={getSnapshot:l,value:f},l=Me.updateQueue,l===null?(l=Hd(),Me.updateQueue=l,l.stores=[r]):(f=l.stores,f===null?l.stores=[r]:f.push(r))}function sy(r,l,f,g){l.value=f,l.getSnapshot=g,ny(l)&&ay(r)}function iy(r,l,f){return f(function(){ny(l)&&ay(r)})}function ny(r){var l=r.getSnapshot;r=r.value;try{var f=l();return!Ps(r,f)}catch{return!0}}function ay(r){var l=gr(r,2);l!==null&&zs(l,r,2)}function Wd(r){var l=vs();if(typeof r=="function"){var f=r;if(r=f(),wa){An(!0);try{f()}finally{An(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:r},l}function ry(r,l,f,g){return r.baseState=f,Gd(r,$e,typeof g=="function"?g:an)}function QA(r,l,f,g,b){if(Wc(r))throw Error(s(485));if(r=l.action,r!==null){var C={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};I.T!==null?f(!0):C.isTransition=!1,g(C),f=l.pending,f===null?(C.next=l.pending=C,oy(l,C)):(C.next=f.next,l.pending=f.next=C)}}function oy(r,l){var f=l.action,g=l.payload,b=r.state;if(l.isTransition){var C=I.T,P={};I.T=P;try{var N=f(b,g),Y=I.S;Y!==null&&Y(P,N),ly(r,l,N)}catch(Q){$d(r,l,Q)}finally{I.T=C}}else try{C=f(b,g),ly(r,l,C)}catch(Q){$d(r,l,Q)}}function ly(r,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){cy(r,l,g)},function(g){return $d(r,l,g)}):cy(r,l,f)}function cy(r,l,f){l.status="fulfilled",l.value=f,uy(l),r.state=f,l=r.pending,l!==null&&(f=l.next,f===l?r.pending=null:(f=f.next,l.next=f,oy(r,f)))}function $d(r,l,f){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,uy(l),l=l.next;while(l!==g)}r.action=null}function uy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function hy(r,l){return l}function dy(r,l){if(Xe){var f=rt.formState;if(f!==null){e:{var g=Me;if(Xe){if(bt){t:{for(var b=bt,C=Di;b.nodeType!==8;){if(!C){b=null;break t}if(b=yi(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){bt=yi(b.nextSibling),g=b.data==="F!";break e}}xa(g)}g=!1}g&&(l=f[0])}}return f=vs(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:l},f.queue=g,f=Dy.bind(null,Me,g),g.dispatch=f,g=Wd(!1),C=ef.bind(null,Me,!1,g.queue),g=vs(),b={state:l,dispatch:null,action:r,pending:null},g.queue=b,f=QA.bind(null,Me,b,C,f),b.dispatch=f,g.memoizedState=r,[l,f,!1]}function fy(r){var l=Bt();return my(l,$e,r)}function my(r,l,f){if(l=Gd(r,l,hy)[0],r=Xc(an)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Wo(l)}catch(P){throw P===Uo?Fc:P}else g=l;l=Bt();var b=l.queue,C=b.dispatch;return f!==l.memoizedState&&(Me.flags|=2048,Cr(9,Gc(),ZA.bind(null,b,f),null)),[g,C,r]}function ZA(r,l){r.action=l}function gy(r){var l=Bt(),f=$e;if(f!==null)return my(l,f,r);Bt(),l=l.memoizedState,f=Bt();var g=f.queue.dispatch;return f.memoizedState=r,[l,g,!1]}function Cr(r,l,f,g){return r={tag:r,create:f,deps:g,inst:l,next:null},l=Me.updateQueue,l===null&&(l=Hd(),Me.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=r.next=r:(g=f.next,f.next=r,r.next=g,l.lastEffect=r),r}function Gc(){return{destroy:void 0,resource:void 0}}function py(){return Bt().memoizedState}function qc(r,l,f,g){var b=vs();g=g===void 0?null:g,Me.flags|=r,b.memoizedState=Cr(1|l,Gc(),f,g)}function $o(r,l,f,g){var b=Bt();g=g===void 0?null:g;var C=b.memoizedState.inst;$e!==null&&g!==null&&Fd(g,$e.memoizedState.deps)?b.memoizedState=Cr(l,C,f,g):(Me.flags|=r,b.memoizedState=Cr(1|l,C,f,g))}function yy(r,l){qc(8390656,8,r,l)}function xy(r,l){$o(2048,8,r,l)}function by(r,l){return $o(4,2,r,l)}function vy(r,l){return $o(4,4,r,l)}function _y(r,l){if(typeof l=="function"){r=r();var f=l(r);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function wy(r,l,f){f=f!=null?f.concat([r]):null,$o(4,4,_y.bind(null,l,r),f)}function Kd(){}function Sy(r,l){var f=Bt();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&Fd(l,g[1])?g[0]:(f.memoizedState=[r,l],r)}function Cy(r,l){var f=Bt();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&Fd(l,g[1]))return g[0];if(g=r(),wa){An(!0);try{r()}finally{An(!1)}}return f.memoizedState=[g,l],g}function Qd(r,l,f){return f===void 0||(Pn&1073741824)!==0?r.memoizedState=l:(r.memoizedState=f,r=Mx(),Me.lanes|=r,Fn|=r,f)}function Ay(r,l,f,g){return Ps(f,l)?f:_r.current!==null?(r=Qd(r,f,g),Ps(r,l)||(Ut=!0),r):(Pn&42)===0?(Ut=!0,r.memoizedState=f):(r=Mx(),Me.lanes|=r,Fn|=r,l)}function Ty(r,l,f,g,b){var C=U.p;U.p=C!==0&&8>C?C:8;var P=I.T,N={};I.T=N,ef(r,!1,l,f);try{var Y=b(),Q=I.S;if(Q!==null&&Q(N,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=WA(Y,g);Ko(r,l,ie,Is(r))}else Ko(r,l,g,Is(r))}catch(le){Ko(r,l,{then:function(){},status:"rejected",reason:le},Is())}finally{U.p=C,I.T=P}}function JA(){}function Zd(r,l,f,g){if(r.tag!==5)throw Error(s(476));var b=My(r).queue;Ty(r,b,l,ne,f===null?JA:function(){return ky(r),f(g)})}function My(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:ne},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:f},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function ky(r){var l=My(r).next.queue;Ko(r,l,{},Is())}function Jd(){return ns(ml)}function Ey(){return Bt().memoizedState}function Ry(){return Bt().memoizedState}function eT(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var f=Is();r=Rn(f);var g=Dn(l,r,f);g!==null&&(zs(g,l,f),Ho(g,l,f)),l={cache:Ed()},r.payload=l;return}l=l.return}}function tT(r,l,f){var g=Is();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Wc(r)?Py(l,f):(f=bd(r,l,f,g),f!==null&&(zs(f,r,g),By(f,l,g)))}function Dy(r,l,f){var g=Is();Ko(r,l,f,g)}function Ko(r,l,f,g){var b={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Wc(r))Py(l,b);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var P=l.lastRenderedState,N=C(P,f);if(b.hasEagerState=!0,b.eagerState=N,Ps(N,P))return Dc(r,l,b,0),rt===null&&Rc(),!1}catch{}finally{}if(f=bd(r,l,b,g),f!==null)return zs(f,r,g),By(f,l,g),!0}return!1}function ef(r,l,f,g){if(g={lane:2,revertLane:Bf(),action:g,hasEagerState:!1,eagerState:null,next:null},Wc(r)){if(l)throw Error(s(479))}else l=bd(r,f,g,2),l!==null&&zs(l,r,2)}function Wc(r){var l=r.alternate;return r===Me||l!==null&&l===Me}function Py(r,l){wr=Uc=!0;var f=r.pending;f===null?l.next=l:(l.next=f.next,f.next=l),r.pending=l}function By(r,l,f){if((f&4194048)!==0){var g=l.lanes;g&=r.pendingLanes,f|=g,l.lanes=f,Yp(r,f)}}var $c={readContext:ns,use:Hc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},Oy={readContext:ns,use:Hc,useCallback:function(r,l){return vs().memoizedState=[r,l===void 0?null:l],r},useContext:ns,useEffect:yy,useImperativeHandle:function(r,l,f){f=f!=null?f.concat([r]):null,qc(4194308,4,_y.bind(null,l,r),f)},useLayoutEffect:function(r,l){return qc(4194308,4,r,l)},useInsertionEffect:function(r,l){qc(4,2,r,l)},useMemo:function(r,l){var f=vs();l=l===void 0?null:l;var g=r();if(wa){An(!0);try{r()}finally{An(!1)}}return f.memoizedState=[g,l],g},useReducer:function(r,l,f){var g=vs();if(f!==void 0){var b=f(l);if(wa){An(!0);try{f(l)}finally{An(!1)}}}else b=l;return g.memoizedState=g.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},g.queue=r,r=r.dispatch=tT.bind(null,Me,r),[g.memoizedState,r]},useRef:function(r){var l=vs();return r={current:r},l.memoizedState=r},useState:function(r){r=Wd(r);var l=r.queue,f=Dy.bind(null,Me,l);return l.dispatch=f,[r.memoizedState,f]},useDebugValue:Kd,useDeferredValue:function(r,l){var f=vs();return Qd(f,r,l)},useTransition:function(){var r=Wd(!1);return r=Ty.bind(null,Me,r.queue,!0,!1),vs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,f){var g=Me,b=vs();if(Xe){if(f===void 0)throw Error(s(407));f=f()}else{if(f=l(),rt===null)throw Error(s(349));(je&124)!==0||ty(g,l,f)}b.memoizedState=f;var C={value:f,getSnapshot:l};return b.queue=C,yy(iy.bind(null,g,C,r),[r]),g.flags|=2048,Cr(9,Gc(),sy.bind(null,g,C,f,l),null),f},useId:function(){var r=vs(),l=rt.identifierPrefix;if(Xe){var f=tn,g=en;f=(g&~(1<<32-Ds(g)-1)).toString(32)+f,l="«"+l+"R"+f,f=Vc++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=$A++,l="«"+l+"r"+f.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Jd,useFormState:dy,useActionState:dy,useOptimistic:function(r){var l=vs();l.memoizedState=l.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=ef.bind(null,Me,!0,f),f.dispatch=l,[r,l]},useMemoCache:Xd,useCacheRefresh:function(){return vs().memoizedState=eT.bind(null,Me)}},Ny={readContext:ns,use:Hc,useCallback:Sy,useContext:ns,useEffect:xy,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:vy,useMemo:Cy,useReducer:Xc,useRef:py,useState:function(){return Xc(an)},useDebugValue:Kd,useDeferredValue:function(r,l){var f=Bt();return Ay(f,$e.memoizedState,r,l)},useTransition:function(){var r=Xc(an)[0],l=Bt().memoizedState;return[typeof r=="boolean"?r:Wo(r),l]},useSyncExternalStore:ey,useId:Ey,useHostTransitionStatus:Jd,useFormState:fy,useActionState:fy,useOptimistic:function(r,l){var f=Bt();return ry(f,$e,r,l)},useMemoCache:Xd,useCacheRefresh:Ry},sT={readContext:ns,use:Hc,useCallback:Sy,useContext:ns,useEffect:xy,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:vy,useMemo:Cy,useReducer:qd,useRef:py,useState:function(){return qd(an)},useDebugValue:Kd,useDeferredValue:function(r,l){var f=Bt();return $e===null?Qd(f,r,l):Ay(f,$e.memoizedState,r,l)},useTransition:function(){var r=qd(an)[0],l=Bt().memoizedState;return[typeof r=="boolean"?r:Wo(r),l]},useSyncExternalStore:ey,useId:Ey,useHostTransitionStatus:Jd,useFormState:gy,useActionState:gy,useOptimistic:function(r,l){var f=Bt();return $e!==null?ry(f,$e,r,l):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:Ry},Ar=null,Qo=0;function Kc(r){var l=Qo;return Qo+=1,Ar===null&&(Ar=[]),G0(Ar,r,l)}function Zo(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Qc(r,l){throw l.$$typeof===m?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ly(r){var l=r._init;return l(r._payload)}function Iy(r){function l(q,V){if(r){var $=q.deletions;$===null?(q.deletions=[V],q.flags|=16):$.push(V)}}function f(q,V){if(!r)return null;for(;V!==null;)l(q,V),V=V.sibling;return null}function g(q){for(var V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function b(q,V){return q=Ji(q,V),q.index=0,q.sibling=null,q}function C(q,V,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<V?(q.flags|=67108866,V):$):(q.flags|=67108866,V)):(q.flags|=1048576,V)}function P(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function N(q,V,$,re){return V===null||V.tag!==6?(V=_d($,q.mode,re),V.return=q,V):(V=b(V,$),V.return=q,V)}function Y(q,V,$,re){var me=$.type;return me===x?ie(q,V,$.props.children,re,$.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===B&&Ly(me)===V.type)?(V=b(V,$.props),Zo(V,$),V.return=q,V):(V=Bc($.type,$.key,$.props,null,q.mode,re),Zo(V,$),V.return=q,V)}function Q(q,V,$,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=wd($,q.mode,re),V.return=q,V):(V=b(V,$.children||[]),V.return=q,V)}function ie(q,V,$,re,me){return V===null||V.tag!==7?(V=ma($,q.mode,re,me),V.return=q,V):(V=b(V,$),V.return=q,V)}function le(q,V,$){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=_d(""+V,q.mode,$),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return $=Bc(V.type,V.key,V.props,null,q.mode,$),Zo($,V),$.return=q,$;case p:return V=wd(V,q.mode,$),V.return=q,V;case B:var re=V._init;return V=re(V._payload),le(q,V,$)}if(W(V)||H(V))return V=ma(V,q.mode,$,null),V.return=q,V;if(typeof V.then=="function")return le(q,Kc(V),$);if(V.$$typeof===w)return le(q,Ic(q,V),$);Qc(q,V)}return null}function J(q,V,$,re){var me=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:N(q,V,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return $.key===me?Y(q,V,$,re):null;case p:return $.key===me?Q(q,V,$,re):null;case B:return me=$._init,$=me($._payload),J(q,V,$,re)}if(W($)||H($))return me!==null?null:ie(q,V,$,re,null);if(typeof $.then=="function")return J(q,V,Kc($),re);if($.$$typeof===w)return J(q,V,Ic(q,$),re);Qc(q,$)}return null}function te(q,V,$,re,me){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get($)||null,N(V,q,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return q=q.get(re.key===null?$:re.key)||null,Y(V,q,re,me);case p:return q=q.get(re.key===null?$:re.key)||null,Q(V,q,re,me);case B:var Ee=re._init;return re=Ee(re._payload),te(q,V,$,re,me)}if(W(re)||H(re))return q=q.get($)||null,ie(V,q,re,me,null);if(typeof re.then=="function")return te(q,V,$,Kc(re),me);if(re.$$typeof===w)return te(q,V,$,Ic(V,re),me);Qc(V,re)}return null}function we(q,V,$,re){for(var me=null,Ee=null,xe=V,_e=V=0,Ht=null;xe!==null&&_e<$.length;_e++){xe.index>_e?(Ht=xe,xe=null):Ht=xe.sibling;var He=J(q,xe,$[_e],re);if(He===null){xe===null&&(xe=Ht);break}r&&xe&&He.alternate===null&&l(q,xe),V=C(He,V,_e),Ee===null?me=He:Ee.sibling=He,Ee=He,xe=Ht}if(_e===$.length)return f(q,xe),Xe&&pa(q,_e),me;if(xe===null){for(;_e<$.length;_e++)xe=le(q,$[_e],re),xe!==null&&(V=C(xe,V,_e),Ee===null?me=xe:Ee.sibling=xe,Ee=xe);return Xe&&pa(q,_e),me}for(xe=g(xe);_e<$.length;_e++)Ht=te(xe,q,_e,$[_e],re),Ht!==null&&(r&&Ht.alternate!==null&&xe.delete(Ht.key===null?_e:Ht.key),V=C(Ht,V,_e),Ee===null?me=Ht:Ee.sibling=Ht,Ee=Ht);return r&&xe.forEach(function(Wn){return l(q,Wn)}),Xe&&pa(q,_e),me}function ve(q,V,$,re){if($==null)throw Error(s(151));for(var me=null,Ee=null,xe=V,_e=V=0,Ht=null,He=$.next();xe!==null&&!He.done;_e++,He=$.next()){xe.index>_e?(Ht=xe,xe=null):Ht=xe.sibling;var Wn=J(q,xe,He.value,re);if(Wn===null){xe===null&&(xe=Ht);break}r&&xe&&Wn.alternate===null&&l(q,xe),V=C(Wn,V,_e),Ee===null?me=Wn:Ee.sibling=Wn,Ee=Wn,xe=Ht}if(He.done)return f(q,xe),Xe&&pa(q,_e),me;if(xe===null){for(;!He.done;_e++,He=$.next())He=le(q,He.value,re),He!==null&&(V=C(He,V,_e),Ee===null?me=He:Ee.sibling=He,Ee=He);return Xe&&pa(q,_e),me}for(xe=g(xe);!He.done;_e++,He=$.next())He=te(xe,q,_e,He.value,re),He!==null&&(r&&He.alternate!==null&&xe.delete(He.key===null?_e:He.key),V=C(He,V,_e),Ee===null?me=He:Ee.sibling=He,Ee=He);return r&&xe.forEach(function(iM){return l(q,iM)}),Xe&&pa(q,_e),me}function Qe(q,V,$,re){if(typeof $=="object"&&$!==null&&$.type===x&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case y:e:{for(var me=$.key;V!==null;){if(V.key===me){if(me=$.type,me===x){if(V.tag===7){f(q,V.sibling),re=b(V,$.props.children),re.return=q,q=re;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===B&&Ly(me)===V.type){f(q,V.sibling),re=b(V,$.props),Zo(re,$),re.return=q,q=re;break e}f(q,V);break}else l(q,V);V=V.sibling}$.type===x?(re=ma($.props.children,q.mode,re,$.key),re.return=q,q=re):(re=Bc($.type,$.key,$.props,null,q.mode,re),Zo(re,$),re.return=q,q=re)}return P(q);case p:e:{for(me=$.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){f(q,V.sibling),re=b(V,$.children||[]),re.return=q,q=re;break e}else{f(q,V);break}else l(q,V);V=V.sibling}re=wd($,q.mode,re),re.return=q,q=re}return P(q);case B:return me=$._init,$=me($._payload),Qe(q,V,$,re)}if(W($))return we(q,V,$,re);if(H($)){if(me=H($),typeof me!="function")throw Error(s(150));return $=me.call($),ve(q,V,$,re)}if(typeof $.then=="function")return Qe(q,V,Kc($),re);if($.$$typeof===w)return Qe(q,V,Ic(q,$),re);Qc(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,V!==null&&V.tag===6?(f(q,V.sibling),re=b(V,$),re.return=q,q=re):(f(q,V),re=_d($,q.mode,re),re.return=q,q=re),P(q)):f(q,V)}return function(q,V,$,re){try{Qo=0;var me=Qe(q,V,$,re);return Ar=null,me}catch(xe){if(xe===Uo||xe===Fc)throw xe;var Ee=Bs(29,xe,null,q.mode);return Ee.lanes=re,Ee.return=q,Ee}finally{}}}var Tr=Iy(!0),zy=Iy(!1),si=K(null),Pi=null;function Bn(r){var l=r.alternate;ee(zt,zt.current&1),ee(si,r),Pi===null&&(l===null||_r.current!==null||l.memoizedState!==null)&&(Pi=r)}function Fy(r){if(r.tag===22){if(ee(zt,zt.current),ee(si,r),Pi===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(Pi=r)}}else On()}function On(){ee(zt,zt.current),ee(si,si.current)}function rn(r){ae(si),Pi===r&&(Pi=null),ae(zt)}var zt=K(0);function Zc(r){for(var l=r;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Xf(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function tf(r,l,f,g){l=r.memoizedState,f=f(g,l),f=f==null?l:d({},l,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var sf={enqueueSetState:function(r,l,f){r=r._reactInternals;var g=Is(),b=Rn(g);b.payload=l,f!=null&&(b.callback=f),l=Dn(r,b,g),l!==null&&(zs(l,r,g),Ho(l,r,g))},enqueueReplaceState:function(r,l,f){r=r._reactInternals;var g=Is(),b=Rn(g);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=Dn(r,b,g),l!==null&&(zs(l,r,g),Ho(l,r,g))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var f=Is(),g=Rn(f);g.tag=2,l!=null&&(g.callback=l),l=Dn(r,g,f),l!==null&&(zs(l,r,f),Ho(l,r,f))}};function jy(r,l,f,g,b,C,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,C,P):l.prototype&&l.prototype.isPureReactComponent?!Oo(f,g)||!Oo(b,C):!0}function Yy(r,l,f,g){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==r&&sf.enqueueReplaceState(l,l.state,null)}function Sa(r,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(r=r.defaultProps){f===l&&(f=d({},f));for(var b in r)f[b]===void 0&&(f[b]=r[b])}return f}var Jc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Uy(r){Jc(r)}function Vy(r){console.error(r)}function Hy(r){Jc(r)}function eu(r,l){try{var f=r.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function Xy(r,l,f){try{var g=r.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function nf(r,l,f){return f=Rn(f),f.tag=3,f.payload={element:null},f.callback=function(){eu(r,l)},f}function Gy(r){return r=Rn(r),r.tag=3,r}function qy(r,l,f,g){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var C=g.value;r.payload=function(){return b(C)},r.callback=function(){Xy(l,f,g)}}var P=f.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(r.callback=function(){Xy(l,f,g),typeof b!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var N=g.stack;this.componentDidCatch(g.value,{componentStack:N!==null?N:""})})}function iT(r,l,f,g,b){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&Fo(l,f,b,!0),f=si.current,f!==null){switch(f.tag){case 13:return Pi===null?kf():f.alternate===null&&vt===0&&(vt=3),f.flags&=-257,f.flags|=65536,f.lanes=b,g===Pd?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),Rf(r,g,b)),!1;case 22:return f.flags|=65536,g===Pd?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),Rf(r,g,b)),!1}throw Error(s(435,f.tag))}return Rf(r,g,b),kf(),!1}if(Xe)return l=si.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,g!==Ad&&(r=Error(s(422),{cause:g}),zo(Zs(r,f)))):(g!==Ad&&(l=Error(s(423),{cause:g}),zo(Zs(l,f))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,g=Zs(g,f),b=nf(r.stateNode,g,b),Nd(r,b),vt!==4&&(vt=2)),!1;var C=Error(s(520),{cause:g});if(C=Zs(C,f),al===null?al=[C]:al.push(C),vt!==4&&(vt=2),l===null)return!0;g=Zs(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,r=b&-b,f.lanes|=r,r=nf(f.stateNode,g,r),Nd(f,r),!1;case 1:if(l=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jn===null||!jn.has(C))))return f.flags|=65536,b&=-b,f.lanes|=b,b=Gy(b),qy(b,r,f,g),Nd(f,b),!1}f=f.return}while(f!==null);return!1}var Wy=Error(s(461)),Ut=!1;function Kt(r,l,f,g){l.child=r===null?zy(l,null,f,g):Tr(l,r.child,f,g)}function $y(r,l,f,g,b){f=f.render;var C=l.ref;if("ref"in g){var P={};for(var N in g)N!=="ref"&&(P[N]=g[N])}else P=g;return va(l),g=jd(r,l,f,P,C,b),N=Yd(),r!==null&&!Ut?(Ud(r,l,b),on(r,l,b)):(Xe&&N&&Sd(l),l.flags|=1,Kt(r,l,g,b),l.child)}function Ky(r,l,f,g,b){if(r===null){var C=f.type;return typeof C=="function"&&!vd(C)&&C.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=C,Qy(r,l,C,g,b)):(r=Bc(f.type,null,g,l,l.mode,b),r.ref=l.ref,r.return=l,l.child=r)}if(C=r.child,!df(r,b)){var P=C.memoizedProps;if(f=f.compare,f=f!==null?f:Oo,f(P,g)&&r.ref===l.ref)return on(r,l,b)}return l.flags|=1,r=Ji(C,g),r.ref=l.ref,r.return=l,l.child=r}function Qy(r,l,f,g,b){if(r!==null){var C=r.memoizedProps;if(Oo(C,g)&&r.ref===l.ref)if(Ut=!1,l.pendingProps=g=C,df(r,b))(r.flags&131072)!==0&&(Ut=!0);else return l.lanes=r.lanes,on(r,l,b)}return af(r,l,f,g,b)}function Zy(r,l,f){var g=l.pendingProps,b=g.children,C=r!==null?r.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=C!==null?C.baseLanes|f:f,r!==null){for(b=l.child=r.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;l.childLanes=C&~g}else l.childLanes=0,l.child=null;return Jy(r,l,g,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&zc(l,C!==null?C.cachePool:null),C!==null?Q0(l,C):Id(),Fy(l);else return l.lanes=l.childLanes=536870912,Jy(r,l,C!==null?C.baseLanes|f:f,f)}else C!==null?(zc(l,C.cachePool),Q0(l,C),On(),l.memoizedState=null):(r!==null&&zc(l,null),Id(),On());return Kt(r,l,b,f),l.child}function Jy(r,l,f,g){var b=Dd();return b=b===null?null:{parent:It._currentValue,pool:b},l.memoizedState={baseLanes:f,cachePool:b},r!==null&&zc(l,null),Id(),Fy(l),r!==null&&Fo(r,l,g,!0),null}function tu(r,l){var f=l.ref;if(f===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(s(284));(r===null||r.ref!==f)&&(l.flags|=4194816)}}function af(r,l,f,g,b){return va(l),f=jd(r,l,f,g,void 0,b),g=Yd(),r!==null&&!Ut?(Ud(r,l,b),on(r,l,b)):(Xe&&g&&Sd(l),l.flags|=1,Kt(r,l,f,b),l.child)}function ex(r,l,f,g,b,C){return va(l),l.updateQueue=null,f=J0(l,g,f,b),Z0(r),g=Yd(),r!==null&&!Ut?(Ud(r,l,C),on(r,l,C)):(Xe&&g&&Sd(l),l.flags|=1,Kt(r,l,f,C),l.child)}function tx(r,l,f,g,b){if(va(l),l.stateNode===null){var C=pr,P=f.contextType;typeof P=="object"&&P!==null&&(C=ns(P)),C=new f(g,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=sf,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=g,C.state=l.memoizedState,C.refs={},Bd(l),P=f.contextType,C.context=typeof P=="object"&&P!==null?ns(P):pr,C.state=l.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(tf(l,f,P,g),C.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&sf.enqueueReplaceState(C,C.state,null),Go(l,g,C,b),Xo(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(r===null){C=l.stateNode;var N=l.memoizedProps,Y=Sa(f,N);C.props=Y;var Q=C.context,ie=f.contextType;P=pr,typeof ie=="object"&&ie!==null&&(P=ns(ie));var le=f.getDerivedStateFromProps;ie=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(N||Q!==P)&&Yy(l,C,g,P),En=!1;var J=l.memoizedState;C.state=J,Go(l,g,C,b),Xo(),Q=l.memoizedState,N||J!==Q||En?(typeof le=="function"&&(tf(l,f,le,g),Q=l.memoizedState),(Y=En||jy(l,f,Y,g,J,Q,P))?(ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=Q),C.props=g,C.state=Q,C.context=P,g=Y):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,Od(r,l),P=l.memoizedProps,ie=Sa(f,P),C.props=ie,le=l.pendingProps,J=C.context,Q=f.contextType,Y=pr,typeof Q=="object"&&Q!==null&&(Y=ns(Q)),N=f.getDerivedStateFromProps,(Q=typeof N=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==le||J!==Y)&&Yy(l,C,g,Y),En=!1,J=l.memoizedState,C.state=J,Go(l,g,C,b),Xo();var te=l.memoizedState;P!==le||J!==te||En||r!==null&&r.dependencies!==null&&Lc(r.dependencies)?(typeof N=="function"&&(tf(l,f,N,g),te=l.memoizedState),(ie=En||jy(l,f,ie,g,J,te,Y)||r!==null&&r.dependencies!==null&&Lc(r.dependencies))?(Q||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,te,Y),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,te,Y)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=te),C.props=g,C.state=te,C.context=Y,g=ie):(typeof C.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(l.flags|=1024),g=!1)}return C=g,tu(r,l),g=(l.flags&128)!==0,C||g?(C=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,r!==null&&g?(l.child=Tr(l,r.child,null,b),l.child=Tr(l,null,f,b)):Kt(r,l,f,b),l.memoizedState=C.state,r=l.child):r=on(r,l,b),r}function sx(r,l,f,g){return Io(),l.flags|=256,Kt(r,l,f,g),l.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(r){return{baseLanes:r,cachePool:V0()}}function lf(r,l,f){return r=r!==null?r.childLanes&~f:0,l&&(r|=ii),r}function ix(r,l,f){var g=l.pendingProps,b=!1,C=(l.flags&128)!==0,P;if((P=C)||(P=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),P&&(b=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,r===null){if(Xe){if(b?Bn(l):On(),Xe){var N=bt,Y;if(Y=N){e:{for(Y=N,N=Di;Y.nodeType!==8;){if(!N){N=null;break e}if(Y=yi(Y.nextSibling),Y===null){N=null;break e}}N=Y}N!==null?(l.memoizedState={dehydrated:N,treeContext:ga!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},Y=Bs(18,null,null,0),Y.stateNode=N,Y.return=l,l.child=Y,ms=l,bt=null,Y=!0):Y=!1}Y||xa(l)}if(N=l.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Xf(N)?l.lanes=32:l.lanes=536870912,null;rn(l)}return N=g.children,g=g.fallback,b?(On(),b=l.mode,N=su({mode:"hidden",children:N},b),g=ma(g,b,f,null),N.return=l,g.return=l,N.sibling=g,l.child=N,b=l.child,b.memoizedState=of(f),b.childLanes=lf(r,P,f),l.memoizedState=rf,g):(Bn(l),cf(l,N))}if(Y=r.memoizedState,Y!==null&&(N=Y.dehydrated,N!==null)){if(C)l.flags&256?(Bn(l),l.flags&=-257,l=uf(r,l,f)):l.memoizedState!==null?(On(),l.child=r.child,l.flags|=128,l=null):(On(),b=g.fallback,N=l.mode,g=su({mode:"visible",children:g.children},N),b=ma(b,N,f,null),b.flags|=2,g.return=l,b.return=l,g.sibling=b,l.child=g,Tr(l,r.child,null,f),g=l.child,g.memoizedState=of(f),g.childLanes=lf(r,P,f),l.memoizedState=rf,l=b);else if(Bn(l),Xf(N)){if(P=N.nextSibling&&N.nextSibling.dataset,P)var Q=P.dgst;P=Q,g=Error(s(419)),g.stack="",g.digest=P,zo({value:g,source:null,stack:null}),l=uf(r,l,f)}else if(Ut||Fo(r,l,f,!1),P=(f&r.childLanes)!==0,Ut||P){if(P=rt,P!==null&&(g=f&-f,g=(g&42)!==0?1:Xh(g),g=(g&(P.suspendedLanes|f))!==0?0:g,g!==0&&g!==Y.retryLane))throw Y.retryLane=g,gr(r,g),zs(P,r,g),Wy;N.data==="$?"||kf(),l=uf(r,l,f)}else N.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=Y.treeContext,bt=yi(N.nextSibling),ms=l,Xe=!0,ya=null,Di=!1,r!==null&&(ei[ti++]=en,ei[ti++]=tn,ei[ti++]=ga,en=r.id,tn=r.overflow,ga=l),l=cf(l,g.children),l.flags|=4096);return l}return b?(On(),b=g.fallback,N=l.mode,Y=r.child,Q=Y.sibling,g=Ji(Y,{mode:"hidden",children:g.children}),g.subtreeFlags=Y.subtreeFlags&65011712,Q!==null?b=Ji(Q,b):(b=ma(b,N,f,null),b.flags|=2),b.return=l,g.return=l,g.sibling=b,l.child=g,g=b,b=l.child,N=r.child.memoizedState,N===null?N=of(f):(Y=N.cachePool,Y!==null?(Q=It._currentValue,Y=Y.parent!==Q?{parent:Q,pool:Q}:Y):Y=V0(),N={baseLanes:N.baseLanes|f,cachePool:Y}),b.memoizedState=N,b.childLanes=lf(r,P,f),l.memoizedState=rf,g):(Bn(l),f=r.child,r=f.sibling,f=Ji(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,r!==null&&(P=l.deletions,P===null?(l.deletions=[r],l.flags|=16):P.push(r)),l.child=f,l.memoizedState=null,f)}function cf(r,l){return l=su({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function su(r,l){return r=Bs(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function uf(r,l,f){return Tr(l,r.child,null,f),r=cf(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function nx(r,l,f){r.lanes|=l;var g=r.alternate;g!==null&&(g.lanes|=l),Md(r.return,l,f)}function hf(r,l,f,g,b){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=f,C.tailMode=b)}function ax(r,l,f){var g=l.pendingProps,b=g.revealOrder,C=g.tail;if(Kt(r,l,g.children,f),g=zt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&nx(r,f,l);else if(r.tag===19)nx(r,f,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch(ee(zt,g),b){case"forwards":for(f=l.child,b=null;f!==null;)r=f.alternate,r!==null&&Zc(r)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),hf(l,!1,b,f,C);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(r=b.alternate,r!==null&&Zc(r)===null){l.child=b;break}r=b.sibling,b.sibling=f,f=b,b=r}hf(l,!0,f,null,C);break;case"together":hf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function on(r,l,f){if(r!==null&&(l.dependencies=r.dependencies),Fn|=l.lanes,(f&l.childLanes)===0)if(r!==null){if(Fo(r,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,f=Ji(r,r.pendingProps),l.child=f,f.return=l;r.sibling!==null;)r=r.sibling,f=f.sibling=Ji(r,r.pendingProps),f.return=l;f.sibling=null}return l.child}function df(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Lc(r)))}function nT(r,l,f){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),kn(l,It,r.memoizedState.cache),Io();break;case 27:case 5:tt(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:kn(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Bn(l),l.flags|=128,null):(f&l.child.childLanes)!==0?ix(r,l,f):(Bn(l),r=on(r,l,f),r!==null?r.sibling:null);Bn(l);break;case 19:var b=(r.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(Fo(r,l,f,!1),g=(f&l.childLanes)!==0),b){if(g)return ax(r,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ee(zt,zt.current),g)break;return null;case 22:case 23:return l.lanes=0,Zy(r,l,f);case 24:kn(l,It,r.memoizedState.cache)}return on(r,l,f)}function rx(r,l,f){if(r!==null)if(r.memoizedProps!==l.pendingProps)Ut=!0;else{if(!df(r,f)&&(l.flags&128)===0)return Ut=!1,nT(r,l,f);Ut=(r.flags&131072)!==0}else Ut=!1,Xe&&(l.flags&1048576)!==0&&L0(l,Nc,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var g=l.elementType,b=g._init;if(g=b(g._payload),l.type=g,typeof g=="function")vd(g)?(r=Sa(g,r),l.tag=1,l=tx(null,l,g,r,f)):(l.tag=0,l=af(null,l,g,r,f));else{if(g!=null){if(b=g.$$typeof,b===T){l.tag=11,l=$y(null,l,g,r,f);break e}else if(b===D){l.tag=14,l=Ky(null,l,g,r,f);break e}}throw l=j(g)||g,Error(s(306,l,""))}}return l;case 0:return af(r,l,l.type,l.pendingProps,f);case 1:return g=l.type,b=Sa(g,l.pendingProps),tx(r,l,g,b,f);case 3:e:{if(be(l,l.stateNode.containerInfo),r===null)throw Error(s(387));g=l.pendingProps;var C=l.memoizedState;b=C.element,Od(r,l),Go(l,g,null,f);var P=l.memoizedState;if(g=P.cache,kn(l,It,g),g!==C.cache&&kd(l,[It],f,!0),Xo(),g=P.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=sx(r,l,g,f);break e}else if(g!==b){b=Zs(Error(s(424)),l),zo(b),l=sx(r,l,g,f);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=yi(r.firstChild),ms=l,Xe=!0,ya=null,Di=!0,f=zy(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Io(),g===b){l=on(r,l,f);break e}Kt(r,l,g,f)}l=l.child}return l;case 26:return tu(r,l),r===null?(f=ub(l.type,null,l.pendingProps,null))?l.memoizedState=f:Xe||(f=l.type,r=l.pendingProps,g=pu(fe.current).createElement(f),g[is]=l,g[xs]=r,Zt(g,f,r),Yt(g),l.stateNode=g):l.memoizedState=ub(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return tt(l),r===null&&Xe&&(g=l.stateNode=ob(l.type,l.pendingProps,fe.current),ms=l,Di=!0,b=bt,Vn(l.type)?(Gf=b,bt=yi(g.firstChild)):bt=b),Kt(r,l,l.pendingProps.children,f),tu(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Xe&&((b=g=bt)&&(g=PT(g,l.type,l.pendingProps,Di),g!==null?(l.stateNode=g,ms=l,bt=yi(g.firstChild),Di=!1,b=!0):b=!1),b||xa(l)),tt(l),b=l.type,C=l.pendingProps,P=r!==null?r.memoizedProps:null,g=C.children,Uf(b,C)?g=null:P!==null&&Uf(b,P)&&(l.flags|=32),l.memoizedState!==null&&(b=jd(r,l,KA,null,null,f),ml._currentValue=b),tu(r,l),Kt(r,l,g,f),l.child;case 6:return r===null&&Xe&&((r=f=bt)&&(f=BT(f,l.pendingProps,Di),f!==null?(l.stateNode=f,ms=l,bt=null,r=!0):r=!1),r||xa(l)),null;case 13:return ix(r,l,f);case 4:return be(l,l.stateNode.containerInfo),g=l.pendingProps,r===null?l.child=Tr(l,null,g,f):Kt(r,l,g,f),l.child;case 11:return $y(r,l,l.type,l.pendingProps,f);case 7:return Kt(r,l,l.pendingProps,f),l.child;case 8:return Kt(r,l,l.pendingProps.children,f),l.child;case 12:return Kt(r,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,kn(l,l.type,g.value),Kt(r,l,g.children,f),l.child;case 9:return b=l.type._context,g=l.pendingProps.children,va(l),b=ns(b),g=g(b),l.flags|=1,Kt(r,l,g,f),l.child;case 14:return Ky(r,l,l.type,l.pendingProps,f);case 15:return Qy(r,l,l.type,l.pendingProps,f);case 19:return ax(r,l,f);case 31:return g=l.pendingProps,f=l.mode,g={mode:g.mode,children:g.children},r===null?(f=su(g,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Ji(r.child,g),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return Zy(r,l,f);case 24:return va(l),g=ns(It),r===null?(b=Dd(),b===null&&(b=rt,C=Ed(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=f),b=C),l.memoizedState={parent:g,cache:b},Bd(l),kn(l,It,b)):((r.lanes&f)!==0&&(Od(r,l),Go(l,null,null,f),Xo()),b=r.memoizedState,C=l.memoizedState,b.parent!==g?(b={parent:g,cache:g},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),kn(l,It,g)):(g=C.cache,kn(l,It,g),g!==b.cache&&kd(l,[It],f,!0))),Kt(r,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function ln(r){r.flags|=4}function ox(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!gb(l)){if(l=si.current,l!==null&&((je&4194048)===je?Pi!==null:(je&62914560)!==je&&(je&536870912)===0||l!==Pi))throw Vo=Pd,H0;r.flags|=8192}}function iu(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Fp():536870912,r.lanes|=l,Rr|=l)}function Jo(r,l){if(!Xe)switch(r.tailMode){case"hidden":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function mt(r){var l=r.alternate!==null&&r.alternate.child===r.child,f=0,g=0;if(l)for(var b=r.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=g,r.childLanes=f,l}function aT(r,l,f){var g=l.pendingProps;switch(Cd(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(l),null;case 1:return mt(l),null;case 3:return f=l.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),nn(It),Ue(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Lo(l)?ln(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,F0())),mt(l),null;case 26:return f=l.memoizedState,r===null?(ln(l),f!==null?(mt(l),ox(l,f)):(mt(l),l.flags&=-16777217)):f?f!==r.memoizedState?(ln(l),mt(l),ox(l,f)):(mt(l),l.flags&=-16777217):(r.memoizedProps!==g&&ln(l),mt(l),l.flags&=-16777217),null;case 27:At(l),f=fe.current;var b=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ln(l);else{if(!g){if(l.stateNode===null)throw Error(s(166));return mt(l),null}r=ce.current,Lo(l)?I0(l):(r=ob(b,g,f),l.stateNode=r,ln(l))}return mt(l),null;case 5:if(At(l),f=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==g&&ln(l);else{if(!g){if(l.stateNode===null)throw Error(s(166));return mt(l),null}if(r=ce.current,Lo(l))I0(l);else{switch(b=pu(fe.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?b.createElement(f,{is:g.is}):b.createElement(f)}}r[is]=l,r[xs]=g;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=r;e:switch(Zt(r,f,g),f){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ln(l)}}return mt(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==g&&ln(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(s(166));if(r=fe.current,Lo(l)){if(r=l.stateNode,f=l.memoizedProps,g=null,b=ms,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}r[is]=l,r=!!(r.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||eb(r.nodeValue,f)),r||xa(l)}else r=pu(r).createTextNode(g),r[is]=l,l.stateNode=r}return mt(l),null;case 13:if(g=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=Lo(l),g!==null&&g.dehydrated!==null){if(r===null){if(!b)throw Error(s(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));b[is]=l}else Io(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),b=!1}else b=F0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(rn(l),l):(rn(l),null)}if(rn(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=g!==null,r=r!==null&&r.memoizedState!==null,f){g=l.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==b&&(g.flags|=2048)}return f!==r&&f&&(l.child.flags|=8192),iu(l,l.updateQueue),mt(l),null;case 4:return Ue(),r===null&&If(l.stateNode.containerInfo),mt(l),null;case 10:return nn(l.type),mt(l),null;case 19:if(ae(zt),b=l.memoizedState,b===null)return mt(l),null;if(g=(l.flags&128)!==0,C=b.rendering,C===null)if(g)Jo(b,!1);else{if(vt!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(C=Zc(r),C!==null){for(l.flags|=128,Jo(b,!1),r=C.updateQueue,l.updateQueue=r,iu(l,r),l.subtreeFlags=0,r=f,f=l.child;f!==null;)N0(f,r),f=f.sibling;return ee(zt,zt.current&1|2),l.child}r=r.sibling}b.tail!==null&&Tt()>ru&&(l.flags|=128,g=!0,Jo(b,!1),l.lanes=4194304)}else{if(!g)if(r=Zc(C),r!==null){if(l.flags|=128,g=!0,r=r.updateQueue,l.updateQueue=r,iu(l,r),Jo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Xe)return mt(l),null}else 2*Tt()-b.renderingStartTime>ru&&f!==536870912&&(l.flags|=128,g=!0,Jo(b,!1),l.lanes=4194304);b.isBackwards?(C.sibling=l.child,l.child=C):(r=b.last,r!==null?r.sibling=C:l.child=C,b.last=C)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Tt(),l.sibling=null,r=zt.current,ee(zt,g?r&1|2:r&1),l):(mt(l),null);case 22:case 23:return rn(l),zd(),g=l.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(mt(l),l.subtreeFlags&6&&(l.flags|=8192)):mt(l),f=l.updateQueue,f!==null&&iu(l,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),r!==null&&ae(_a),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),nn(It),mt(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function rT(r,l){switch(Cd(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return nn(It),Ue(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return At(l),null;case 13:if(rn(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Io()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return ae(zt),null;case 4:return Ue(),null;case 10:return nn(l.type),null;case 22:case 23:return rn(l),zd(),r!==null&&ae(_a),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return nn(It),null;case 25:return null;default:return null}}function lx(r,l){switch(Cd(l),l.tag){case 3:nn(It),Ue();break;case 26:case 27:case 5:At(l);break;case 4:Ue();break;case 13:rn(l);break;case 19:ae(zt);break;case 10:nn(l.type);break;case 22:case 23:rn(l),zd(),r!==null&&ae(_a);break;case 24:nn(It)}}function el(r,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&r)===r){g=void 0;var C=f.create,P=f.inst;g=C(),P.destroy=g}f=f.next}while(f!==b)}}catch(N){st(l,l.return,N)}}function Nn(r,l,f){try{var g=l.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var C=b.next;g=C;do{if((g.tag&r)===r){var P=g.inst,N=P.destroy;if(N!==void 0){P.destroy=void 0,b=l;var Y=f,Q=N;try{Q()}catch(ie){st(b,Y,ie)}}}g=g.next}while(g!==C)}}catch(ie){st(l,l.return,ie)}}function cx(r){var l=r.updateQueue;if(l!==null){var f=r.stateNode;try{K0(l,f)}catch(g){st(r,r.return,g)}}}function ux(r,l,f){f.props=Sa(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(g){st(r,l,g)}}function tl(r,l){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof f=="function"?r.refCleanup=f(g):f.current=g}}catch(b){st(r,l,b)}}function Bi(r,l){var f=r.ref,g=r.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(b){st(r,l,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){st(r,l,b)}else f.current=null}function hx(r){var l=r.type,f=r.memoizedProps,g=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(b){st(r,r.return,b)}}function ff(r,l,f){try{var g=r.stateNode;MT(g,r.type,f,l),g[xs]=l}catch(b){st(r,r.return,b)}}function dx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vn(r.type)||r.tag===4}function mf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vn(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gf(r,l,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(r),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=gu));else if(g!==4&&(g===27&&Vn(r.type)&&(f=r.stateNode,l=null),r=r.child,r!==null))for(gf(r,l,f),r=r.sibling;r!==null;)gf(r,l,f),r=r.sibling}function nu(r,l,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,l?f.insertBefore(r,l):f.appendChild(r);else if(g!==4&&(g===27&&Vn(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(nu(r,l,f),r=r.sibling;r!==null;)nu(r,l,f),r=r.sibling}function fx(r){var l=r.stateNode,f=r.memoizedProps;try{for(var g=r.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Zt(l,g,f),l[is]=r,l[xs]=f}catch(C){st(r,r.return,C)}}var cn=!1,kt=!1,pf=!1,mx=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function oT(r,l){if(r=r.containerInfo,jf=wu,r=A0(r),fd(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else e:{f=(f=r.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var P=0,N=-1,Y=-1,Q=0,ie=0,le=r,J=null;t:for(;;){for(var te;le!==f||b!==0&&le.nodeType!==3||(N=P+b),le!==C||g!==0&&le.nodeType!==3||(Y=P+g),le.nodeType===3&&(P+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===r)break t;if(J===f&&++Q===b&&(N=P),J===C&&++ie===g&&(Y=P),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}f=N===-1||Y===-1?null:{start:N,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(Yf={focusedElem:r,selectionRange:f},wu=!1,Vt=l;Vt!==null;)if(l=Vt,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,Vt=r;else for(;Vt!==null;){switch(l=Vt,C=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&C!==null){r=void 0,f=l,b=C.memoizedProps,C=C.memoizedState,g=f.stateNode;try{var we=Sa(f.type,b,f.elementType===f.type);r=g.getSnapshotBeforeUpdate(we,C),g.__reactInternalSnapshotBeforeUpdate=r}catch(ve){st(f,f.return,ve)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,f=r.nodeType,f===9)Hf(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hf(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,Vt=r;break}Vt=l.return}}function gx(r,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Ln(r,f),g&4&&el(5,f);break;case 1:if(Ln(r,f),g&4)if(r=f.stateNode,l===null)try{r.componentDidMount()}catch(P){st(f,f.return,P)}else{var b=Sa(f.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(b,l,r.__reactInternalSnapshotBeforeUpdate)}catch(P){st(f,f.return,P)}}g&64&&cx(f),g&512&&tl(f,f.return);break;case 3:if(Ln(r,f),g&64&&(r=f.updateQueue,r!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{K0(r,l)}catch(P){st(f,f.return,P)}}break;case 27:l===null&&g&4&&fx(f);case 26:case 5:Ln(r,f),l===null&&g&4&&hx(f),g&512&&tl(f,f.return);break;case 12:Ln(r,f);break;case 13:Ln(r,f),g&4&&xx(r,f),g&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=pT.bind(null,f),OT(r,f))));break;case 22:if(g=f.memoizedState!==null||cn,!g){l=l!==null&&l.memoizedState!==null||kt,b=cn;var C=kt;cn=g,(kt=l)&&!C?In(r,f,(f.subtreeFlags&8772)!==0):Ln(r,f),cn=b,kt=C}break;case 30:break;default:Ln(r,f)}}function px(r){var l=r.alternate;l!==null&&(r.alternate=null,px(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Wh(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,_s=!1;function un(r,l,f){for(f=f.child;f!==null;)yx(r,l,f),f=f.sibling}function yx(r,l,f){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(wo,f)}catch{}switch(f.tag){case 26:kt||Bi(f,l),un(r,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:kt||Bi(f,l);var g=dt,b=_s;Vn(f.type)&&(dt=f.stateNode,_s=!1),un(r,l,f),ul(f.stateNode),dt=g,_s=b;break;case 5:kt||Bi(f,l);case 6:if(g=dt,b=_s,dt=null,un(r,l,f),dt=g,_s=b,dt!==null)if(_s)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(f.stateNode)}catch(C){st(f,l,C)}else try{dt.removeChild(f.stateNode)}catch(C){st(f,l,C)}break;case 18:dt!==null&&(_s?(r=dt,ab(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),xl(r)):ab(dt,f.stateNode));break;case 4:g=dt,b=_s,dt=f.stateNode.containerInfo,_s=!0,un(r,l,f),dt=g,_s=b;break;case 0:case 11:case 14:case 15:kt||Nn(2,f,l),kt||Nn(4,f,l),un(r,l,f);break;case 1:kt||(Bi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&ux(f,l,g)),un(r,l,f);break;case 21:un(r,l,f);break;case 22:kt=(g=kt)||f.memoizedState!==null,un(r,l,f),kt=g;break;default:un(r,l,f)}}function xx(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{xl(r)}catch(f){st(l,l.return,f)}}function lT(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new mx),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new mx),l;default:throw Error(s(435,r.tag))}}function yf(r,l){var f=lT(r);l.forEach(function(g){var b=yT.bind(null,r,g);f.has(g)||(f.add(g),g.then(b,b))})}function Os(r,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g],C=r,P=l,N=P;e:for(;N!==null;){switch(N.tag){case 27:if(Vn(N.type)){dt=N.stateNode,_s=!1;break e}break;case 5:dt=N.stateNode,_s=!1;break e;case 3:case 4:dt=N.stateNode.containerInfo,_s=!0;break e}N=N.return}if(dt===null)throw Error(s(160));yx(C,P,b),dt=null,_s=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)bx(l,r),l=l.sibling}var pi=null;function bx(r,l){var f=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Os(l,r),Ns(r),g&4&&(Nn(3,r,r.return),el(3,r),Nn(5,r,r.return));break;case 1:Os(l,r),Ns(r),g&512&&(kt||f===null||Bi(f,f.return)),g&64&&cn&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var b=pi;if(Os(l,r),Ns(r),g&512&&(kt||f===null||Bi(f,f.return)),g&4){var C=f!==null?f.memoizedState:null;if(g=r.memoizedState,f===null)if(g===null)if(r.stateNode===null){e:{g=r.type,f=r.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Ao]||C[is]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(g),b.head.insertBefore(C,b.querySelector("head > title"))),Zt(C,g,f),C[is]=r,Yt(C),g=C;break e;case"link":var P=fb("link","href",b).get(g+(f.href||""));if(P){for(var N=0;N<P.length;N++)if(C=P[N],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){P.splice(N,1);break t}}C=b.createElement(g),Zt(C,g,f),b.head.appendChild(C);break;case"meta":if(P=fb("meta","content",b).get(g+(f.content||""))){for(N=0;N<P.length;N++)if(C=P[N],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){P.splice(N,1);break t}}C=b.createElement(g),Zt(C,g,f),b.head.appendChild(C);break;default:throw Error(s(468,g))}C[is]=r,Yt(C),g=C}r.stateNode=g}else mb(b,r.type,r.stateNode);else r.stateNode=db(b,g,r.memoizedProps);else C!==g?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,g===null?mb(b,r.type,r.stateNode):db(b,g,r.memoizedProps)):g===null&&r.stateNode!==null&&ff(r,r.memoizedProps,f.memoizedProps)}break;case 27:Os(l,r),Ns(r),g&512&&(kt||f===null||Bi(f,f.return)),f!==null&&g&4&&ff(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Os(l,r),Ns(r),g&512&&(kt||f===null||Bi(f,f.return)),r.flags&32){b=r.stateNode;try{lr(b,"")}catch(te){st(r,r.return,te)}}g&4&&r.stateNode!=null&&(b=r.memoizedProps,ff(r,b,f!==null?f.memoizedProps:b)),g&1024&&(pf=!0);break;case 6:if(Os(l,r),Ns(r),g&4){if(r.stateNode===null)throw Error(s(162));g=r.memoizedProps,f=r.stateNode;try{f.nodeValue=g}catch(te){st(r,r.return,te)}}break;case 3:if(bu=null,b=pi,pi=yu(l.containerInfo),Os(l,r),pi=b,Ns(r),g&4&&f!==null&&f.memoizedState.isDehydrated)try{xl(l.containerInfo)}catch(te){st(r,r.return,te)}pf&&(pf=!1,vx(r));break;case 4:g=pi,pi=yu(r.stateNode.containerInfo),Os(l,r),Ns(r),pi=g;break;case 12:Os(l,r),Ns(r);break;case 13:Os(l,r),Ns(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Sf=Tt()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,yf(r,g)));break;case 22:b=r.memoizedState!==null;var Y=f!==null&&f.memoizedState!==null,Q=cn,ie=kt;if(cn=Q||b,kt=ie||Y,Os(l,r),kt=ie,cn=Q,Ns(r),g&8192)e:for(l=r.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(f===null||Y||cn||kt||Ca(r)),f=null,l=r;;){if(l.tag===5||l.tag===26){if(f===null){Y=f=l;try{if(C=Y.stateNode,b)P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{N=Y.stateNode;var le=Y.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;N.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){st(Y,Y.return,te)}}}else if(l.tag===6){if(f===null){Y=l;try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(te){st(Y,Y.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=r.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,yf(r,f))));break;case 19:Os(l,r),Ns(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,yf(r,g)));break;case 30:break;case 21:break;default:Os(l,r),Ns(r)}}function Ns(r){var l=r.flags;if(l&2){try{for(var f,g=r.return;g!==null;){if(dx(g)){f=g;break}g=g.return}if(f==null)throw Error(s(160));switch(f.tag){case 27:var b=f.stateNode,C=mf(r);nu(r,C,b);break;case 5:var P=f.stateNode;f.flags&32&&(lr(P,""),f.flags&=-33);var N=mf(r);nu(r,N,P);break;case 3:case 4:var Y=f.stateNode.containerInfo,Q=mf(r);gf(r,Q,Y);break;default:throw Error(s(161))}}catch(ie){st(r,r.return,ie)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function vx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;vx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Ln(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)gx(r,l.alternate,l),l=l.sibling}function Ca(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Nn(4,l,l.return),Ca(l);break;case 1:Bi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&ux(l,l.return,f),Ca(l);break;case 27:ul(l.stateNode);case 26:case 5:Bi(l,l.return),Ca(l);break;case 22:l.memoizedState===null&&Ca(l);break;case 30:Ca(l);break;default:Ca(l)}r=r.sibling}}function In(r,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,b=r,C=l,P=C.flags;switch(C.tag){case 0:case 11:case 15:In(b,C,f),el(4,C);break;case 1:if(In(b,C,f),g=C,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Q){st(g,g.return,Q)}if(g=C,b=g.updateQueue,b!==null){var N=g.stateNode;try{var Y=b.shared.hiddenCallbacks;if(Y!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Y.length;b++)$0(Y[b],N)}catch(Q){st(g,g.return,Q)}}f&&P&64&&cx(C),tl(C,C.return);break;case 27:fx(C);case 26:case 5:In(b,C,f),f&&g===null&&P&4&&hx(C),tl(C,C.return);break;case 12:In(b,C,f);break;case 13:In(b,C,f),f&&P&4&&xx(b,C);break;case 22:C.memoizedState===null&&In(b,C,f),tl(C,C.return);break;case 30:break;default:In(b,C,f)}l=l.sibling}}function xf(r,l){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&jo(f))}function bf(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&jo(r))}function Oi(r,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_x(r,l,f,g),l=l.sibling}function _x(r,l,f,g){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Oi(r,l,f,g),b&2048&&el(9,l);break;case 1:Oi(r,l,f,g);break;case 3:Oi(r,l,f,g),b&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&jo(r)));break;case 12:if(b&2048){Oi(r,l,f,g),r=l.stateNode;try{var C=l.memoizedProps,P=C.id,N=C.onPostCommit;typeof N=="function"&&N(P,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){st(l,l.return,Y)}}else Oi(r,l,f,g);break;case 13:Oi(r,l,f,g);break;case 23:break;case 22:C=l.stateNode,P=l.alternate,l.memoizedState!==null?C._visibility&2?Oi(r,l,f,g):sl(r,l):C._visibility&2?Oi(r,l,f,g):(C._visibility|=2,Mr(r,l,f,g,(l.subtreeFlags&10256)!==0)),b&2048&&xf(P,l);break;case 24:Oi(r,l,f,g),b&2048&&bf(l.alternate,l);break;default:Oi(r,l,f,g)}}function Mr(r,l,f,g,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=r,P=l,N=f,Y=g,Q=P.flags;switch(P.tag){case 0:case 11:case 15:Mr(C,P,N,Y,b),el(8,P);break;case 23:break;case 22:var ie=P.stateNode;P.memoizedState!==null?ie._visibility&2?Mr(C,P,N,Y,b):sl(C,P):(ie._visibility|=2,Mr(C,P,N,Y,b)),b&&Q&2048&&xf(P.alternate,P);break;case 24:Mr(C,P,N,Y,b),b&&Q&2048&&bf(P.alternate,P);break;default:Mr(C,P,N,Y,b)}l=l.sibling}}function sl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=r,g=l,b=g.flags;switch(g.tag){case 22:sl(f,g),b&2048&&xf(g.alternate,g);break;case 24:sl(f,g),b&2048&&bf(g.alternate,g);break;default:sl(f,g)}l=l.sibling}}var il=8192;function kr(r){if(r.subtreeFlags&il)for(r=r.child;r!==null;)wx(r),r=r.sibling}function wx(r){switch(r.tag){case 26:kr(r),r.flags&il&&r.memoizedState!==null&&qT(pi,r.memoizedState,r.memoizedProps);break;case 5:kr(r);break;case 3:case 4:var l=pi;pi=yu(r.stateNode.containerInfo),kr(r),pi=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=il,il=16777216,kr(r),il=l):kr(r));break;default:kr(r)}}function Sx(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function nl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Vt=g,Ax(g,r)}Sx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cx(r),r=r.sibling}function Cx(r){switch(r.tag){case 0:case 11:case 15:nl(r),r.flags&2048&&Nn(9,r,r.return);break;case 3:nl(r);break;case 12:nl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,au(r)):nl(r);break;default:nl(r)}}function au(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];Vt=g,Ax(g,r)}Sx(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Nn(8,l,l.return),au(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,au(l));break;default:au(l)}r=r.sibling}}function Ax(r,l){for(;Vt!==null;){var f=Vt;switch(f.tag){case 0:case 11:case 15:Nn(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:jo(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Vt=g;else e:for(f=r;Vt!==null;){g=Vt;var b=g.sibling,C=g.return;if(px(g),g===f){Vt=null;break e}if(b!==null){b.return=C,Vt=b;break e}Vt=C}}}var cT={getCacheForType:function(r){var l=ns(It),f=l.data.get(r);return f===void 0&&(f=r(),l.data.set(r,f)),f}},uT=typeof WeakMap=="function"?WeakMap:Map,qe=0,rt=null,De=null,je=0,We=0,Ls=null,zn=!1,Er=!1,vf=!1,hn=0,vt=0,Fn=0,Aa=0,_f=0,ii=0,Rr=0,al=null,ws=null,wf=!1,Sf=0,ru=1/0,ou=null,jn=null,Qt=0,Yn=null,Dr=null,Pr=0,Cf=0,Af=null,Tx=null,rl=0,Tf=null;function Is(){if((qe&2)!==0&&je!==0)return je&-je;if(I.T!==null){var r=br;return r!==0?r:Bf()}return Up()}function Mx(){ii===0&&(ii=(je&536870912)===0||Xe?zp():536870912);var r=si.current;return r!==null&&(r.flags|=32),ii}function zs(r,l,f){(r===rt&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(Br(r,0),Un(r,je,ii,!1)),Co(r,f),((qe&2)===0||r!==rt)&&(r===rt&&((qe&2)===0&&(Aa|=f),vt===4&&Un(r,je,ii,!1)),Ni(r))}function kx(r,l,f){if((qe&6)!==0)throw Error(s(327));var g=!f&&(l&124)===0&&(l&r.expiredLanes)===0||So(r,l),b=g?fT(r,l):Ef(r,l,!0),C=g;do{if(b===0){Er&&!g&&Un(r,l,0,!1);break}else{if(f=r.current.alternate,C&&!hT(f)){b=Ef(r,l,!1),C=!1;continue}if(b===2){if(C=l,r.errorRecoveryDisabledLanes&C)var P=0;else P=r.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var N=r;b=al;var Y=N.current.memoizedState.isDehydrated;if(Y&&(Br(N,P).flags|=256),P=Ef(N,P,!1),P!==2){if(vf&&!Y){N.errorRecoveryDisabledLanes|=C,Aa|=C,b=4;break e}C=ws,ws=b,C!==null&&(ws===null?ws=C:ws.push.apply(ws,C))}b=P}if(C=!1,b!==2)continue}}if(b===1){Br(r,0),Un(r,l,0,!0);break}e:{switch(g=r,C=b,C){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:Un(g,l,ii,!zn);break e;case 2:ws=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(b=Sf+300-Tt(),10<b)){if(Un(g,l,ii,!zn),xc(g,0,!0)!==0)break e;g.timeoutHandle=ib(Ex.bind(null,g,f,ws,ou,wf,l,ii,Aa,Rr,zn,C,2,-0,0),b);break e}Ex(g,f,ws,ou,wf,l,ii,Aa,Rr,zn,C,0,-0,0)}}break}while(!0);Ni(r)}function Ex(r,l,f,g,b,C,P,N,Y,Q,ie,le,J,te){if(r.timeoutHandle=-1,le=l.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:GT},wx(l),le=WT(),le!==null)){r.cancelPendingCommit=le(Lx.bind(null,r,l,C,f,g,b,P,N,Y,ie,1,J,te)),Un(r,C,P,!Q);return}Lx(r,l,C,f,g,b,P,N,Y)}function hT(r){for(var l=r;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var b=f[g],C=b.getSnapshot;b=b.value;try{if(!Ps(C(),b))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Un(r,l,f,g){l&=~_f,l&=~Aa,r.suspendedLanes|=l,r.pingedLanes&=~l,g&&(r.warmLanes|=l),g=r.expirationTimes;for(var b=l;0<b;){var C=31-Ds(b),P=1<<C;g[C]=-1,b&=~P}f!==0&&jp(r,f,l)}function lu(){return(qe&6)===0?(ol(0),!1):!0}function Mf(){if(De!==null){if(We===0)var r=De.return;else r=De,sn=ba=null,Vd(r),Ar=null,Qo=0,r=De;for(;r!==null;)lx(r.alternate,r),r=r.return;De=null}}function Br(r,l){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,ET(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),Mf(),rt=r,De=f=Ji(r.current,null),je=l,We=0,Ls=null,zn=!1,Er=So(r,l),vf=!1,Rr=ii=_f=Aa=Fn=vt=0,ws=al=null,wf=!1,(l&8)!==0&&(l|=l&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=l;0<g;){var b=31-Ds(g),C=1<<b;l|=r[b],g&=~C}return hn=l,Rc(),f}function Rx(r,l){Me=null,I.H=$c,l===Uo||l===Fc?(l=q0(),We=3):l===H0?(l=q0(),We=4):We=l===Wy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ls=l,De===null&&(vt=1,eu(r,Zs(l,r.current)))}function Dx(){var r=I.H;return I.H=$c,r===null?$c:r}function Px(){var r=I.A;return I.A=cT,r}function kf(){vt=4,zn||(je&4194048)!==je&&si.current!==null||(Er=!0),(Fn&134217727)===0&&(Aa&134217727)===0||rt===null||Un(rt,je,ii,!1)}function Ef(r,l,f){var g=qe;qe|=2;var b=Dx(),C=Px();(rt!==r||je!==l)&&(ou=null,Br(r,l)),l=!1;var P=vt;e:do try{if(We!==0&&De!==null){var N=De,Y=Ls;switch(We){case 8:Mf(),P=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(l=!0);var Q=We;if(We=0,Ls=null,Or(r,N,Y,Q),f&&Er){P=0;break e}break;default:Q=We,We=0,Ls=null,Or(r,N,Y,Q)}}dT(),P=vt;break}catch(ie){Rx(r,ie)}while(!0);return l&&r.shellSuspendCounter++,sn=ba=null,qe=g,I.H=b,I.A=C,De===null&&(rt=null,je=0,Rc()),P}function dT(){for(;De!==null;)Bx(De)}function fT(r,l){var f=qe;qe|=2;var g=Dx(),b=Px();rt!==r||je!==l?(ou=null,ru=Tt()+500,Br(r,l)):Er=So(r,l);e:do try{if(We!==0&&De!==null){l=De;var C=Ls;t:switch(We){case 1:We=0,Ls=null,Or(r,l,C,1);break;case 2:case 9:if(X0(C)){We=0,Ls=null,Ox(l);break}l=function(){We!==2&&We!==9||rt!==r||(We=7),Ni(r)},C.then(l,l);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:X0(C)?(We=0,Ls=null,Ox(l)):(We=0,Ls=null,Or(r,l,C,7));break;case 5:var P=null;switch(De.tag){case 26:P=De.memoizedState;case 5:case 27:var N=De;if(!P||gb(P)){We=0,Ls=null;var Y=N.sibling;if(Y!==null)De=Y;else{var Q=N.return;Q!==null?(De=Q,cu(Q)):De=null}break t}}We=0,Ls=null,Or(r,l,C,5);break;case 6:We=0,Ls=null,Or(r,l,C,6);break;case 8:Mf(),vt=6;break e;default:throw Error(s(462))}}mT();break}catch(ie){Rx(r,ie)}while(!0);return sn=ba=null,I.H=g,I.A=b,qe=f,De!==null?0:(rt=null,je=0,Rc(),vt)}function mT(){for(;De!==null&&!ct();)Bx(De)}function Bx(r){var l=rx(r.alternate,r,hn);r.memoizedProps=r.pendingProps,l===null?cu(r):De=l}function Ox(r){var l=r,f=l.alternate;switch(l.tag){case 15:case 0:l=ex(f,l,l.pendingProps,l.type,void 0,je);break;case 11:l=ex(f,l,l.pendingProps,l.type.render,l.ref,je);break;case 5:Vd(l);default:lx(f,l),l=De=N0(l,hn),l=rx(f,l,hn)}r.memoizedProps=r.pendingProps,l===null?cu(r):De=l}function Or(r,l,f,g){sn=ba=null,Vd(l),Ar=null,Qo=0;var b=l.return;try{if(iT(r,b,l,f,je)){vt=1,eu(r,Zs(f,r.current)),De=null;return}}catch(C){if(b!==null)throw De=b,C;vt=1,eu(r,Zs(f,r.current)),De=null;return}l.flags&32768?(Xe||g===1?r=!0:Er||(je&536870912)!==0?r=!1:(zn=r=!0,(g===2||g===9||g===3||g===6)&&(g=si.current,g!==null&&g.tag===13&&(g.flags|=16384))),Nx(l,r)):cu(l)}function cu(r){var l=r;do{if((l.flags&32768)!==0){Nx(l,zn);return}r=l.return;var f=aT(l.alternate,l,hn);if(f!==null){De=f;return}if(l=l.sibling,l!==null){De=l;return}De=l=r}while(l!==null);vt===0&&(vt=5)}function Nx(r,l){do{var f=rT(r.alternate,r);if(f!==null){f.flags&=32767,De=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(r=r.sibling,r!==null)){De=r;return}De=r=f}while(r!==null);vt=6,De=null}function Lx(r,l,f,g,b,C,P,N,Y){r.cancelPendingCommit=null;do uu();while(Qt!==0);if((qe&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(C=l.lanes|l.childLanes,C|=xd,GC(r,f,C,P,N,Y),r===rt&&(De=rt=null,je=0),Dr=l,Yn=r,Pr=f,Cf=C,Af=b,Tx=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,xT(mi,function(){return Yx(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=I.T,I.T=null,b=U.p,U.p=2,P=qe,qe|=4;try{oT(r,l,f)}finally{qe=P,U.p=b,I.T=g}}Qt=1,Ix(),zx(),Fx()}}function Ix(){if(Qt===1){Qt=0;var r=Yn,l=Dr,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=I.T,I.T=null;var g=U.p;U.p=2;var b=qe;qe|=4;try{bx(l,r);var C=Yf,P=A0(r.containerInfo),N=C.focusedElem,Y=C.selectionRange;if(P!==N&&N&&N.ownerDocument&&C0(N.ownerDocument.documentElement,N)){if(Y!==null&&fd(N)){var Q=Y.start,ie=Y.end;if(ie===void 0&&(ie=Q),"selectionStart"in N)N.selectionStart=Q,N.selectionEnd=Math.min(ie,N.value.length);else{var le=N.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),we=N.textContent.length,ve=Math.min(Y.start,we),Qe=Y.end===void 0?ve:Math.min(Y.end,we);!te.extend&&ve>Qe&&(P=Qe,Qe=ve,ve=P);var q=S0(N,ve),V=S0(N,Qe);if(q&&V&&(te.rangeCount!==1||te.anchorNode!==q.node||te.anchorOffset!==q.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var $=le.createRange();$.setStart(q.node,q.offset),te.removeAllRanges(),ve>Qe?(te.addRange($),te.extend(V.node,V.offset)):($.setEnd(V.node,V.offset),te.addRange($))}}}}for(le=[],te=N;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<le.length;N++){var re=le[N];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}wu=!!jf,Yf=jf=null}finally{qe=b,U.p=g,I.T=f}}r.current=l,Qt=2}}function zx(){if(Qt===2){Qt=0;var r=Yn,l=Dr,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=I.T,I.T=null;var g=U.p;U.p=2;var b=qe;qe|=4;try{gx(r,l.alternate,l)}finally{qe=b,U.p=g,I.T=f}}Qt=3}}function Fx(){if(Qt===4||Qt===3){Qt=0,fi();var r=Yn,l=Dr,f=Pr,g=Tx;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Qt=5:(Qt=0,Dr=Yn=null,jx(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(jn=null),Gh(f),l=l.stateNode,Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(wo,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=I.T,b=U.p,U.p=2,I.T=null;try{for(var C=r.onRecoverableError,P=0;P<g.length;P++){var N=g[P];C(N.value,{componentStack:N.stack})}}finally{I.T=l,U.p=b}}(Pr&3)!==0&&uu(),Ni(r),b=r.pendingLanes,(f&4194090)!==0&&(b&42)!==0?r===Tf?rl++:(rl=0,Tf=r):rl=0,ol(0)}}function jx(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,jo(l)))}function uu(r){return Ix(),zx(),Fx(),Yx()}function Yx(){if(Qt!==5)return!1;var r=Yn,l=Cf;Cf=0;var f=Gh(Pr),g=I.T,b=U.p;try{U.p=32>f?32:f,I.T=null,f=Af,Af=null;var C=Yn,P=Pr;if(Qt=0,Dr=Yn=null,Pr=0,(qe&6)!==0)throw Error(s(331));var N=qe;if(qe|=4,Cx(C.current),_x(C,C.current,P,f),qe=N,ol(0,!1),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(wo,C)}catch{}return!0}finally{U.p=b,I.T=g,jx(r,l)}}function Ux(r,l,f){l=Zs(f,l),l=nf(r.stateNode,l,2),r=Dn(r,l,2),r!==null&&(Co(r,2),Ni(r))}function st(r,l,f){if(r.tag===3)Ux(r,r,f);else for(;l!==null;){if(l.tag===3){Ux(l,r,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(jn===null||!jn.has(g))){r=Zs(f,r),f=Gy(2),g=Dn(l,f,2),g!==null&&(qy(f,g,l,r),Co(g,2),Ni(g));break}}l=l.return}}function Rf(r,l,f){var g=r.pingCache;if(g===null){g=r.pingCache=new uT;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(f)||(vf=!0,b.add(f),r=gT.bind(null,r,l,f),l.then(r,r))}function gT(r,l,f){var g=r.pingCache;g!==null&&g.delete(l),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,rt===r&&(je&f)===f&&(vt===4||vt===3&&(je&62914560)===je&&300>Tt()-Sf?(qe&2)===0&&Br(r,0):_f|=f,Rr===je&&(Rr=0)),Ni(r)}function Vx(r,l){l===0&&(l=Fp()),r=gr(r,l),r!==null&&(Co(r,l),Ni(r))}function pT(r){var l=r.memoizedState,f=0;l!==null&&(f=l.retryLane),Vx(r,f)}function yT(r,l){var f=0;switch(r.tag){case 13:var g=r.stateNode,b=r.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(s(314))}g!==null&&g.delete(l),Vx(r,f)}function xT(r,l){return Be(r,l)}var hu=null,Nr=null,Df=!1,du=!1,Pf=!1,Ta=0;function Ni(r){r!==Nr&&r.next===null&&(Nr===null?hu=Nr=r:Nr=Nr.next=r),du=!0,Df||(Df=!0,vT())}function ol(r,l){if(!Pf&&du){Pf=!0;do for(var f=!1,g=hu;g!==null;){if(r!==0){var b=g.pendingLanes;if(b===0)var C=0;else{var P=g.suspendedLanes,N=g.pingedLanes;C=(1<<31-Ds(42|r)+1)-1,C&=b&~(P&~N),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,qx(g,C))}else C=je,C=xc(g,g===rt?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||So(g,C)||(f=!0,qx(g,C));g=g.next}while(f);Pf=!1}}function bT(){Hx()}function Hx(){du=Df=!1;var r=0;Ta!==0&&(kT()&&(r=Ta),Ta=0);for(var l=Tt(),f=null,g=hu;g!==null;){var b=g.next,C=Xx(g,l);C===0?(g.next=null,f===null?hu=b:f.next=b,b===null&&(Nr=f)):(f=g,(r!==0||(C&3)!==0)&&(du=!0)),g=b}ol(r)}function Xx(r,l){for(var f=r.suspendedLanes,g=r.pingedLanes,b=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var P=31-Ds(C),N=1<<P,Y=b[P];Y===-1?((N&f)===0||(N&g)!==0)&&(b[P]=XC(N,l)):Y<=l&&(r.expiredLanes|=N),C&=~N}if(l=rt,f=je,f=xc(r,r===l?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,f===0||r===l&&(We===2||We===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&ke(g),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||So(r,f)){if(l=f&-f,l===r.callbackPriority)return l;switch(g!==null&&ke(g),Gh(f)){case 2:case 8:f=vo;break;case 32:f=mi;break;case 268435456:f=_o;break;default:f=mi}return g=Gx.bind(null,r),f=Be(f,g),r.callbackPriority=l,r.callbackNode=f,l}return g!==null&&g!==null&&ke(g),r.callbackPriority=2,r.callbackNode=null,2}function Gx(r,l){if(Qt!==0&&Qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(uu()&&r.callbackNode!==f)return null;var g=je;return g=xc(r,r===rt?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(kx(r,g,l),Xx(r,Tt()),r.callbackNode!=null&&r.callbackNode===f?Gx.bind(null,r):null)}function qx(r,l){if(uu())return null;kx(r,l,!0)}function vT(){RT(function(){(qe&6)!==0?Be(Ri,bT):Hx()})}function Bf(){return Ta===0&&(Ta=zp()),Ta}function Wx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Sc(""+r)}function $x(r,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,r.id&&f.setAttribute("form",r.id),l.parentNode.insertBefore(f,l),r=new FormData(r),f.parentNode.removeChild(f),r}function _T(r,l,f,g,b){if(l==="submit"&&f&&f.stateNode===b){var C=Wx((b[xs]||null).action),P=g.submitter;P&&(l=(l=P[xs]||null)?Wx(l.formAction):P.getAttribute("formAction"),l!==null&&(C=l,P=null));var N=new Mc("action","action",null,g,b);r.push({event:N,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ta!==0){var Y=P?$x(b,P):new FormData(b);Zd(f,{pending:!0,data:Y,method:b.method,action:C},null,Y)}}else typeof C=="function"&&(N.preventDefault(),Y=P?$x(b,P):new FormData(b),Zd(f,{pending:!0,data:Y,method:b.method,action:C},C,Y))},currentTarget:b}]})}}for(var Of=0;Of<yd.length;Of++){var Nf=yd[Of],wT=Nf.toLowerCase(),ST=Nf[0].toUpperCase()+Nf.slice(1);gi(wT,"on"+ST)}gi(k0,"onAnimationEnd"),gi(E0,"onAnimationIteration"),gi(R0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(jA,"onTransitionRun"),gi(YA,"onTransitionStart"),gi(UA,"onTransitionCancel"),gi(D0,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Kx(r,l){l=(l&4)!==0;for(var f=0;f<r.length;f++){var g=r[f],b=g.event;g=g.listeners;e:{var C=void 0;if(l)for(var P=g.length-1;0<=P;P--){var N=g[P],Y=N.instance,Q=N.currentTarget;if(N=N.listener,Y!==C&&b.isPropagationStopped())break e;C=N,b.currentTarget=Q;try{C(b)}catch(ie){Jc(ie)}b.currentTarget=null,C=Y}else for(P=0;P<g.length;P++){if(N=g[P],Y=N.instance,Q=N.currentTarget,N=N.listener,Y!==C&&b.isPropagationStopped())break e;C=N,b.currentTarget=Q;try{C(b)}catch(ie){Jc(ie)}b.currentTarget=null,C=Y}}}}function Pe(r,l){var f=l[qh];f===void 0&&(f=l[qh]=new Set);var g=r+"__bubble";f.has(g)||(Qx(l,r,2,!1),f.add(g))}function Lf(r,l,f){var g=0;l&&(g|=4),Qx(f,r,g,l)}var fu="_reactListening"+Math.random().toString(36).slice(2);function If(r){if(!r[fu]){r[fu]=!0,Hp.forEach(function(f){f!=="selectionchange"&&(CT.has(f)||Lf(f,!1,r),Lf(f,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[fu]||(l[fu]=!0,Lf("selectionchange",!1,l))}}function Qx(r,l,f,g){switch(_b(l)){case 2:var b=QT;break;case 8:b=ZT;break;default:b=Qf}f=b.bind(null,l,f,r),b=void 0,!nd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?r.addEventListener(l,f,{capture:!0,passive:b}):r.addEventListener(l,f,!0):b!==void 0?r.addEventListener(l,f,{passive:b}):r.addEventListener(l,f,!1)}function zf(r,l,f,g,b){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var N=g.stateNode.containerInfo;if(N===b)break;if(P===4)for(P=g.return;P!==null;){var Y=P.tag;if((Y===3||Y===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;N!==null;){if(P=sr(N),P===null)return;if(Y=P.tag,Y===5||Y===6||Y===26||Y===27){g=C=P;continue e}N=N.parentNode}}g=g.return}n0(function(){var Q=C,ie=sd(f),le=[];e:{var J=P0.get(r);if(J!==void 0){var te=Mc,we=r;switch(r){case"keypress":if(Ac(f)===0)break e;case"keydown":case"keyup":te=xA;break;case"focusin":we="focus",te=ld;break;case"focusout":we="blur",te=ld;break;case"beforeblur":case"afterblur":te=ld;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=rA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_A;break;case k0:case E0:case R0:te=cA;break;case D0:te=SA;break;case"scroll":case"scrollend":te=nA;break;case"wheel":te=AA;break;case"copy":case"cut":case"paste":te=hA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=c0;break;case"toggle":case"beforetoggle":te=MA}var ve=(l&4)!==0,Qe=!ve&&(r==="scroll"||r==="scrollend"),q=ve?J!==null?J+"Capture":null:J;ve=[];for(var V=Q,$;V!==null;){var re=V;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||q===null||(re=Mo(V,q),re!=null&&ve.push(cl(V,re,$))),Qe)break;V=V.return}0<ve.length&&(J=new te(J,we,null,f,ie),le.push({event:J,listeners:ve}))}}if((l&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",J&&f!==td&&(we=f.relatedTarget||f.fromElement)&&(sr(we)||we[tr]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(we=f.relatedTarget||f.toElement,te=Q,we=we?sr(we):null,we!==null&&(Qe=a(we),ve=we.tag,we!==Qe||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(te=null,we=Q),te!==we)){if(ve=o0,re="onMouseLeave",q="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(ve=c0,re="onPointerLeave",q="onPointerEnter",V="pointer"),Qe=te==null?J:To(te),$=we==null?J:To(we),J=new ve(re,V+"leave",te,f,ie),J.target=Qe,J.relatedTarget=$,re=null,sr(ie)===Q&&(ve=new ve(q,V+"enter",we,f,ie),ve.target=$,ve.relatedTarget=Qe,re=ve),Qe=re,te&&we)t:{for(ve=te,q=we,V=0,$=ve;$;$=Lr($))V++;for($=0,re=q;re;re=Lr(re))$++;for(;0<V-$;)ve=Lr(ve),V--;for(;0<$-V;)q=Lr(q),$--;for(;V--;){if(ve===q||q!==null&&ve===q.alternate)break t;ve=Lr(ve),q=Lr(q)}ve=null}else ve=null;te!==null&&Zx(le,J,te,ve,!1),we!==null&&Qe!==null&&Zx(le,Qe,we,ve,!0)}}e:{if(J=Q?To(Q):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var me=y0;else if(g0(J))if(x0)me=IA;else{me=NA;var Ee=OA}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&ed(Q.elementType)&&(me=y0):me=LA;if(me&&(me=me(r,Q))){p0(le,me,f,ie);break e}Ee&&Ee(r,J,Q),r==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&Jh(J,"number",J.value)}switch(Ee=Q?To(Q):window,r){case"focusin":(g0(Ee)||Ee.contentEditable==="true")&&(dr=Ee,md=Q,No=null);break;case"focusout":No=md=dr=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,T0(le,f,ie);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":T0(le,f,ie)}var xe;if(ud)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else hr?f0(r,f)&&(_e="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(_e="onCompositionStart");_e&&(u0&&f.locale!=="ko"&&(hr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&hr&&(xe=a0()):(Mn=ie,ad="value"in Mn?Mn.value:Mn.textContent,hr=!0)),Ee=mu(Q,_e),0<Ee.length&&(_e=new l0(_e,r,null,f,ie),le.push({event:_e,listeners:Ee}),xe?_e.data=xe:(xe=m0(f),xe!==null&&(_e.data=xe)))),(xe=EA?RA(r,f):DA(r,f))&&(_e=mu(Q,"onBeforeInput"),0<_e.length&&(Ee=new l0("onBeforeInput","beforeinput",null,f,ie),le.push({event:Ee,listeners:_e}),Ee.data=xe)),_T(le,r,Q,f,ie)}Kx(le,l)})}function cl(r,l,f){return{instance:r,listener:l,currentTarget:f}}function mu(r,l){for(var f=l+"Capture",g=[];r!==null;){var b=r,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=Mo(r,f),b!=null&&g.unshift(cl(r,b,C)),b=Mo(r,l),b!=null&&g.push(cl(r,b,C))),r.tag===3)return g;r=r.return}return[]}function Lr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Zx(r,l,f,g,b){for(var C=l._reactName,P=[];f!==null&&f!==g;){var N=f,Y=N.alternate,Q=N.stateNode;if(N=N.tag,Y!==null&&Y===g)break;N!==5&&N!==26&&N!==27||Q===null||(Y=Q,b?(Q=Mo(f,C),Q!=null&&P.unshift(cl(f,Q,Y))):b||(Q=Mo(f,C),Q!=null&&P.push(cl(f,Q,Y)))),f=f.return}P.length!==0&&r.push({event:l,listeners:P})}var AT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function Jx(r){return(typeof r=="string"?r:""+r).replace(AT,`
`).replace(TT,"")}function eb(r,l){return l=Jx(l),Jx(r)===l}function gu(){}function Ke(r,l,f,g,b,C){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||lr(r,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&lr(r,""+g);break;case"className":vc(r,"class",g);break;case"tabIndex":vc(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":vc(r,f,g);break;case"style":s0(r,g,C);break;case"data":if(l!=="object"){vc(r,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){r.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Sc(""+g),r.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(l!=="input"&&Ke(r,l,"name",b.name,b,null),Ke(r,l,"formEncType",b.formEncType,b,null),Ke(r,l,"formMethod",b.formMethod,b,null),Ke(r,l,"formTarget",b.formTarget,b,null)):(Ke(r,l,"encType",b.encType,b,null),Ke(r,l,"method",b.method,b,null),Ke(r,l,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=Sc(""+g),r.setAttribute(f,g);break;case"onClick":g!=null&&(r.onclick=gu);break;case"onScroll":g!=null&&Pe("scroll",r);break;case"onScrollEnd":g!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(f=g.__html,f!=null){if(b.children!=null)throw Error(s(60));r.innerHTML=f}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}f=Sc(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""+g):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":g===!0?r.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,g):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(f,g):r.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(f):r.setAttribute(f,g);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),bc(r,"popover",g);break;case"xlinkActuate":Qi(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Qi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Qi(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Qi(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Qi(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Qi(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Qi(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Qi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Qi(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":bc(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=sA.get(f)||f,bc(r,f,g))}}function Ff(r,l,f,g,b,C){switch(f){case"style":s0(r,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(s(61));if(f=g.__html,f!=null){if(b.children!=null)throw Error(s(60));r.innerHTML=f}}break;case"children":typeof g=="string"?lr(r,g):(typeof g=="number"||typeof g=="bigint")&&lr(r,""+g);break;case"onScroll":g!=null&&Pe("scroll",r);break;case"onScrollEnd":g!=null&&Pe("scrollend",r);break;case"onClick":g!=null&&(r.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xp.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),l=f.slice(2,b?f.length-7:void 0),C=r[xs]||null,C=C!=null?C[f]:null,typeof C=="function"&&r.removeEventListener(l,C,b),typeof g=="function")){typeof C!="function"&&C!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(l,g,b);break e}f in r?r[f]=g:g===!0?r.setAttribute(f,""):bc(r,f,g)}}}function Zt(r,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var g=!1,b=!1,C;for(C in f)if(f.hasOwnProperty(C)){var P=f[C];if(P!=null)switch(C){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ke(r,l,C,P,f,null)}}b&&Ke(r,l,"srcSet",f.srcSet,f,null),g&&Ke(r,l,"src",f.src,f,null);return;case"input":Pe("invalid",r);var N=C=P=b=null,Y=null,Q=null;for(g in f)if(f.hasOwnProperty(g)){var ie=f[g];if(ie!=null)switch(g){case"name":b=ie;break;case"type":P=ie;break;case"checked":Y=ie;break;case"defaultChecked":Q=ie;break;case"value":C=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,l));break;default:Ke(r,l,g,ie,f,null)}}Zp(r,C,N,Y,Q,P,b,!1),_c(r);return;case"select":Pe("invalid",r),g=P=C=null;for(b in f)if(f.hasOwnProperty(b)&&(N=f[b],N!=null))switch(b){case"value":C=N;break;case"defaultValue":P=N;break;case"multiple":g=N;default:Ke(r,l,b,N,f,null)}l=C,f=P,r.multiple=!!g,l!=null?or(r,!!g,l,!1):f!=null&&or(r,!!g,f,!0);return;case"textarea":Pe("invalid",r),C=b=g=null;for(P in f)if(f.hasOwnProperty(P)&&(N=f[P],N!=null))switch(P){case"value":g=N;break;case"defaultValue":b=N;break;case"children":C=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Ke(r,l,P,N,f,null)}e0(r,g,b,C),_c(r);return;case"option":for(Y in f)if(f.hasOwnProperty(Y)&&(g=f[Y],g!=null))switch(Y){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ke(r,l,Y,g,f,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(g=0;g<ll.length;g++)Pe(ll[g],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(g=f[Q],g!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ke(r,l,Q,g,f,null)}return;default:if(ed(l)){for(ie in f)f.hasOwnProperty(ie)&&(g=f[ie],g!==void 0&&Ff(r,l,ie,g,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(g=f[N],g!=null&&Ke(r,l,N,g,f,null))}function MT(r,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,P=null,N=null,Y=null,Q=null,ie=null;for(te in f){var le=f[te];if(f.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":Y=le;default:g.hasOwnProperty(te)||Ke(r,l,te,null,g,le)}}for(var J in g){var te=g[J];if(le=f[J],g.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":C=te;break;case"name":b=te;break;case"checked":Q=te;break;case"defaultChecked":ie=te;break;case"value":P=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,l));break;default:te!==le&&Ke(r,l,J,te,g,le)}}Zh(r,P,N,Y,Q,ie,C,b);return;case"select":te=P=N=J=null;for(C in f)if(Y=f[C],f.hasOwnProperty(C)&&Y!=null)switch(C){case"value":break;case"multiple":te=Y;default:g.hasOwnProperty(C)||Ke(r,l,C,null,g,Y)}for(b in g)if(C=g[b],Y=f[b],g.hasOwnProperty(b)&&(C!=null||Y!=null))switch(b){case"value":J=C;break;case"defaultValue":N=C;break;case"multiple":P=C;default:C!==Y&&Ke(r,l,b,C,g,Y)}l=N,f=P,g=te,J!=null?or(r,!!f,J,!1):!!g!=!!f&&(l!=null?or(r,!!f,l,!0):or(r,!!f,f?[]:"",!1));return;case"textarea":te=J=null;for(N in f)if(b=f[N],f.hasOwnProperty(N)&&b!=null&&!g.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ke(r,l,N,null,g,b)}for(P in g)if(b=g[P],C=f[P],g.hasOwnProperty(P)&&(b!=null||C!=null))switch(P){case"value":J=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:b!==C&&Ke(r,l,P,b,g,C)}Jp(r,J,te);return;case"option":for(var we in f)if(J=f[we],f.hasOwnProperty(we)&&J!=null&&!g.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:Ke(r,l,we,null,g,J)}for(Y in g)if(J=g[Y],te=f[Y],g.hasOwnProperty(Y)&&J!==te&&(J!=null||te!=null))switch(Y){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ke(r,l,Y,J,g,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in f)J=f[ve],f.hasOwnProperty(ve)&&J!=null&&!g.hasOwnProperty(ve)&&Ke(r,l,ve,null,g,J);for(Q in g)if(J=g[Q],te=f[Q],g.hasOwnProperty(Q)&&J!==te&&(J!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,l));break;default:Ke(r,l,Q,J,g,te)}return;default:if(ed(l)){for(var Qe in f)J=f[Qe],f.hasOwnProperty(Qe)&&J!==void 0&&!g.hasOwnProperty(Qe)&&Ff(r,l,Qe,void 0,g,J);for(ie in g)J=g[ie],te=f[ie],!g.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||Ff(r,l,ie,J,g,te);return}}for(var q in f)J=f[q],f.hasOwnProperty(q)&&J!=null&&!g.hasOwnProperty(q)&&Ke(r,l,q,null,g,J);for(le in g)J=g[le],te=f[le],!g.hasOwnProperty(le)||J===te||J==null&&te==null||Ke(r,l,le,J,g,te)}var jf=null,Yf=null;function pu(r){return r.nodeType===9?r:r.ownerDocument}function tb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Uf(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vf=null;function kT(){var r=window.event;return r&&r.type==="popstate"?r===Vf?!1:(Vf=r,!0):(Vf=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(r){return nb.resolve(null).then(r).catch(DT)}:ib;function DT(r){setTimeout(function(){throw r})}function Vn(r){return r==="head"}function ab(r,l){var f=l,g=0,b=0;do{var C=f.nextSibling;if(r.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(0<g&&8>g){f=g;var P=r.ownerDocument;if(f&1&&ul(P.documentElement),f&2&&ul(P.body),f&4)for(f=P.head,ul(f),P=f.firstChild;P;){var N=P.nextSibling,Y=P.nodeName;P[Ao]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&P.rel.toLowerCase()==="stylesheet"||f.removeChild(P),P=N}}if(b===0){r.removeChild(C),xl(l);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:g=f.charCodeAt(0)-48;else g=0;f=C}while(f);xl(l)}function Hf(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Hf(f),Wh(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function PT(r,l,f,g){for(;r.nodeType===1;){var b=f;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[Ao])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=yi(r.nextSibling),r===null)break}return null}function BT(r,l,f){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=yi(r.nextSibling),r===null))return null;return r}function Xf(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function OT(r,l){var f=r.ownerDocument;if(r.data!=="$?"||f.readyState==="complete")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function yi(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var Gf=null;function rb(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return r;l--}else f==="/$"&&l++}r=r.previousSibling}return null}function ob(r,l,f){switch(l=pu(f),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ul(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Wh(r)}var ni=new Map,lb=new Set;function yu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var dn=U.d;U.d={f:NT,r:LT,D:IT,C:zT,L:FT,m:jT,X:UT,S:YT,M:VT};function NT(){var r=dn.f(),l=lu();return r||l}function LT(r){var l=ir(r);l!==null&&l.tag===5&&l.type==="form"?ky(l):dn.r(r)}var Ir=typeof document>"u"?null:document;function cb(r,l,f){var g=Ir;if(g&&typeof l=="string"&&l){var b=Qs(l);b='link[rel="'+r+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),lb.has(b)||(lb.add(b),r={rel:r,crossOrigin:f,href:l},g.querySelector(b)===null&&(l=g.createElement("link"),Zt(l,"link",r),Yt(l),g.head.appendChild(l)))}}function IT(r){dn.D(r),cb("dns-prefetch",r,null)}function zT(r,l){dn.C(r,l),cb("preconnect",r,l)}function FT(r,l,f){dn.L(r,l,f);var g=Ir;if(g&&r&&l){var b='link[rel="preload"][as="'+Qs(l)+'"]';l==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Qs(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Qs(f.imageSizes)+'"]')):b+='[href="'+Qs(r)+'"]';var C=b;switch(l){case"style":C=zr(r);break;case"script":C=Fr(r)}ni.has(C)||(r=d({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:r,as:l},f),ni.set(C,r),g.querySelector(b)!==null||l==="style"&&g.querySelector(hl(C))||l==="script"&&g.querySelector(dl(C))||(l=g.createElement("link"),Zt(l,"link",r),Yt(l),g.head.appendChild(l)))}}function jT(r,l){dn.m(r,l);var f=Ir;if(f&&r){var g=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Qs(g)+'"][href="'+Qs(r)+'"]',C=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Fr(r)}if(!ni.has(C)&&(r=d({rel:"modulepreload",href:r},l),ni.set(C,r),f.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(dl(C)))return}g=f.createElement("link"),Zt(g,"link",r),Yt(g),f.head.appendChild(g)}}}function YT(r,l,f){dn.S(r,l,f);var g=Ir;if(g&&r){var b=nr(g).hoistableStyles,C=zr(r);l=l||"default";var P=b.get(C);if(!P){var N={loading:0,preload:null};if(P=g.querySelector(hl(C)))N.loading=5;else{r=d({rel:"stylesheet",href:r,"data-precedence":l},f),(f=ni.get(C))&&qf(r,f);var Y=P=g.createElement("link");Yt(Y),Zt(Y,"link",r),Y._p=new Promise(function(Q,ie){Y.onload=Q,Y.onerror=ie}),Y.addEventListener("load",function(){N.loading|=1}),Y.addEventListener("error",function(){N.loading|=2}),N.loading|=4,xu(P,l,g)}P={type:"stylesheet",instance:P,count:1,state:N},b.set(C,P)}}}function UT(r,l){dn.X(r,l);var f=Ir;if(f&&r){var g=nr(f).hoistableScripts,b=Fr(r),C=g.get(b);C||(C=f.querySelector(dl(b)),C||(r=d({src:r,async:!0},l),(l=ni.get(b))&&Wf(r,l),C=f.createElement("script"),Yt(C),Zt(C,"link",r),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function VT(r,l){dn.M(r,l);var f=Ir;if(f&&r){var g=nr(f).hoistableScripts,b=Fr(r),C=g.get(b);C||(C=f.querySelector(dl(b)),C||(r=d({src:r,async:!0,type:"module"},l),(l=ni.get(b))&&Wf(r,l),C=f.createElement("script"),Yt(C),Zt(C,"link",r),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function ub(r,l,f,g){var b=(b=fe.current)?yu(b):null;if(!b)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=zr(f.href),f=nr(b).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=zr(f.href);var C=nr(b).hoistableStyles,P=C.get(r);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,P),(C=b.querySelector(hl(r)))&&!C._p&&(P.instance=C,P.state.loading=5),ni.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ni.set(r,f),C||HT(b,r,f,P.state))),l&&g===null)throw Error(s(528,""));return P}if(l&&g!==null)throw Error(s(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Fr(f),f=nr(b).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function zr(r){return'href="'+Qs(r)+'"'}function hl(r){return'link[rel="stylesheet"]['+r+"]"}function hb(r){return d({},r,{"data-precedence":r.precedence,precedence:null})}function HT(r,l,f,g){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=r.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Zt(l,"link",f),Yt(l),r.head.appendChild(l))}function Fr(r){return'[src="'+Qs(r)+'"]'}function dl(r){return"script[async]"+r}function db(r,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=r.querySelector('style[data-href~="'+Qs(f.href)+'"]');if(g)return l.instance=g,Yt(g),g;var b=d({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),Yt(g),Zt(g,"style",b),xu(g,f.precedence,r),l.instance=g;case"stylesheet":b=zr(f.href);var C=r.querySelector(hl(b));if(C)return l.state.loading|=4,l.instance=C,Yt(C),C;g=hb(f),(b=ni.get(b))&&qf(g,b),C=(r.ownerDocument||r).createElement("link"),Yt(C);var P=C;return P._p=new Promise(function(N,Y){P.onload=N,P.onerror=Y}),Zt(C,"link",g),l.state.loading|=4,xu(C,f.precedence,r),l.instance=C;case"script":return C=Fr(f.src),(b=r.querySelector(dl(C)))?(l.instance=b,Yt(b),b):(g=f,(b=ni.get(C))&&(g=d({},f),Wf(g,b)),r=r.ownerDocument||r,b=r.createElement("script"),Yt(b),Zt(b,"link",g),r.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,xu(g,f.precedence,r));return l.instance}function xu(r,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,C=b,P=0;P<g.length;P++){var N=g[P];if(N.dataset.precedence===l)C=N;else if(C!==b)break}C?C.parentNode.insertBefore(r,C.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(r,l.firstChild))}function qf(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Wf(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var bu=null;function fb(r,l,f){if(bu===null){var g=new Map,b=bu=new Map;b.set(f,g)}else b=bu,g=b.get(f),g||(g=new Map,b.set(f,g));if(g.has(r))return g;for(g.set(r,null),f=f.getElementsByTagName(r),b=0;b<f.length;b++){var C=f[b];if(!(C[Ao]||C[is]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(l)||"";P=r+P;var N=g.get(P);N?N.push(C):g.set(P,[C])}}return g}function mb(r,l,f){r=r.ownerDocument||r,r.head.insertBefore(f,l==="title"?r.querySelector("head > title"):null)}function XT(r,l,f){if(f===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var fl=null;function GT(){}function qT(r,l,f){if(fl===null)throw Error(s(475));var g=fl;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=zr(f.href),C=r.querySelector(hl(b));if(C){r=C._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=vu.bind(g),r.then(g,g)),l.state.loading|=4,l.instance=C,Yt(C);return}C=r.ownerDocument||r,f=hb(f),(b=ni.get(b))&&qf(f,b),C=C.createElement("link"),Yt(C);var P=C;P._p=new Promise(function(N,Y){P.onload=N,P.onerror=Y}),Zt(C,"link",f),l.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=vu.bind(g),r.addEventListener("load",l),r.addEventListener("error",l))}}function WT(){if(fl===null)throw Error(s(475));var r=fl;return r.stylesheets&&r.count===0&&$f(r,r.stylesheets),0<r.count?function(l){var f=setTimeout(function(){if(r.stylesheets&&$f(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(f)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _u=null;function $f(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_u=new Map,l.forEach($T,r),_u=null,vu.call(r))}function $T(r,l){if(!(l.state.loading&4)){var f=_u.get(r);if(f)var g=f.get(null);else{f=new Map,_u.set(r,f);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var P=b[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(f.set(P.dataset.precedence,P),g=P)}g&&f.set(null,g)}b=l.instance,P=b.getAttribute("data-precedence"),C=f.get(P)||g,C===g&&f.set(null,b),f.set(P,b),this.count++,g=vu.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),C?C.parentNode.insertBefore(b,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),l.state.loading|=4}}var ml={$$typeof:w,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function KT(r,l,f,g,b,C,P,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.hiddenUpdates=Hh(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function pb(r,l,f,g,b,C,P,N,Y,Q,ie,le){return r=new KT(r,l,f,P,N,Y,Q,le),l=1,C===!0&&(l|=24),C=Bs(3,null,null,l),r.current=C,C.stateNode=r,l=Ed(),l.refCount++,r.pooledCache=l,l.refCount++,C.memoizedState={element:g,isDehydrated:f,cache:l},Bd(C),r}function yb(r){return r?(r=pr,r):pr}function xb(r,l,f,g,b,C){b=yb(b),g.context===null?g.context=b:g.pendingContext=b,g=Rn(l),g.payload={element:f},C=C===void 0?null:C,C!==null&&(g.callback=C),f=Dn(r,g,l),f!==null&&(zs(f,r,l),Ho(f,r,l))}function bb(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<l?f:l}}function Kf(r,l){bb(r,l),(r=r.alternate)&&bb(r,l)}function vb(r){if(r.tag===13){var l=gr(r,67108864);l!==null&&zs(l,r,67108864),Kf(r,67108864)}}var wu=!0;function QT(r,l,f,g){var b=I.T;I.T=null;var C=U.p;try{U.p=2,Qf(r,l,f,g)}finally{U.p=C,I.T=b}}function ZT(r,l,f,g){var b=I.T;I.T=null;var C=U.p;try{U.p=8,Qf(r,l,f,g)}finally{U.p=C,I.T=b}}function Qf(r,l,f,g){if(wu){var b=Zf(g);if(b===null)zf(r,l,g,Su,f),wb(r,g);else if(eM(b,r,l,f,g))g.stopPropagation();else if(wb(r,g),l&4&&-1<JT.indexOf(r)){for(;b!==null;){var C=ir(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=ca(C.pendingLanes);if(P!==0){var N=C;for(N.pendingLanes|=2,N.entangledLanes|=2;P;){var Y=1<<31-Ds(P);N.entanglements[1]|=Y,P&=~Y}Ni(C),(qe&6)===0&&(ru=Tt()+500,ol(0))}}break;case 13:N=gr(C,2),N!==null&&zs(N,C,2),lu(),Kf(C,2)}if(C=Zf(g),C===null&&zf(r,l,g,Su,f),C===b)break;b=C}b!==null&&g.stopPropagation()}else zf(r,l,g,null,f)}}function Zf(r){return r=sd(r),Jf(r)}var Su=null;function Jf(r){if(Su=null,r=sr(r),r!==null){var l=a(r);if(l===null)r=null;else{var f=l.tag;if(f===13){if(r=o(l),r!==null)return r;r=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Su=r,null}function _b(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ei()){case Ri:return 2;case vo:return 8;case mi:case la:return 32;case _o:return 268435456;default:return 32}default:return 32}}var em=!1,Hn=null,Xn=null,Gn=null,gl=new Map,pl=new Map,qn=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wb(r,l){switch(r){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":gl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(l.pointerId)}}function yl(r,l,f,g,b,C){return r===null||r.nativeEvent!==C?(r={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:C,targetContainers:[b]},l!==null&&(l=ir(l),l!==null&&vb(l)),r):(r.eventSystemFlags|=g,l=r.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),r)}function eM(r,l,f,g,b){switch(l){case"focusin":return Hn=yl(Hn,r,l,f,g,b),!0;case"dragenter":return Xn=yl(Xn,r,l,f,g,b),!0;case"mouseover":return Gn=yl(Gn,r,l,f,g,b),!0;case"pointerover":var C=b.pointerId;return gl.set(C,yl(gl.get(C)||null,r,l,f,g,b)),!0;case"gotpointercapture":return C=b.pointerId,pl.set(C,yl(pl.get(C)||null,r,l,f,g,b)),!0}return!1}function Sb(r){var l=sr(r.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){r.blockedOn=l,qC(r.priority,function(){if(f.tag===13){var g=Is();g=Xh(g);var b=gr(f,g);b!==null&&zs(b,f,g),Kf(f,g)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cu(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var f=Zf(r.nativeEvent);if(f===null){f=r.nativeEvent;var g=new f.constructor(f.type,f);td=g,f.target.dispatchEvent(g),td=null}else return l=ir(f),l!==null&&vb(l),r.blockedOn=f,!1;l.shift()}return!0}function Cb(r,l,f){Cu(r)&&f.delete(l)}function tM(){em=!1,Hn!==null&&Cu(Hn)&&(Hn=null),Xn!==null&&Cu(Xn)&&(Xn=null),Gn!==null&&Cu(Gn)&&(Gn=null),gl.forEach(Cb),pl.forEach(Cb)}function Au(r,l){r.blockedOn===l&&(r.blockedOn=null,em||(em=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tM)))}var Tu=null;function Ab(r){Tu!==r&&(Tu=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tu===r&&(Tu=null);for(var l=0;l<r.length;l+=3){var f=r[l],g=r[l+1],b=r[l+2];if(typeof g!="function"){if(Jf(g||f)===null)continue;break}var C=ir(f);C!==null&&(r.splice(l,3),l-=3,Zd(C,{pending:!0,data:b,method:f.method,action:g},g,b))}}))}function xl(r){function l(Y){return Au(Y,r)}Hn!==null&&Au(Hn,r),Xn!==null&&Au(Xn,r),Gn!==null&&Au(Gn,r),gl.forEach(l),pl.forEach(l);for(var f=0;f<qn.length;f++){var g=qn[f];g.blockedOn===r&&(g.blockedOn=null)}for(;0<qn.length&&(f=qn[0],f.blockedOn===null);)Sb(f),f.blockedOn===null&&qn.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var b=f[g],C=f[g+1],P=b[xs]||null;if(typeof C=="function")P||Ab(f);else if(P){var N=null;if(C&&C.hasAttribute("formAction")){if(b=C,P=C[xs]||null)N=P.formAction;else if(Jf(b)!==null)continue}else N=P.action;typeof N=="function"?f[g+1]=N:(f.splice(g,3),g-=3),Ab(f)}}}function tm(r){this._internalRoot=r}Mu.prototype.render=tm.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var f=l.current,g=Is();xb(f,g,r,l,null,null)},Mu.prototype.unmount=tm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;xb(r.current,2,null,r,null,null),lu(),l[tr]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var l=Up();r={blockedOn:null,target:r,priority:l};for(var f=0;f<qn.length&&l!==0&&l<qn[f].priority;f++);qn.splice(f,0,r),f===0&&Sb(r)}};var Tb=e.version;if(Tb!=="19.1.0")throw Error(s(527,Tb,"19.1.0"));U.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(l),r=r!==null?u(r):null,r=r===null?null:r.stateNode,r};var sM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{wo=ku.inject(sM),Rs=ku}catch{}}return vl.createRoot=function(r,l){if(!i(r))throw Error(s(299));var f=!1,g="",b=Uy,C=Vy,P=Hy,N=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks)),l=pb(r,1,!1,null,null,f,g,b,C,P,N,null),r[tr]=l.current,If(r),new tm(l)},vl.hydrateRoot=function(r,l,f){if(!i(r))throw Error(s(299));var g=!1,b="",C=Uy,P=Vy,N=Hy,Y=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(P=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Y=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),l=pb(r,1,!0,l,f??null,g,b,C,P,N,Y,Q),l.context=yb(null),f=l.current,g=Is(),g=Xh(g),b=Rn(g),b.callback=null,Dn(f,b,g),f=g,l.current.lanes=f,Co(l,f),Ni(l),r[tr]=l.current,If(r),new Mu(l)},vl.version="19.1.0",vl}var Lb;function fM(){if(Lb)return nm.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nm.exports=dM(),nm.exports}var mM=fM();const gM="modulepreload",pM=function(n){return"/"+n},Ib={},Ju=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(t.map(u=>{if(u=pM(u),u in Ib)return;Ib[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":gM,d||(y.as="script"),y.crossOrigin="",y.href=u,h&&y.setAttribute("nonce",h),document.head.appendChild(y),d)return new Promise((p,x)=>{y.addEventListener("load",p),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var ge=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n.ShapeBuilder="shape-builder",n.Batcher="batcher",n))(ge||{});const Km=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},Eu=(n,e)=>Km(n).priority??e,Dt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(Km).forEach(e=>{e.type.forEach(t=>{var s,i;return(i=(s=this._removeHandlers)[t])==null?void 0:i.call(s,e)})}),this},add(...n){return n.map(Km).forEach(e=>{e.type.forEach(t=>{var a,o;const s=this._addHandlers,i=this._queue;s[t]?(o=s[t])==null||o.call(s,e):(i[t]=i[t]||[],(a=i[t])==null||a.push(e))})}),this},handle(n,e,t){var o;const s=this._addHandlers,i=this._removeHandlers;if(s[n]||i[n])throw new Error(`Extension type ${n} already has a handler`);s[n]=e,i[n]=t;const a=this._queue;return a[n]&&((o=a[n])==null||o.forEach(c=>e(c)),delete a[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(n,e,t=-1){return this.handle(n,s=>{e.findIndex(a=>a.name===s.name)>=0||(e.push({name:s.name,value:s.ref}),e.sort((a,o)=>Eu(o.value,t)-Eu(a.value,t)))},s=>{const i=e.findIndex(a=>a.name===s.name);i!==-1&&e.splice(i,1)})},handleByList(n,e,t=-1){return this.handle(n,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((i,a)=>Eu(a,t)-Eu(i,t)))},s=>{const i=e.indexOf(s.ref);i!==-1&&e.splice(i,1)})},mixin(n,...e){for(const t of e)Object.defineProperties(n.prototype,Object.getOwnPropertyDescriptors(t))}},yM={extension:{type:ge.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Ju(()=>import("./browserAll-B50az2Pj.js"),__vite__mapDeps([0,1,2]))}},xM={extension:{type:ge.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Ju(()=>import("./webworkerAll-Do-zjiOh.js"),__vite__mapDeps([1,2]))}};class os{constructor(e,t,s){this._x=t||0,this._y=s||0,this._observer=e}clone(e){return new os(e??this._observer,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var lm={exports:{}},zb;function bM(){return zb||(zb=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function i(h,u,d){this.fn=h,this.context=u,this.once=d||!1}function a(h,u,d,m,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,m||h,y),x=t?t+u:u;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],p]:h._events[x].push(p):(h._events[x]=p,h._eventsCount++),h}function o(h,u){--h._eventsCount===0?h._events=new s:delete h._events[u]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)e.call(d,m)&&u.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=t?t+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,p=m.length,x=new Array(p);y<p;y++)x[y]=m[y].fn;return x},c.prototype.listenerCount=function(u){var d=t?t+u:u,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(u,d,m,y,p,x){var v=t?t+u:u;if(!this._events[v])return!1;var _=this._events[v],A=arguments.length,S,w;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),A){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,m),!0;case 4:return _.fn.call(_.context,d,m,y),!0;case 5:return _.fn.call(_.context,d,m,y,p),!0;case 6:return _.fn.call(_.context,d,m,y,p,x),!0}for(w=1,S=new Array(A-1);w<A;w++)S[w-1]=arguments[w];_.fn.apply(_.context,S)}else{var T=_.length,R;for(w=0;w<T;w++)switch(_[w].once&&this.removeListener(u,_[w].fn,void 0,!0),A){case 1:_[w].fn.call(_[w].context);break;case 2:_[w].fn.call(_[w].context,d);break;case 3:_[w].fn.call(_[w].context,d,m);break;case 4:_[w].fn.call(_[w].context,d,m,y);break;default:if(!S)for(R=1,S=new Array(A-1);R<A;R++)S[R-1]=arguments[R];_[w].fn.apply(_[w].context,S)}}return!0},c.prototype.on=function(u,d,m){return a(this,u,d,m,!1)},c.prototype.once=function(u,d,m){return a(this,u,d,m,!0)},c.prototype.removeListener=function(u,d,m,y){var p=t?t+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!y||x.once)&&(!m||x.context===m)&&o(this,p);else{for(var v=0,_=[],A=x.length;v<A;v++)(x[v].fn!==d||y&&!x[v].once||m&&x[v].context!==m)&&_.push(x[v]);_.length?this._events[p]=_.length===1?_[0]:_:o(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c}(lm)),lm.exports}var vM=bM();const Ti=$g(vM),_M=Math.PI*2,wM=180/Math.PI,SM=Math.PI/180;class us{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new us(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return cm.x=0,cm.y=0,cm}}const cm=new us;class Le{constructor(e=1,t=0,s=0,i=1,a=0,o=0){this.array=null,this.a=e,this.b=t,this.c=s,this.d=i,this.tx=a,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,s,i,a,o){return this.a=e,this.b=t,this.c=s,this.d=i,this.tx=a,this.ty=o,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const s=t||this.array;return e?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(e,t){t=t||new us;const s=e.x,i=e.y;return t.x=this.a*s+this.c*i+this.tx,t.y=this.b*s+this.d*i+this.ty,t}applyInverse(e,t){t=t||new us;const s=this.a,i=this.b,a=this.c,o=this.d,c=this.tx,h=this.ty,u=1/(s*o+a*-i),d=e.x,m=e.y;return t.x=o*u*d+-a*u*m+(h*a-c*o)*u,t.y=s*u*m+-i*u*d+(-h*s+c*i)*u,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),s=Math.sin(e),i=this.a,a=this.c,o=this.tx;return this.a=i*t-this.b*s,this.b=i*s+this.b*t,this.c=a*t-this.d*s,this.d=a*s+this.d*t,this.tx=o*t-this.ty*s,this.ty=o*s+this.ty*t,this}append(e){const t=this.a,s=this.b,i=this.c,a=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*s+e.b*a,this.c=e.c*t+e.d*i,this.d=e.c*s+e.d*a,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*s+e.ty*a+this.ty,this}appendFrom(e,t){const s=e.a,i=e.b,a=e.c,o=e.d,c=e.tx,h=e.ty,u=t.a,d=t.b,m=t.c,y=t.d;return this.a=s*u+i*m,this.b=s*d+i*y,this.c=a*u+o*m,this.d=a*d+o*y,this.tx=c*u+h*m+t.tx,this.ty=c*d+h*y+t.ty,this}setTransform(e,t,s,i,a,o,c,h,u){return this.a=Math.cos(c+u)*a,this.b=Math.sin(c+u)*a,this.c=-Math.sin(c-h)*o,this.d=Math.cos(c-h)*o,this.tx=e-(s*this.a+i*this.c),this.ty=t-(s*this.b+i*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const s=this.a,i=this.c;this.a=s*e.a+this.b*e.c,this.b=s*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,s=this.b,i=this.c,a=this.d,o=e.pivot,c=-Math.atan2(-i,a),h=Math.atan2(s,t),u=Math.abs(c+h);return u<1e-5||Math.abs(_M-u)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=c,e.skew.y=h),e.scale.x=Math.sqrt(t*t+s*s),e.scale.y=Math.sqrt(i*i+a*a),e.position.x=this.tx+(o.x*t+o.y*i),e.position.y=this.ty+(o.x*s+o.y*a),e}invert(){const e=this.a,t=this.b,s=this.c,i=this.d,a=this.tx,o=e*i-t*s;return this.a=i/o,this.b=-t/o,this.c=-s/o,this.d=e/o,this.tx=(s*this.ty-i*a)/o,this.ty=-(e*this.ty-t*a)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Le;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return AM.identity()}static get shared(){return CM.identity()}}const CM=new Le,AM=new Le,Ra=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Da=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Pa=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ba=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Qm=[],Xv=[],Ru=Math.sign;function TM(){for(let n=0;n<16;n++){const e=[];Qm.push(e);for(let t=0;t<16;t++){const s=Ru(Ra[n]*Ra[t]+Pa[n]*Da[t]),i=Ru(Da[n]*Ra[t]+Ba[n]*Da[t]),a=Ru(Ra[n]*Pa[t]+Pa[n]*Ba[t]),o=Ru(Da[n]*Pa[t]+Ba[n]*Ba[t]);for(let c=0;c<16;c++)if(Ra[c]===s&&Da[c]===i&&Pa[c]===a&&Ba[c]===o){e.push(c);break}}}for(let n=0;n<16;n++){const e=new Le;e.set(Ra[n],Da[n],Pa[n],Ba[n],0,0),Xv.push(e)}}TM();const Ze={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Ra[n],uY:n=>Da[n],vX:n=>Pa[n],vY:n=>Ba[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>Qm[n][e],sub:(n,e)=>Qm[n][Ze.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?Ze.S:Ze.N:Math.abs(e)*2<=Math.abs(n)?n>0?Ze.E:Ze.W:e>0?n>0?Ze.SE:Ze.SW:n>0?Ze.NE:Ze.NW,matrixAppendRotationInv:(n,e,t=0,s=0)=>{const i=Xv[Ze.inv(e)];i.tx=t,i.ty=s,n.append(i)},transformRectCoords:(n,e,t,s)=>{const{x:i,y:a,width:o,height:c}=n,{x:h,y:u,width:d,height:m}=e;return t===Ze.E?(s.set(i+h,a+u,o,c),s):t===Ze.S?s.set(d-a-c+h,i+u,c,o):t===Ze.W?s.set(d-i-o+h,m-a-c+u,o,c):t===Ze.N?s.set(a+h,m-i-o+u,c,o):s.set(i+h,a+u,o,c)}},Du=[new us,new us,new us,new us];class Rt{constructor(e=0,t=0,s=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(s),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rt(0,0,0,0)}clone(){return new Rt(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}strokeContains(e,t,s,i=.5){const{width:a,height:o}=this;if(a<=0||o<=0)return!1;const c=this.x,h=this.y,u=s*(1-i),d=s-u,m=c-u,y=c+a+u,p=h-u,x=h+o+u,v=c+d,_=c+a-d,A=h+d,S=h+o-d;return e>=m&&e<=y&&t>=p&&t<=x&&!(e>v&&e<_&&t>A&&t<S)}intersects(e,t){if(!t){const B=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=B)return!1;const L=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>L}const s=this.left,i=this.right,a=this.top,o=this.bottom;if(i<=s||o<=a)return!1;const c=Du[0].set(e.left,e.top),h=Du[1].set(e.left,e.bottom),u=Du[2].set(e.right,e.top),d=Du[3].set(e.right,e.bottom);if(u.x<=c.x||h.y<=c.y)return!1;const m=Math.sign(t.a*t.d-t.b*t.c);if(m===0||(t.apply(c,c),t.apply(h,h),t.apply(u,u),t.apply(d,d),Math.max(c.x,h.x,u.x,d.x)<=s||Math.min(c.x,h.x,u.x,d.x)>=i||Math.max(c.y,h.y,u.y,d.y)<=a||Math.min(c.y,h.y,u.y,d.y)>=o))return!1;const y=m*(h.y-c.y),p=m*(c.x-h.x),x=y*s+p*a,v=y*i+p*a,_=y*s+p*o,A=y*i+p*o;if(Math.max(x,v,_,A)<=y*c.x+p*c.y||Math.min(x,v,_,A)>=y*d.x+p*d.y)return!1;const S=m*(c.y-u.y),w=m*(u.x-c.x),T=S*s+w*a,R=S*i+w*a,E=S*s+w*o,D=S*i+w*o;return!(Math.max(T,R,E,D)<=S*c.x+w*c.y||Math.min(T,R,E,D)>=S*d.x+w*d.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),s=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(s-t,0),this.y=i,this.height=Math.max(a-i,0),this}ceil(e=1,t=.001){const s=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=s-this.x,this.height=i-this.y,this}scale(e,t=e){return this.x*=e,this.y*=t,this.width*=e,this.height*=t,this}enlarge(e){const t=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=s-t,this.y=i,this.height=a-i,this}getBounds(e){return e||(e=new Rt),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const t=e.x,s=e.y,i=e.x+e.width,a=e.y+e.height;return t>=this.x&&t<this.x+this.width&&s>=this.y&&s<this.y+this.height&&i>=this.x&&i<this.x+this.width&&a>=this.y&&a<this.y+this.height}set(e,t,s,i){return this.x=e,this.y=t,this.width=s,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const um={default:-1};function wt(n="default"){return um[n]===void 0&&(um[n]=-1),++um[n]}const Fb=new Set,Je="8.0.0",MM="8.3.4",$r={quiet:!1,noColor:!1},Re=(n,e,t=3)=>{if($r.quiet||Fb.has(e))return;let s=new Error().stack;const i=`${e}
Deprecated since v${n}`,a=typeof console.groupCollapsed=="function"&&!$r.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",i):(s=s.split(`
`).splice(t).join(`
`),a?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i),console.warn(s))),Fb.add(e)};Object.defineProperties(Re,{quiet:{get:()=>$r.quiet,set:n=>{$r.quiet=n},enumerable:!0,configurable:!1},noColor:{get:()=>$r.noColor,set:n=>{$r.noColor=n},enumerable:!0,configurable:!1}});const Gv=()=>{};function eh(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function jb(n){return!(n&n-1)&&!!n}function qv(n){const e={};for(const t in n)n[t]!==void 0&&(e[t]=n[t]);return e}const Yb=Object.create(null);function kM(n){const e=Yb[n];return e===void 0&&(Yb[n]=wt("resource")),e}const Wv=class $v extends Ti{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...$v.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Re(Je,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=kM(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Wv.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let th=Wv;const Kv=class Qv extends Ti{constructor(e={}){super(),this.options=e,this.uid=wt("textureSource"),this._resourceType="textureSource",this._resourceId=wt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Qv.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new th(qv(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var t,s;this.style!==e&&((t=this._style)==null||t.off("change",this._onStyleChange,this),this._style=e,(s=this._style)==null||s.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=wt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,s){s||(s=this._resolution),e||(e=this.width),t||(t=this.height);const i=Math.round(e*s),a=Math.round(t*s);return this.width=i/s,this.height=a/s,this._resolution=s,this.pixelWidth===i&&this.pixelHeight===a?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=a,this.emit("resize",this),this._resourceId=wt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=jb(this.pixelWidth)&&jb(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Kv.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Gs=Kv;class Qg extends Gs{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let s=e.format;s||(t instanceof Float32Array?s="rgba32float":t instanceof Int32Array||t instanceof Uint32Array?s="rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?s="rgba16uint":(t instanceof Int8Array,s="bgra8unorm")),super({...e,resource:t,format:s}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Qg.extension=ge.TextureSource;const Ub=new Le;class EM{constructor(e,t){this.mapCoord=new Le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof t>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var t;this.texture!==e&&((t=this._texture)==null||t.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){t===void 0&&(t=e);const s=this.mapCoord;for(let i=0;i<e.length;i+=2){const a=e[i],o=e[i+1];t[i]=a*s.a+o*s.c+s.tx,t[i+1]=a*s.b+o*s.d+s.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const s=e.orig,i=e.trim;i&&(Ub.set(s.width/i.width,0,0,s.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Ub));const a=e.source,o=this.uClampFrame,c=this.clampMargin/a._resolution,h=this.clampOffset/a._resolution;return o[0]=(e.frame.x+c+h)/a.width,o[1]=(e.frame.y+c+h)/a.height,o[2]=(e.frame.x+e.frame.width-c+h)/a.width,o[3]=(e.frame.y+e.frame.height-c+h)/a.height,this.uClampOffset[0]=this.clampOffset/a.pixelWidth,this.uClampOffset[1]=this.clampOffset/a.pixelHeight,this.isSimple=e.frame.width===a.width&&e.frame.height===a.height&&e.rotate===0,!0}}let Ne=class extends Ti{constructor({source:e,label:t,frame:s,orig:i,trim:a,defaultAnchor:o,defaultBorders:c,rotate:h,dynamic:u}={}){if(super(),this.uid=wt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=t,this.source=(e==null?void 0:e.source)??new Gs,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:d,height:m}=this._source;this.frame.width=d,this.frame.height=m}this.orig=i||this.frame,this.trim=a,this.rotate=h??0,this.defaultAnchor=o,this.defaultBorders=c,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new EM(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:s,height:i}=this._source,a=t.x/s,o=t.y/i,c=t.width/s,h=t.height/i;let u=this.rotate;if(u){const d=c/2,m=h/2,y=a+d,p=o+m;u=Ze.add(u,Ze.NW),e.x0=y+d*Ze.uX(u),e.y0=p+m*Ze.uY(u),u=Ze.add(u,2),e.x1=y+d*Ze.uX(u),e.y1=p+m*Ze.uY(u),u=Ze.add(u,2),e.x2=y+d*Ze.uX(u),e.y2=p+m*Ze.uY(u),u=Ze.add(u,2),e.x3=y+d*Ze.uX(u),e.y3=p+m*Ze.uY(u)}else e.x0=a,e.y0=o,e.x1=a+c,e.y1=o,e.x2=a+c,e.y2=o+h,e.x3=a,e.y3=o+h}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Re(Je,"Texture.baseTexture is now Texture.source"),this._source}};Ne.EMPTY=new Ne({label:"EMPTY",source:new Gs({label:"EMPTY"})});Ne.EMPTY.destroy=Gv;Ne.WHITE=new Ne({source:new Qg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ne.WHITE.destroy=Gv;function RM(n,e,t){const{width:s,height:i}=t.orig,a=t.trim;if(a){const o=a.width,c=a.height;n.minX=a.x-e._x*s,n.maxX=n.minX+o,n.minY=a.y-e._y*i,n.maxY=n.minY+c}else n.minX=-e._x*s,n.maxX=n.minX+s,n.minY=-e._y*i,n.maxY=n.minY+i}const Vb=new Le;class Si{constructor(e=1/0,t=1/0,s=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Vb,this.minX=e,this.minY=t,this.maxX=s,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rt);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Vb,this}set(e,t,s,i){this.minX=e,this.minY=t,this.maxX=s,this.maxY=i}addFrame(e,t,s,i,a){a||(a=this.matrix);const o=a.a,c=a.b,h=a.c,u=a.d,d=a.tx,m=a.ty;let y=this.minX,p=this.minY,x=this.maxX,v=this.maxY,_=o*e+h*t+d,A=c*e+u*t+m;_<y&&(y=_),A<p&&(p=A),_>x&&(x=_),A>v&&(v=A),_=o*s+h*t+d,A=c*s+u*t+m,_<y&&(y=_),A<p&&(p=A),_>x&&(x=_),A>v&&(v=A),_=o*e+h*i+d,A=c*e+u*i+m,_<y&&(y=_),A<p&&(p=A),_>x&&(x=_),A>v&&(v=A),_=o*s+h*i+d,A=c*s+u*i+m,_<y&&(y=_),A<p&&(p=A),_>x&&(x=_),A>v&&(v=A),this.minX=y,this.minY=p,this.maxX=x,this.maxY=v}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,s=this.minY,i=this.maxX,a=this.maxY,{a:o,b:c,c:h,d:u,tx:d,ty:m}=e;let y=o*t+h*s+d,p=c*t+u*s+m;this.minX=y,this.minY=p,this.maxX=y,this.maxY=p,y=o*i+h*s+d,p=c*i+u*s+m,this.minX=y<this.minX?y:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=p>this.maxY?p:this.maxY,y=o*t+h*a+d,p=c*t+u*a+m,this.minX=y<this.minX?y:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=p>this.maxY?p:this.maxY,y=o*i+h*a+d,p=c*i+u*a+m,this.minX=y<this.minX?y:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=y>this.maxX?y:this.maxX,this.maxY=p>this.maxY?p:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,s,i){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<s&&(this.minY=s),this.maxY>i&&(this.maxY=i),this}pad(e,t=e){return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Si(this.minX,this.minY,this.maxX,this.maxY)}scale(e,t=e){return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,s,i){let a=this.minX,o=this.minY,c=this.maxX,h=this.maxY;i||(i=this.matrix);const u=i.a,d=i.b,m=i.c,y=i.d,p=i.tx,x=i.ty;for(let v=t;v<s;v+=2){const _=e[v],A=e[v+1],S=u*_+m*A+p,w=d*_+y*A+x;a=S<a?S:a,o=w<o?w:o,c=S>c?S:c,h=w>h?w:h}this.minX=a,this.minY=o,this.maxX=c,this.maxY=h}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var DM={grad:.9,turn:360,rad:360/(2*Math.PI)},fn=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Gt=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},li=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},Zv=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Hb=function(n){return{r:li(n.r,0,255),g:li(n.g,0,255),b:li(n.b,0,255),a:li(n.a)}},hm=function(n){return{r:Gt(n.r),g:Gt(n.g),b:Gt(n.b),a:Gt(n.a,3)}},PM=/^#([0-9a-f]{3,8})$/i,Pu=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},Jv=function(n){var e=n.r,t=n.g,s=n.b,i=n.a,a=Math.max(e,t,s),o=a-Math.min(e,t,s),c=o?a===e?(t-s)/o:a===t?2+(s-e)/o:4+(e-t)/o:0;return{h:60*(c<0?c+6:c),s:a?o/a*100:0,v:a/255*100,a:i}},e_=function(n){var e=n.h,t=n.s,s=n.v,i=n.a;e=e/360*6,t/=100,s/=100;var a=Math.floor(e),o=s*(1-t),c=s*(1-(e-a)*t),h=s*(1-(1-e+a)*t),u=a%6;return{r:255*[s,c,o,o,h,s][u],g:255*[h,s,s,c,o,o][u],b:255*[o,o,h,s,s,c][u],a:i}},Xb=function(n){return{h:Zv(n.h),s:li(n.s,0,100),l:li(n.l,0,100),a:li(n.a)}},Gb=function(n){return{h:Gt(n.h),s:Gt(n.s),l:Gt(n.l),a:Gt(n.a,3)}},qb=function(n){return e_((t=(e=n).s,{h:e.h,s:(t*=((s=e.l)<50?s:100-s)/100)>0?2*t/(s+t)*100:0,v:s+t,a:e.a}));var e,t,s},Ll=function(n){return{h:(e=Jv(n)).h,s:(i=(200-(t=e.s))*(s=e.v)/100)>0&&i<200?t*s/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,s,i},BM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,NM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zm={string:[[function(n){var e=PM.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Gt(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Gt(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=NM.exec(n)||LM.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:Hb({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=BM.exec(n)||OM.exec(n);if(!e)return null;var t,s,i=Xb({h:(t=e[1],s=e[2],s===void 0&&(s="deg"),Number(t)*(DM[s]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return qb(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,s=n.b,i=n.a,a=i===void 0?1:i;return fn(e)&&fn(t)&&fn(s)?Hb({r:Number(e),g:Number(t),b:Number(s),a:Number(a)}):null},"rgb"],[function(n){var e=n.h,t=n.s,s=n.l,i=n.a,a=i===void 0?1:i;if(!fn(e)||!fn(t)||!fn(s))return null;var o=Xb({h:Number(e),s:Number(t),l:Number(s),a:Number(a)});return qb(o)},"hsl"],[function(n){var e=n.h,t=n.s,s=n.v,i=n.a,a=i===void 0?1:i;if(!fn(e)||!fn(t)||!fn(s))return null;var o=function(c){return{h:Zv(c.h),s:li(c.s,0,100),v:li(c.v,0,100),a:li(c.a)}}({h:Number(e),s:Number(t),v:Number(s),a:Number(a)});return e_(o)},"hsv"]]},Wb=function(n,e){for(var t=0;t<e.length;t++){var s=e[t][0](n);if(s)return[s,e[t][1]]}return[null,void 0]},IM=function(n){return typeof n=="string"?Wb(n.trim(),Zm.string):typeof n=="object"&&n!==null?Wb(n,Zm.object):[null,void 0]},dm=function(n,e){var t=Ll(n);return{h:t.h,s:li(t.s+100*e,0,100),l:t.l,a:t.a}},fm=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},$b=function(n,e){var t=Ll(n);return{h:t.h,s:t.s,l:li(t.l+100*e,0,100),a:t.a}},Jm=function(){function n(e){this.parsed=IM(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Gt(fm(this.rgba),2)},n.prototype.isDark=function(){return fm(this.rgba)<.5},n.prototype.isLight=function(){return fm(this.rgba)>=.5},n.prototype.toHex=function(){return e=hm(this.rgba),t=e.r,s=e.g,i=e.b,o=(a=e.a)<1?Pu(Gt(255*a)):"","#"+Pu(t)+Pu(s)+Pu(i)+o;var e,t,s,i,a,o},n.prototype.toRgb=function(){return hm(this.rgba)},n.prototype.toRgbString=function(){return e=hm(this.rgba),t=e.r,s=e.g,i=e.b,(a=e.a)<1?"rgba("+t+", "+s+", "+i+", "+a+")":"rgb("+t+", "+s+", "+i+")";var e,t,s,i,a},n.prototype.toHsl=function(){return Gb(Ll(this.rgba))},n.prototype.toHslString=function(){return e=Gb(Ll(this.rgba)),t=e.h,s=e.s,i=e.l,(a=e.a)<1?"hsla("+t+", "+s+"%, "+i+"%, "+a+")":"hsl("+t+", "+s+"%, "+i+"%)";var e,t,s,i,a},n.prototype.toHsv=function(){return e=Jv(this.rgba),{h:Gt(e.h),s:Gt(e.s),v:Gt(e.v),a:Gt(e.a,3)};var e},n.prototype.invert=function(){return Li({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Li(dm(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Li(dm(this.rgba,-e))},n.prototype.grayscale=function(){return Li(dm(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Li($b(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Li($b(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Li({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Gt(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Ll(this.rgba);return typeof e=="number"?Li({h:e,s:t.s,l:t.l,a:t.a}):Gt(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Li(e).toHex()},n}(),Li=function(n){return n instanceof Jm?n:new Jm(n)},Kb=[],zM=function(n){n.forEach(function(e){Kb.indexOf(e)<0&&(e(Jm,Zm),Kb.push(e))})};function FM(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var i in t)s[t[i]]=i;var a={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,h,u=s[this.toHex()];if(u)return u;if(o!=null&&o.closest){var d=this.toRgb(),m=1/0,y="black";if(!a.length)for(var p in t)a[p]=new n(t[p]).toRgb();for(var x in t){var v=(c=d,h=a[x],Math.pow(c.r-h.r,2)+Math.pow(c.g-h.g,2)+Math.pow(c.b-h.b,2));v<m&&(m=v,y=x)}return y}},e.string.push([function(o){var c=o.toLowerCase(),h=c==="transparent"?"#0000":t[c];return h?new n(h).toRgb():null},"name"])}zM([FM]);const oo=class Rl{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Rl)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,t){const s=typeof e;if(s!==typeof t)return!1;if(s==="number"||s==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((a,o)=>a===t[o]);if(e!==null&&t!==null){const a=Object.keys(e),o=Object.keys(t);return a.length!==o.length?!1:a.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,s,i]=this._components;return{r:e,g:t,b:s,a:i}}toRgb(){const[e,t,s]=this._components;return{r:e,g:t,b:s}}toRgbaString(){const[e,t,s]=this.toUint8RgbArray();return`rgba(${e},${t},${s},${this.alpha})`}toUint8RgbArray(e){const[t,s,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(t*255),e[1]=Math.round(s*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,s,i,a]=this._components;return e[0]=t,e[1]=s,e[2]=i,e[3]=a,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,s,i]=this._components;return e[0]=t,e[1]=s,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,t,s]=this.toUint8RgbArray();return(s<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,s,i,a]=Rl._temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=s,this._components[2]*=i,this._components[3]*=a,this._refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let s=this._int>>16&255,i=this._int>>8&255,a=this._int&255;return t&&(s=s*e+.5|0,i=i*e+.5|0,a=a*e+.5|0),(e*255<<24)+(s<<16)+(i<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let t,s,i,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;t=(o>>16&255)/255,s=(o>>8&255)/255,i=(o&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,s,i,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,s,i,a=255]=e,t/=255,s/=255,i/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const c=Rl.HEX_PATTERN.exec(e);c&&(e=`#${c[2]}`)}const o=Li(e);o.isValid()&&({r:t,g:s,b:i,a}=o.rgba,t/=255,s/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=s,this._components[2]=i,this._components[3]=a,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,t,s]=this._components;this._int=(e*255<<16)+(t*255<<8)+(s*255|0)}_clamp(e,t=0,s=1){return typeof e=="number"?Math.min(Math.max(e,t),s):(e.forEach((i,a)=>{e[a]=Math.min(Math.max(i,t),s)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Rl||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};oo.shared=new oo;oo._temp=new oo;oo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Lt=oo;const jM={cullArea:null,cullable:!1,cullableChildren:!0};let mm=0;const Qb=500;function ut(...n){mm!==Qb&&(mm++,mm===Qb?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}const uc={_registeredResources:new Set,register(n){this._registeredResources.add(n)},unregister(n){this._registeredResources.delete(n)},release(){this._registeredResources.forEach(n=>n.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(n){return this._registeredResources.has(n)},reset(){this._registeredResources.clear()}};let YM=class{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var s;let t;return this._index>0?t=this._pool[--this._index]:t=new this._classType,(s=t.init)==null||s.call(t,e),t}return(e){var t;(t=e.reset)==null||t.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}};class UM{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new YM(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const s=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[s]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const hi=new UM;uc.register(hi);const VM={get isCachedAsTexture(){var n;return!!((n=this.renderGroup)!=null&&n.isCachedAsTexture)},cacheAsTexture(n){typeof n=="boolean"&&n===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(n===!0?{}:n))},updateCacheTexture(){var n;(n=this.renderGroup)==null||n.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(n){Re("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(n)}};function HM(n,e,t){const s=n.length;let i;if(e>=s||t===0)return;t=e+t>s?s-e:t;const a=s-t;for(i=e;i<a;++i)n[i]=n[i+t];n.length=a}const XM={allowChildren:!0,removeChildren(n=0,e){var a;const t=e??this.children.length,s=t-n,i=[];if(s>0&&s<=t){for(let c=t-1;c>=n;c--){const h=this.children[c];h&&(i.push(h),h.parent=null)}HM(this.children,n,t);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(i);for(let c=0;c<i.length;++c){const h=i[c];(a=h.parentRenderLayer)==null||a.detach(h),this.emit("childRemoved",h,this,c),i[c].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(s===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const e=this.getChildAt(n);return this.removeChild(e)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,e)},getChildIndex(n){const e=this.children.indexOf(n);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(n,e){this.allowChildren||Re(Je,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:t}=this;if(e<0||e>t.length)throw new Error(`${n}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);if(n.parent){const i=n.parent.children.indexOf(n);if(n.parent===this&&i===e)return n;i!==-1&&n.parent.children.splice(i,1)}e===t.length?t.push(n):t.splice(e,0,n),n.parent=this,n.didChange=!0,n._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,e),n.emit("added",this),n},swapChildren(n,e){if(n===e)return;const t=this.getChildIndex(n),s=this.getChildIndex(e);this.children[t]=e,this.children[s]=n;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var n;(n=this.parent)==null||n.removeChild(this)},reparentChild(...n){return n.length===1?this.reparentChildAt(n[0],this.children.length):(n.forEach(e=>this.reparentChildAt(e,this.children.length)),n[0])},reparentChildAt(n,e){if(n.parent===this)return this.setChildIndex(n,e),n;const t=n.worldTransform.clone();n.removeFromParent(),this.addChildAt(n,e);const s=this.worldTransform.clone();return s.invert(),t.prepend(s),n.setFromMatrix(t),n},replaceChild(n,e){n.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(n)),e.setFromMatrix(n.localTransform),e.updateLocalTransform(),this.removeChild(n)}},GM={collectRenderables(n,e,t){this.parentRenderLayer&&this.parentRenderLayer!==t||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(n,e,t):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,n):this.collectRenderablesWithEffects(n,e,t))},collectRenderablesSimple(n,e,t){const s=this.children,i=s.length;for(let a=0;a<i;a++)s[a].collectRenderables(n,e,t)},collectRenderablesWithEffects(n,e,t){const{renderPipes:s}=e;for(let i=0;i<this.effects.length;i++){const a=this.effects[i];s[a.pipe].push(a,this,n)}this.collectRenderablesSimple(n,e,t);for(let i=this.effects.length-1;i>=0;i--){const a=this.effects[i];s[a.pipe].pop(a,this,n)}}};class Zb{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class qM{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const s=this._tests[t];if(s.test(e))return hi.get(s.maskClass,e)}return e}returnMaskEffect(e){hi.return(e)}}const eg=new qM;Dt.handleByList(ge.MaskEffect,eg._effectClasses);const WM={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)},addEffect(n){this.effects.indexOf(n)===-1&&(this.effects.push(n),this.effects.sort((t,s)=>t.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(n){const e=this.effects.indexOf(n);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(n){const e=this._maskEffect;(e==null?void 0:e.mask)!==n&&(e&&(this.removeEffect(e),eg.returnMaskEffect(e),this._maskEffect=null),n!=null&&(this._maskEffect=eg.getMaskEffect(n),this.addEffect(this._maskEffect)))},get mask(){var n;return(n=this._maskEffect)==null?void 0:n.mask},setMask(n){this._maskOptions={...this._maskOptions,...n},n.mask&&(this.mask=n.mask),this._markStructureAsChanged()},set filters(n){var a;!Array.isArray(n)&&n&&(n=[n]);const e=this._filterEffect||(this._filterEffect=new Zb);n=n;const t=(n==null?void 0:n.length)>0,s=((a=e.filters)==null?void 0:a.length)>0,i=t!==s;n=Array.isArray(n)?n.slice(0):n,e.filters=Object.freeze(n),i&&(t?this.addEffect(e):(this.removeEffect(e),e.filters=n??null))},get filters(){var n;return(n=this._filterEffect)==null?void 0:n.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new Zb),this._filterEffect.filterArea=n},get filterArea(){var n;return(n=this._filterEffect)==null?void 0:n.filterArea}},$M={label:null,get name(){return Re(Je,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){Re(Je,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,e=!1){return this.getChildByLabel(n,e)},getChildByLabel(n,e=!1){const t=this.children;for(let s=0;s<t.length;s++){const i=t[s];if(i.label===n||n instanceof RegExp&&n.test(i.label))return i}if(e)for(let s=0;s<t.length;s++){const a=t[s].getChildByLabel(n,!0);if(a)return a}return null},getChildrenByLabel(n,e=!1,t=[]){const s=this.children;for(let i=0;i<s.length;i++){const a=s[i];(a.label===n||n instanceof RegExp&&n.test(a.label))&&t.push(a)}if(e)for(let i=0;i<s.length;i++)s[i].getChildrenByLabel(n,!0,t);return t}},ps=hi.getPool(Le),xn=hi.getPool(Si),KM=new Le,QM={getFastGlobalBounds(n,e){e||(e=new Si),e.clear(),this._getGlobalBoundsRecursive(!!n,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const t=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(t.worldTransform),e},_getGlobalBoundsRecursive(n,e,t){let s=e;if(n&&this.parentRenderLayer&&this.parentRenderLayer!==t||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(s=xn.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;s.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const a=this.children;for(let o=0;o<a.length;o++)a[o]._getGlobalBoundsRecursive(n,s,t)}if(i){let a=!1;const o=this.renderGroup||this.parentRenderGroup;for(let c=0;c<this.effects.length;c++)this.effects[c].addBounds&&(a||(a=!0,s.applyMatrix(o.worldTransform)),this.effects[c].addBounds(s,!0));a&&s.applyMatrix(o.worldTransform.copyTo(KM).invert()),e.addBounds(s),xn.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),xn.return(s))}};function t_(n,e,t){t.clear();let s,i;return n.parent?e?s=n.parent.worldTransform:(i=ps.get().identity(),s=Zg(n,i)):s=Le.IDENTITY,s_(n,t,s,e),i&&ps.return(i),t.isValid||t.set(0,0,0,0),t}function s_(n,e,t,s){var c,h;if(!n.visible||!n.measurable)return;let i;s?i=n.worldTransform:(n.updateLocalTransform(),i=ps.get(),i.appendFrom(n.localTransform,t));const a=e,o=!!n.effects.length;if(o&&(e=xn.get().clear()),n.boundsArea)e.addRect(n.boundsArea,i);else{const u=n.bounds;u&&!u.isEmpty()&&(e.matrix=i,e.addBounds(u));for(let d=0;d<n.children.length;d++)s_(n.children[d],e,i,s)}if(o){for(let u=0;u<n.effects.length;u++)(h=(c=n.effects[u]).addBounds)==null||h.call(c,e);a.addBounds(e,Le.IDENTITY),xn.return(e)}s||ps.return(i)}function Zg(n,e){const t=n.parent;return t&&(Zg(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}function i_(n,e){if(n===16777215||!e)return e;if(e===16777215||!n)return n;const t=n>>16&255,s=n>>8&255,i=n&255,a=e>>16&255,o=e>>8&255,c=e&255,h=t*a/255|0,u=s*o/255|0,d=i*c/255|0;return(h<<16)+(u<<8)+d}const Jb=16777215;function e1(n,e){return n===Jb?e:e===Jb?n:i_(n,e)}function qu(n){return((n&255)<<16)+(n&65280)+(n>>16&255)}const ZM={getGlobalAlpha(n){if(n)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,t=this.parent;for(;t;)e*=t.alpha,t=t.parent;return e},getGlobalTransform(n=new Le,e){if(e)return n.copyFrom(this.worldTransform);this.updateLocalTransform();const t=Zg(this,ps.get().identity());return n.appendFrom(this.localTransform,t),ps.return(t),n},getGlobalTint(n){if(n)return this.renderGroup?qu(this.renderGroup.worldColor):this.parentRenderGroup?qu(e1(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,t=this.parent;for(;t;)e=e1(e,t.localColor),t=t.parent;return qu(e)}};function n_(n,e,t){return e.clear(),t||(t=Le.IDENTITY),a_(n,e,t,n,!0),e.isValid||e.set(0,0,0,0),e}function a_(n,e,t,s,i){var h,u;let a;if(i)a=ps.get(),a=t.copyTo(a);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const d=n.localTransform;a=ps.get(),a.appendFrom(d,t)}const o=e,c=!!n.effects.length;if(c&&(e=xn.get().clear()),n.boundsArea)e.addRect(n.boundsArea,a);else{n.renderPipeId&&(e.matrix=a,e.addBounds(n.bounds));const d=n.children;for(let m=0;m<d.length;m++)a_(d[m],e,a,s,!1)}if(c){for(let d=0;d<n.effects.length;d++)(u=(h=n.effects[d]).addLocalBounds)==null||u.call(h,e,s);o.addBounds(e,Le.IDENTITY),xn.return(e)}ps.return(a)}function r_(n,e){const t=n.children;for(let s=0;s<t.length;s++){const i=t[s],a=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,c=e.index;(e.data[c]!==a||e.data[c+1]!==o)&&(e.data[e.index]=a,e.data[e.index+1]=o,e.didChange=!0),e.index=c+2,i.children.length&&r_(i,e)}return e.didChange}const JM=new Le,e2={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,e){const t=Math.sign(this.scale.x)||1;e!==0?this.scale.x=n/e*t:this.scale.x=t},_setHeight(n,e){const t=Math.sign(this.scale.y)||1;e!==0?this.scale.y=n/e*t:this.scale.y=t},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Si});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didViewChangeTick&&(n.didChange=!0,n.data[0]=this._didViewChangeTick),r_(this,n),n.didChange&&n_(this,n.localBounds,JM),n.localBounds},getBounds(n,e){return t_(this,n,e||new Si)}},t2={_onRender:null,set onRender(n){const e=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},s2={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(i2))}};function i2(n,e){return n._zIndex-e._zIndex}const n2={getGlobalPosition(n=new us,e=!1){return this.parent?this.parent.toGlobal(this._position,n,e):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,e,t=!1){const s=this.getGlobalTransform(ps.get(),t);return e=s.apply(n,e),ps.return(s),e},toLocal(n,e,t,s){e&&(n=e.toGlobal(n,t,s));const i=this.getGlobalTransform(ps.get(),s);return t=i.applyInverse(n,t),ps.return(i),t}};class o_{constructor(){this.uid=wt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let a2=0;class r2{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new th(this.textureOptions)}createTexture(e,t,s){const i=new Gs({...this.textureOptions,width:e,height:t,resolution:1,antialias:s,autoGarbageCollect:!1});return new Ne({source:i,label:`texturePool_${a2++}`})}getOptimalTexture(e,t,s=1,i){let a=Math.ceil(e*s-1e-6),o=Math.ceil(t*s-1e-6);a=eh(a),o=eh(o);const c=(a<<17)+(o<<1)+(i?1:0);this._texturePool[c]||(this._texturePool[c]=[]);let h=this._texturePool[c].pop();return h||(h=this.createTexture(a,o,i)),h.source._resolution=s,h.source.width=a/s,h.source.height=o/s,h.source.pixelWidth=a,h.source.pixelHeight=o,h.frame.x=0,h.frame.y=0,h.frame.width=e,h.frame.height=t,h.updateUvs(),this._poolKeyHash[h.uid]=c,h}getSameSizeTexture(e,t=!1){const s=e.source;return this.getOptimalTexture(e.width,e.height,s._resolution,t)}returnTexture(e,t=!1){const s=this._poolKeyHash[e.uid];t&&(e.source.style=this.textureStyle),this._texturePool[s].push(e)}clear(e){if(e=e!==!1,e)for(const t in this._texturePool){const s=this._texturePool[t];if(s)for(let i=0;i<s.length;i++)s[i].destroy(!0)}this._texturePool={}}}const l_=new r2;uc.register(l_);class o2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Le,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new o_,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let s=0;s<t.length;s++){const i=t[s];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(l_.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const t=e.children;for(let s=0;s<t.length;s++)this.addChild(t[s])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const t=e.children;for(let s=0;s<t.length;s++)this.removeChild(t[s])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const t=this.root.children;for(let s=0;s<t.length;s++)this._getChildren(t[s],e);return e}_getChildren(e,t=[]){if(t.push(e),e.renderGroup)return t;const s=e.children;for(let i=0;i<s.length;i++)this._getChildren(s[i],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Le),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Le),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Le),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function l2(n,e,t={}){for(const s in e)!t[s]&&e[s]!==void 0&&(n[s]=e[s])}const gm=new os(null),Bu=new os(null),pm=new os(null,1,1),Ou=new os(null),t1=1,c2=2,ym=4;class qs extends Ti{constructor(e={}){var t,s;super(),this.uid=wt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Le,this.relativeGroupTransform=new Le,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new os(this,0,0),this._scale=pm,this._pivot=Bu,this._origin=Ou,this._skew=gm,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],l2(this,e,{children:!0,parent:!0,effects:!0}),(t=e.children)==null||t.forEach(i=>this.addChild(i)),(s=e.parent)==null||s.addChild(this)}static mixin(e){Re("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Dt.mixin(qs,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Re(Je,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const t=e[0],s=this.renderGroup||this.parentRenderGroup;return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),s&&(s.structureDidChange=!0),t):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t._updateFlags=15,s&&s.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didViewChangeTick++,t._zIndex!==0&&t.depthOfChildModified(),t)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const t=e[0],s=this.children.indexOf(t);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(t):this.parentRenderGroup&&this.parentRenderGroup.removeChild(t),t.parentRenderLayer&&t.parentRenderLayer.detach(t),t.parent=null,this.emit("childRemoved",t,this,s),t.emit("removed",this)),t}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=hi.get(o2,this),this.groupTransform=Le.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),hi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Le),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*wM}set angle(e){this.rotation=e*SM}get pivot(){return this._pivot===Bu&&(this._pivot=new os(this,0,0)),this._pivot}set pivot(e){this._pivot===Bu&&(this._pivot=new os(this,0,0),this._origin!==Ou&&ut("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===gm&&(this._skew=new os(this,0,0)),this._skew}set skew(e){this._skew===gm&&(this._skew=new os(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===pm&&(this._scale=new os(this,1,1)),this._scale}set scale(e){this._scale===pm&&(this._scale=new os(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===Ou&&(this._origin=new os(this,0,0)),this._origin}set origin(e){this._origin===Ou&&(this._origin=new os(this,0,0),this._pivot!==Bu&&ut("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const s=this.getLocalBounds();typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,s.width),t!==void 0&&this._setHeight(t,s.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,s=this._scale,i=this._pivot,a=this._origin,o=this._position,c=s._x,h=s._y,u=i._x,d=i._y,m=-a._x,y=-a._y;t.a=this._cx*c,t.b=this._sx*c,t.c=this._cy*h,t.d=this._sy*h,t.tx=o._x-(u*t.a+d*t.c)+(m*t.a+y*t.c)-m,t.ty=o._y-(u*t.b+d*t.d)+(m*t.b+y*t.d)-y}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=t1,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const s=Lt.shared.setValue(e??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=t1,this._onUpdate())}get tint(){return qu(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=c2,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const t=e?2:0;(this.localDisplayStatus&2)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ym,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const t=e?0:4;(this.localDisplayStatus&4)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=ym,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const t=e?1:0;(this.localDisplayStatus&1)!==t&&(this._updateFlags|=ym,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;let t;if(this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&t)for(let a=0;a<t.length;++a)t[a].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}Dt.mixin(qs,XM,QM,n2,t2,e2,WM,$M,s2,jM,VM,ZM,GM);class Jg extends qs{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Si(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:s,y:i}=e;return s>=t.minX&&s<=t.maxX&&i>=t.minY&&i<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var t,s;super.destroy(e),this._bounds=null;for(const i in this._gpuData)(s=(t=this._gpuData[i]).destroy)==null||s.call(t);this._gpuData=null}collectRenderablesSimple(e,t,s){const{renderPipes:i}=t;i.blendMode.pushBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,c=o.length;for(let h=0;h<c;h++)o[h].collectRenderables(e,t,s);i.blendMode.popBlendMode(e)}}class lo extends Jg{constructor(e=Ne.EMPTY){e instanceof Ne&&(e={texture:e});const{texture:t=Ne.EMPTY,anchor:s,roundPixels:i,width:a,height:o,...c}=e;super({label:"Sprite",...c}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new os({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=i??!1,a!==void 0&&(this.width=a),o!==void 0&&(this.height=o)}static from(e,t=!1){return e instanceof Ne?new lo(e):new lo(Ne.from(e,t))}set texture(e){e||(e=Ne.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return RM(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Re("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,s=this._bounds,{width:i,height:a}=t.orig;s.minX=-e._x*i,s.maxX=s.minX+i,s.minY=-e._y*a,s.maxY=s.minY+a}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),t!==void 0&&this._setHeight(t,this._texture.orig.height)}}const u2=new Si;function c_(n,e,t){const s=u2;n.measurable=!0,t_(n,t,s),e.addBoundsMask(s),n.measurable=!1}function u_(n,e,t){const s=xn.get();n.measurable=!0;const i=ps.get().identity(),a=h_(n,t,i);n_(n,s,a),n.measurable=!1,e.addBoundsMask(s),ps.return(i),xn.return(s)}function h_(n,e,t){return n?(n!==e&&(h_(n.parent,e,t),n.updateLocalTransform(),t.append(n.localTransform)),t):(ut("Mask bounds, renderable is not inside the root container"),t)}class d_{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof lo),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,t){this.inverse||c_(this.mask,e,t)}addLocalBounds(e,t){u_(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof lo}}d_.extension=ge.MaskEffect;class f_{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}f_.extension=ge.MaskEffect;class m_{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,t){c_(this.mask,e,t)}addLocalBounds(e,t){u_(this.mask,e,t)}containsPoint(e,t){const s=this.mask;return t(s,e)}destroy(){this.reset()}static test(e){return e instanceof qs}}m_.extension=ge.MaskEffect;const h2={createCanvas:(n,e)=>{const t=document.createElement("canvas");return t.width=n,t.height=e,t},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let s1=h2;const nt={get(){return s1},set(n){s1=n}};class g_ extends Gs{constructor(e){e.resource||(e.resource=nt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,t=this.height,s=this._resolution){const i=super.resize(e,t,s);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}g_.extension=ge.TextureSource;class Ga extends Gs{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Ga.extension=ge.TextureSource;var tg=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(tg||{});class xm{constructor(e,t=null,s=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=s,this._once=i}match(e,t=null){return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const p_=class Fs{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new xm(null,null,1/0),this.deltaMS=1/Fs.targetFPMS,this.elapsedMS=1/Fs.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,s=tg.NORMAL){return this._addListener(new xm(e,t,s))}addOnce(e,t,s=tg.NORMAL){return this._addListener(new xm(e,t,s,!0))}_addListener(e){let t=this._head.next,s=this._head;if(!t)e.connect(s);else{for(;t;){if(e.priority>t.priority){e.connect(s);break}s=t,t=t.next}e.previous||e.connect(s)}return this._startIfPossible(),this}remove(e,t){let s=this._head.next;for(;s;)s.match(e,t)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Fs.targetFPMS;const s=this._head;let i=s.next;for(;i;)i=i.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,t)/1e3,Fs.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Fs._shared){const e=Fs._shared=new Fs;e.autoStart=!0,e._protected=!0}return Fs._shared}static get system(){if(!Fs._system){const e=Fs._system=new Fs;e.autoStart=!0,e._protected=!0}return Fs._system}};p_.targetFPMS=.06;let Kn=p_,bm;async function y_(){return bm??(bm=(async()=>{var o;const e=nt.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const t=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return"premultiply-alpha-on-upload";const s=e.createTexture();e.bindTexture(e.TEXTURE_2D,s);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,s,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const a=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(i),e.deleteTexture(s),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),bm}const Eh=class x_ extends Gs{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...x_.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Kn.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await y_(),this._load=new Promise((s,i)=>{this.isValid?s(this):(this._resolve=s,this._reject=i,t.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Kn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Kn.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Kn.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Eh.extension=ge.TextureSource;Eh.defaultOptions={...Gs.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Eh.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Il=Eh;const _i=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(s=>typeof s=="string"||t?e(s):s):n);class d2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||ut(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const s=_i(e);let i;for(let h=0;h<this.parsers.length;h++){const u=this.parsers[h];if(u.test(t)){i=u.getCacheableAssets(s,t);break}}const a=new Map(Object.entries(i||{}));i||s.forEach(h=>{a.set(h,t)});const o=[...a.keys()],c={cacheKeys:o,keys:s};s.forEach(h=>{this._cacheMap.set(h,c)}),o.forEach(h=>{const u=i?i[h]:t;this._cache.has(h)&&this._cache.get(h)!==u&&ut("[Cache] already has key:",h),this._cache.set(h,a.get(h))})}remove(e){if(!this._cacheMap.has(e)){ut(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(i=>{this._cache.delete(i)}),t.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const et=new d2,sg=[];Dt.handleByList(ge.TextureSource,sg);function b_(n={}){const e=n&&n.resource,t=e?n.resource:n,s=e?n:{resource:n};for(let i=0;i<sg.length;i++){const a=sg[i];if(a.test(t))return new a(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function f2(n={},e=!1){const t=n&&n.resource,s=t?n.resource:n,i=t?n:{resource:n};if(!e&&et.has(s))return et.get(s);const a=new Ne({source:b_(i)});return a.on("destroy",()=>{et.has(s)&&et.remove(s)}),e||et.set(s,a),a}function m2(n,e=!1){return typeof n=="string"?et.get(n):n instanceof Gs?new Ne({source:n}):f2(n,e)}Ne.from=m2;Gs.from=b_;Dt.add(d_,f_,m_,Il,Ga,g_,Qg);var $i=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))($i||{});function xi(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function _l(n){return n.split("?")[0].split("#")[0]}function g2(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p2(n,e,t){return n.replace(new RegExp(g2(e),"g"),t)}function y2(n,e){let t="",s=0,i=-1,a=0,o=-1;for(let c=0;c<=n.length;++c){if(c<n.length)o=n.charCodeAt(c);else{if(o===47)break;o=47}if(o===47){if(!(i===c-1||a===1))if(i!==c-1&&a===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const h=t.lastIndexOf("/");if(h!==t.length-1){h===-1?(t="",s=0):(t=t.slice(0,h),s=t.length-1-t.lastIndexOf("/")),i=c,a=0;continue}}else if(t.length===2||t.length===1){t="",s=0,i=c,a=0;continue}}}else t.length>0?t+=`/${n.slice(i+1,c)}`:t=n.slice(i+1,c),s=c-i-1;i=c,a=0}else o===46&&a!==-1?++a:a=-1}return t}const ts={toPosix(n){return p2(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){xi(n),n=this.toPosix(n);const e=/^file:\/\/\//.exec(n);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(xi(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const s=_l(this.toPosix(e??nt.get().getBaseUrl())),i=_l(this.toPosix(t??this.rootname(s)));return n=this.toPosix(n),n.startsWith("/")?ts.join(i,n.slice(1)):this.isAbsolute(n)?n:this.join(s,n)},normalize(n){if(xi(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="";const t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));const s=n.endsWith("/");return n=y2(n),n.length>0&&s&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return xi(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const s=n[t];if(xi(s),s.length>0)if(e===void 0)e=s;else{const i=n[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(xi(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0);const t=e===47;let s=-1,i=!0;const a=this.getProtocol(n),o=n;n=n.slice(a.length);for(let c=n.length-1;c>=1;--c)if(e=n.charCodeAt(c),e===47){if(!i){s=c;break}}else i=!1;return s===-1?t?"/":this.isUrl(o)?a+n:a:t&&s===1?"//":a+n.slice(0,s)},rootname(n){xi(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){const t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){xi(n),e&&xi(e),n=_l(this.toPosix(n));let t=0,s=-1,i=!0,a;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let o=e.length-1,c=-1;for(a=n.length-1;a>=0;--a){const h=n.charCodeAt(a);if(h===47){if(!i){t=a+1;break}}else c===-1&&(i=!1,c=a+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(s=a):(o=-1,s=c))}return t===s?s=c:s===-1&&(s=n.length),n.slice(t,s)}for(a=n.length-1;a>=0;--a)if(n.charCodeAt(a)===47){if(!i){t=a+1;break}}else s===-1&&(i=!1,s=a+1);return s===-1?"":n.slice(t,s)},extname(n){xi(n),n=_l(this.toPosix(n));let e=-1,t=0,s=-1,i=!0,a=0;for(let o=n.length-1;o>=0;--o){const c=n.charCodeAt(o);if(c===47){if(!i){t=o+1;break}continue}s===-1&&(i=!1,s=o+1),c===46?e===-1?e=o:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||s===-1||a===0||a===1&&e===s-1&&e===t+1?"":n.slice(e,s)},parse(n){xi(n);const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=_l(this.toPosix(n));let t=n.charCodeAt(0);const s=this.isAbsolute(n);let i;e.root=this.rootname(n),s||this.hasProtocol(n)?i=1:i=0;let a=-1,o=0,c=-1,h=!0,u=n.length-1,d=0;for(;u>=i;--u){if(t=n.charCodeAt(u),t===47){if(!h){o=u+1;break}continue}c===-1&&(h=!1,c=u+1),t===46?a===-1?a=u:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===o+1?c!==-1&&(o===0&&s?e.base=e.name=n.slice(1,c):e.base=e.name=n.slice(o,c)):(o===0&&s?(e.name=n.slice(1,a),e.base=n.slice(1,c)):(e.name=n.slice(o,a),e.base=n.slice(o,c)),e.ext=n.slice(a,c)),e.dir=this.dirname(n),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function v_(n,e,t,s,i){const a=e[t];for(let o=0;o<a.length;o++){const c=a[o];t<e.length-1?v_(n.replace(s[t],c),e,t+1,s,i):i.push(n.replace(s[t],c))}}function x2(n){const e=/\{(.*?)\}/g,t=n.match(e),s=[];if(t){const i=[];t.forEach(a=>{const o=a.substring(1,a.length-1).split(",");i.push(o)}),v_(n,i,0,t,s)}else s.push(n);return s}const sh=n=>!Array.isArray(n);class Qa{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`).join("&")}}getAlias(e){const{alias:t,src:s}=e;return _i(t||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(o=>(o==null?void 0:o.src)??o):a!=null&&a.src?a.src:a,!0)}addManifest(e){this._manifest&&ut("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const s=[];let i=t;Array.isArray(t)||(i=Object.entries(t).map(([a,o])=>typeof o=="string"||Array.isArray(o)?{alias:a,src:o}:{alias:a,...o})),i.forEach(a=>{const o=a.src,c=a.alias;let h;if(typeof c=="string"){const u=this._createBundleAssetId(e,c);s.push(u),h=[c,u]}else{const u=c.map(d=>this._createBundleAssetId(e,d));s.push(...u),h=[...c,...u]}this.add({...a,alias:h,src:o})}),this._bundles[e]=s}add(e){const t=[];Array.isArray(e)?t.push(...e):t.push(e);let s;s=a=>{this.hasKey(a)&&ut(`[Resolver] already has key: ${a} overwriting`)},_i(t).forEach(a=>{const{src:o}=a;let{data:c,format:h,loadParser:u,parser:d}=a;const m=_i(o).map(x=>typeof x=="string"?x2(x):Array.isArray(x)?x:[x]),y=this.getAlias(a);Array.isArray(y)?y.forEach(s):s(y);const p=[];m.forEach(x=>{x.forEach(v=>{let _={};if(typeof v!="object"){_.src=v;for(let A=0;A<this._parsers.length;A++){const S=this._parsers[A];if(S.test(v)){_=S.parse(v);break}}}else c=v.data??c,h=v.format??h,(v.loadParser||v.parser)&&(u=v.loadParser??u,d=v.parser??d),_={..._,...v};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this._buildResolvedAsset(_,{aliases:y,data:c,format:h,loadParser:u,parser:d}),p.push(_)})}),y.forEach(x=>{this._assetMap[x]=p})})}resolveBundle(e){const t=sh(e);e=_i(e);const s={};return e.forEach(i=>{const a=this._bundles[i];if(a){const o=this.resolve(a),c={};for(const h in o){const u=o[h];c[this._extractAssetIdFromBundle(i,h)]=u}s[i]=c}}),t?s[e[0]]:s}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const s={};for(const i in t)s[i]=t[i].src;return s}return t.src}resolve(e){const t=sh(e);e=_i(e);const s={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let a=this._assetMap[i];const o=this._getPreferredOrder(a);o==null||o.priority.forEach(c=>{o.params[c].forEach(h=>{const u=a.filter(d=>d[c]?d[c]===h:!1);u.length&&(a=u)})}),this._resolverHash[i]=a[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});s[i]=this._resolverHash[i]}),t?s[e[0]]:s}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const s=e[t],i=this._preferredOrder.find(a=>a.params.format.includes(s.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}_buildResolvedAsset(e,t){const{aliases:s,data:i,loadParser:a,parser:o,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=ts.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=s??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=a??e.loadParser,e.parser=o??e.parser,e.format=c??e.format??b2(e.src),e}}Qa.RETINA_PREFIX=/@([0-9\.]+)x/;function b2(n){return n.split(".").pop().split("?").shift().split("#").shift()}const ih=(n,e)=>{const t=e.split("?")[1];return t&&(n+=`?${t}`),n},__=class Dl{constructor(e,t){this.linkedSheets=[];let s=e;(e==null?void 0:e.source)instanceof Gs&&(s={texture:e,data:t});const{texture:i,data:a,cachePrefix:o=""}=s;this.cachePrefix=o,this._texture=i instanceof Ne?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=a;const c=parseFloat(a.meta.scale);c?(this.resolution=c,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Dl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const s=Dl.BATCH_SIZE;for(;t-e<s&&t<this._frameKeys.length;){const i=this._frameKeys[t],a=this._frames[i],o=a.frame;if(o){let c=null,h=null;const u=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,d=new Rt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a.rotated?c=new Rt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):c=new Rt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(h=new Rt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Ne({source:this.textureSource,frame:c,orig:d,trim:h,rotate:a.rotated?2:0,defaultAnchor:a.anchor,defaultBorders:a.borders,label:i.toString()})}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let s=0;s<e[t].length;s++){const i=e[t][s];this.animations[t].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Dl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Dl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};__.BATCH_SIZE=1e3;let i1=__;const v2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function w_(n,e,t){const s={};if(n.forEach(i=>{s[i]=e}),Object.keys(e.textures).forEach(i=>{s[`${e.cachePrefix}${i}`]=e.textures[i]}),!t){const i=ts.dirname(n[0]);e.linkedSheets.forEach((a,o)=>{const c=w_([`${i}/${e.data.meta.related_multi_packs[o]}`],a,!0);Object.assign(s,c)})}return s}const _2={extension:ge.Asset,cache:{test:n=>n instanceof i1,getCacheableAssets:(n,e)=>w_(n,e,!1)},resolver:{extension:{type:ge.ResolveParser,name:"resolveSpritesheet"},test:n=>{const t=n.split("?")[0].split("."),s=t.pop(),i=t.pop();return s==="json"&&v2.includes(i)},parse:n=>{var t;const e=n.split(".");return{resolution:parseFloat(((t=Qa.RETINA_PREFIX.exec(n))==null?void 0:t[1])??"1"),format:e[e.length-2],src:n}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:ge.LoadParser,priority:$i.Normal,name:"spritesheetLoader"},async testParse(n,e){return ts.extname(e.src).toLowerCase()===".json"&&!!n.frames},async parse(n,e,t){var m,y;const{texture:s,imageFilename:i,textureOptions:a,cachePrefix:o}=(e==null?void 0:e.data)??{};let c=ts.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let h;if(s instanceof Ne)h=s;else{const p=ih(c+(i??n.meta.image),e.src);h=(await t.load([{src:p,data:a}]))[p]}const u=new i1({texture:h.source,data:n,cachePrefix:o});await u.parse();const d=(m=n==null?void 0:n.meta)==null?void 0:m.related_multi_packs;if(Array.isArray(d)){const p=[];for(const v of d){if(typeof v!="string")continue;let _=c+v;(y=e.data)!=null&&y.ignoreMultiPack||(_=ih(_,e.src),p.push(t.load({src:_,data:{textureOptions:a,ignoreMultiPack:!0}})))}const x=await Promise.all(p);u.linkedSheets=x,x.forEach(v=>{v.linkedSheets=[u].concat(u.linkedSheets.filter(_=>_!==v))})}return u},async unload(n,e,t){await t.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};Dt.add(_2);const vm=Object.create(null),n1=Object.create(null);function ep(n,e){let t=n1[n];return t===void 0&&(vm[e]===void 0&&(vm[e]=1),n1[n]=t=vm[e]++),t}let jr;function S_(){return(!jr||jr!=null&&jr.isContextLost())&&(jr=nt.get().createCanvas().getContext("webgl",{})),jr}let Nu;function w2(){if(!Nu){Nu="mediump";const n=S_();n&&n.getShaderPrecisionFormat&&(Nu=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision?"highp":"mediump")}return Nu}function S2(n,e,t){return e?n:t?(n=n.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${n}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${n}
        `}function C2(n,e,t){const s=t?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(n.substring(0,9)!=="precision"){let i=t?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&s!=="highp"&&(i="mediump"),`precision ${i} float;
${n}`}else if(s!=="highp"&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}function A2(n,e){return e?`#version 300 es
${n}`:n}const T2={},M2={};function k2(n,{name:e="pixi-program"},t=!0){e=e.replace(/\s+/g,"-"),e+=t?"-fragment":"-vertex";const s=t?T2:M2;return s[e]?(s[e]++,e+=`-${s[e]}`):s[e]=1,n.indexOf("#define SHADER_NAME")!==-1?n:`${`#define SHADER_NAME ${e}`}
${n}`}function E2(n,e){return e?n.replace("#version 300 es",""):n}const _m={stripVersion:E2,ensurePrecision:C2,addProgramDefines:S2,setProgramName:k2,insertVersion:A2},wl=Object.create(null),C_=class ig{constructor(e){e={...ig.defaultOptions,...e};const t=e.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:t,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:w2()},setProgramName:{name:e.name},addProgramDefines:t,insertVersion:t};let i=e.fragment,a=e.vertex;Object.keys(_m).forEach(o=>{const c=s[o];i=_m[o](i,c,!0),a=_m[o](a,c,!1)}),this.fragment=i,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=ep(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,wl[this._cacheKey]=null}static from(e){const t=`${e.vertex}:${e.fragment}`;return wl[t]||(wl[t]=new ig(e),wl[t]._cacheKey=t),wl[t]}};C_.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let A_=C_;const a1={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function R2(n){return a1[n]??a1.float32}const D2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function P2({source:n,entryPoint:e}){const t={},s=n.indexOf(`fn ${e}`);if(s!==-1){const i=n.indexOf("->",s);if(i!==-1){const a=n.substring(s,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let c;for(;(c=o.exec(a))!==null;){const h=D2[c[3]]??"float32";t[c[2]]={location:parseInt(c[1],10),format:h,stride:R2(h).stride,offset:0,instance:!1,start:0}}}}return t}function wm(n){var m,y;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,t=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,a=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,c=/(\w+)\s*:\s*([\w\<\>]+)/g,h=/struct\s+(\w+)/,u=(m=n.match(e))==null?void 0:m.map(p=>({group:parseInt(p.match(t)[1],10),binding:parseInt(p.match(s)[1],10),name:p.match(i)[2],isUniform:p.match(i)[1]==="<uniform>",type:p.match(a)[1]}));if(!u)return{groups:[],structs:[]};const d=((y=n.match(o))==null?void 0:y.map(p=>{const x=p.match(h)[1],v=p.match(c).reduce((_,A)=>{const[S,w]=A.split(":");return _[S.trim()]=w.trim(),_},{});return v?{name:x,members:v}:null}).filter(({name:p})=>u.some(x=>x.type===p)))??[];return{groups:u,structs:d}}var Pl=(n=>(n[n.VERTEX=1]="VERTEX",n[n.FRAGMENT=2]="FRAGMENT",n[n.COMPUTE=4]="COMPUTE",n))(Pl||{});function B2({groups:n}){const e=[];for(let t=0;t<n.length;t++){const s=n[t];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:Pl.VERTEX|Pl.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?e[s.group].push({binding:s.binding,visibility:Pl.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&e[s.group].push({binding:s.binding,visibility:Pl.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function O2({groups:n}){const e=[];for(let t=0;t<n.length;t++){const s=n[t];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}function N2(n,e){const t=new Set,s=new Set,i=[...n.structs,...e.structs].filter(o=>t.has(o.name)?!1:(t.add(o.name),!0)),a=[...n.groups,...e.groups].filter(o=>{const c=`${o.name}-${o.binding}`;return s.has(c)?!1:(s.add(c),!0)});return{structs:i,groups:a}}const Sl=Object.create(null);class Rh{constructor(e){var c,h;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:t,vertex:s,layout:i,gpuLayout:a,name:o}=e;if(this.name=o,this.fragment=t,this.vertex=s,t.source===s.source){const u=wm(t.source);this.structsAndGroups=u}else{const u=wm(s.source),d=wm(t.source);this.structsAndGroups=N2(u,d)}this.layout=i??O2(this.structsAndGroups),this.gpuLayout=a??B2(this.structsAndGroups),this.autoAssignGlobalUniforms=((c=this.layout[0])==null?void 0:c.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((h=this.layout[1])==null?void 0:h.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,s=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=ep(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=P2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Sl[this._cacheKey]=null}static from(e){const t=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Sl[t]||(Sl[t]=new Rh(e),Sl[t]._cacheKey=t),Sl[t]}}const T_=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],L2=T_.reduce((n,e)=>(n[e]=!0,n),{});function I2(n,e){switch(n){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const M_=class k_{constructor(e,t){this._touched=0,this.uid=wt("uniform"),this._resourceType="uniformGroup",this._resourceId=wt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,t={...k_.defaultOptions,...t},this.uniformStructures=e;const s={};for(const i in e){const a=e[i];if(a.name=i,a.size=a.size??1,!L2[a.type]){const o=a.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,c,h]=o;throw new Error(`Uniform type ${a.type} is not supported. Use type: '${c}', size: ${h} instead.`)}throw new Error(`Uniform type ${a.type} is not supported. Supported uniform types are: ${T_.join(", ")}`)}a.value??(a.value=I2(a.type,a.size)),s[i]=a.value}this.uniforms=s,this._dirtyId=1,this.ubo=t.ubo,this.isStatic=t.isStatic,this._signature=ep(Object.keys(s).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};M_.defaultOptions={ubo:!1,isStatic:!1};let E_=M_;class Wu{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const s in e){const i=e[s];this.setResource(i,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const s in this.resources)e[t++]=this.resources[s]._resourceId;this._key=e.join("|")}setResource(e,t){var i,a;const s=this.resources[t];e!==s&&(s&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(a=e.on)==null||a.call(e,"change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const s in t)t[s]._touched=e}destroy(){var t;const e=this.resources;for(const s in e){const i=e[s];(t=i==null?void 0:i.off)==null||t.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const s in t)t[s]===e&&(t[s]=null)}else this._updateKey()}}var ng=(n=>(n[n.WEBGL=1]="WEBGL",n[n.WEBGPU=2]="WEBGPU",n[n.BOTH=3]="BOTH",n))(ng||{});class Dh extends Ti{constructor(e){super(),this.uid=wt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:s,groups:i,resources:a,compatibleRenderers:o,groupMap:c}=e;this.gpuProgram=t,this.glProgram=s,o===void 0&&(o=0,t&&(o|=ng.WEBGPU),s&&(o|=ng.WEBGL)),this.compatibleRenderers=o;const h={};if(!a&&!i&&(a={}),a&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&i&&!c)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&i&&c)for(const u in c)for(const d in c[u]){const m=c[u][d];h[m]={group:u,binding:d,name:m}}else if(t&&i&&!c){const u=t.structsAndGroups.groups;c={},u.forEach(d=>{c[d.group]=c[d.group]||{},c[d.group][d.binding]=d.name,h[d.name]=d})}else if(a){i={},c={},t&&t.structsAndGroups.groups.forEach(m=>{c[m.group]=c[m.group]||{},c[m.group][m.binding]=m.name,h[m.name]=m});let u=0;for(const d in a)h[d]||(i[99]||(i[99]=new Wu,this._ownedBindGroups.push(i[99])),h[d]={group:99,binding:u,name:d},c[99]=c[99]||{},c[99][u]=d,u++);for(const d in a){const m=d;let y=a[d];!y.source&&!y._resourceType&&(y=new E_(y));const p=h[m];p&&(i[p.group]||(i[p.group]=new Wu,this._ownedBindGroups.push(i[p.group])),i[p.group].setResource(y,p.binding))}}this.groups=i,this._uniformBindMap=c,this.resources=this._buildResourceAccessor(i,h)}addResource(e,t,s){var i,a;(i=this._uniformBindMap)[t]||(i[t]={}),(a=this._uniformBindMap[t])[s]||(a[s]=e),this.groups[t]||(this.groups[t]=new Wu,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const s={};for(const i in t){const a=t[i];Object.defineProperty(s,a.name,{get(){return e[a.group].getResource(a.binding)},set(o){e[a.group].setResource(o,a.binding)}})}return s}destroy(e=!1){var t,s;this.emit("destroy",this),e&&((t=this.gpuProgram)==null||t.destroy(),(s=this.glProgram)==null||s.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:s,...i}=e;let a,o;return t&&(a=Rh.from(t)),s&&(o=A_.from(s)),new Dh({gpuProgram:a,glProgram:o,...i})}}const ag=[];Dt.handleByNamedList(ge.Environment,ag);async function z2(n){if(!n)for(let e=0;e<ag.length;e++){const t=ag[e];if(t.value.test()){await t.value.load();return}}}let Cl;function F2(){if(typeof Cl=="boolean")return Cl;try{Cl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Cl=!1}return Cl}function r1(n,e,t=2){const s=e&&e.length,i=s?e[0]*t:n.length;let a=R_(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,h,u;if(s&&(a=H2(n,e,a,t)),n.length>80*t){c=n[0],h=n[1];let d=c,m=h;for(let y=t;y<i;y+=t){const p=n[y],x=n[y+1];p<c&&(c=p),x<h&&(h=x),p>d&&(d=p),x>m&&(m=x)}u=Math.max(d-c,m-h),u=u!==0?32767/u:0}return Xl(a,o,t,c,h,u,0),o}function R_(n,e,t,s,i){let a;if(i===tk(n,e,t,s)>0)for(let o=e;o<t;o+=s)a=o1(o/s|0,n[o],n[o+1],a);else for(let o=t-s;o>=e;o-=s)a=o1(o/s|0,n[o],n[o+1],a);return a&&co(a,a.next)&&(ql(a),a=a.next),a}function qa(n,e){if(!n)return n;e||(e=n);let t=n,s;do if(s=!1,!t.steiner&&(co(t,t.next)||yt(t.prev,t,t.next)===0)){if(ql(t),t=e=t.prev,t===t.next)break;s=!0}else t=t.next;while(s||t!==e);return e}function Xl(n,e,t,s,i,a,o){if(!n)return;!o&&a&&$2(n,s,i,a);let c=n;for(;n.prev!==n.next;){const h=n.prev,u=n.next;if(a?Y2(n,s,i,a):j2(n)){e.push(h.i,n.i,u.i),ql(n),n=u.next,c=u.next;continue}if(n=u,n===c){o?o===1?(n=U2(qa(n),e),Xl(n,e,t,s,i,a,2)):o===2&&V2(n,e,t,s,i,a):Xl(qa(n),e,t,s,i,a,1);break}}}function j2(n){const e=n.prev,t=n,s=n.next;if(yt(e,t,s)>=0)return!1;const i=e.x,a=t.x,o=s.x,c=e.y,h=t.y,u=s.y,d=Math.min(i,a,o),m=Math.min(c,h,u),y=Math.max(i,a,o),p=Math.max(c,h,u);let x=s.next;for(;x!==e;){if(x.x>=d&&x.x<=y&&x.y>=m&&x.y<=p&&Bl(i,c,a,h,o,u,x.x,x.y)&&yt(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function Y2(n,e,t,s){const i=n.prev,a=n,o=n.next;if(yt(i,a,o)>=0)return!1;const c=i.x,h=a.x,u=o.x,d=i.y,m=a.y,y=o.y,p=Math.min(c,h,u),x=Math.min(d,m,y),v=Math.max(c,h,u),_=Math.max(d,m,y),A=rg(p,x,e,t,s),S=rg(v,_,e,t,s);let w=n.prevZ,T=n.nextZ;for(;w&&w.z>=A&&T&&T.z<=S;){if(w.x>=p&&w.x<=v&&w.y>=x&&w.y<=_&&w!==i&&w!==o&&Bl(c,d,h,m,u,y,w.x,w.y)&&yt(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=p&&T.x<=v&&T.y>=x&&T.y<=_&&T!==i&&T!==o&&Bl(c,d,h,m,u,y,T.x,T.y)&&yt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=A;){if(w.x>=p&&w.x<=v&&w.y>=x&&w.y<=_&&w!==i&&w!==o&&Bl(c,d,h,m,u,y,w.x,w.y)&&yt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=S;){if(T.x>=p&&T.x<=v&&T.y>=x&&T.y<=_&&T!==i&&T!==o&&Bl(c,d,h,m,u,y,T.x,T.y)&&yt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function U2(n,e){let t=n;do{const s=t.prev,i=t.next.next;!co(s,i)&&P_(s,t,t.next,i)&&Gl(s,i)&&Gl(i,s)&&(e.push(s.i,t.i,i.i),ql(t),ql(t.next),t=n=i),t=t.next}while(t!==n);return qa(t)}function V2(n,e,t,s,i,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&Z2(o,c)){let h=B_(o,c);o=qa(o,o.next),h=qa(h,h.next),Xl(o,e,t,s,i,a,0),Xl(h,e,t,s,i,a,0);return}c=c.next}o=o.next}while(o!==n)}function H2(n,e,t,s){const i=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*s,h=a<o-1?e[a+1]*s:n.length,u=R_(n,c,h,s,!1);u===u.next&&(u.steiner=!0),i.push(Q2(u))}i.sort(X2);for(let a=0;a<i.length;a++)t=G2(i[a],t);return t}function X2(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const s=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=s-i}return t}function G2(n,e){const t=q2(n,e);if(!t)return e;const s=B_(t,n);return qa(s,s.next),qa(t,t.next)}function q2(n,e){let t=e;const s=n.x,i=n.y;let a=-1/0,o;if(co(n,t))return t;do{if(co(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const m=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=s&&m>a&&(a=m,o=t.x<t.next.x?t:t.next,m===s))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,h=o.x,u=o.y;let d=1/0;t=o;do{if(s>=t.x&&t.x>=h&&s!==t.x&&D_(i<u?s:a,i,h,u,i<u?a:s,i,t.x,t.y)){const m=Math.abs(i-t.y)/(s-t.x);Gl(t,n)&&(m<d||m===d&&(t.x>o.x||t.x===o.x&&W2(o,t)))&&(o=t,d=m)}t=t.next}while(t!==c);return o}function W2(n,e){return yt(n.prev,n,e.prev)<0&&yt(e.next,n,n.next)<0}function $2(n,e,t,s){let i=n;do i.z===0&&(i.z=rg(i.x,i.y,e,t,s)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,K2(i)}function K2(n){let e,t=1;do{let s=n,i;n=null;let a=null;for(e=0;s;){e++;let o=s,c=0;for(let u=0;u<t&&(c++,o=o.nextZ,!!o);u++);let h=t;for(;c>0||h>0&&o;)c!==0&&(h===0||!o||s.z<=o.z)?(i=s,s=s.nextZ,c--):(i=o,o=o.nextZ,h--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;s=o}a.nextZ=null,t*=2}while(e>1);return n}function rg(n,e,t,s,i){return n=(n-t)*i|0,e=(e-s)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Q2(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function D_(n,e,t,s,i,a,o,c){return(i-o)*(e-c)>=(n-o)*(a-c)&&(n-o)*(s-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(i-o)*(s-c)}function Bl(n,e,t,s,i,a,o,c){return!(n===o&&e===c)&&D_(n,e,t,s,i,a,o,c)}function Z2(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!J2(n,e)&&(Gl(n,e)&&Gl(e,n)&&ek(n,e)&&(yt(n.prev,n,e.prev)||yt(n,e.prev,e))||co(n,e)&&yt(n.prev,n,n.next)>0&&yt(e.prev,e,e.next)>0)}function yt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function co(n,e){return n.x===e.x&&n.y===e.y}function P_(n,e,t,s){const i=Iu(yt(n,e,t)),a=Iu(yt(n,e,s)),o=Iu(yt(t,s,n)),c=Iu(yt(t,s,e));return!!(i!==a&&o!==c||i===0&&Lu(n,t,e)||a===0&&Lu(n,s,e)||o===0&&Lu(t,n,s)||c===0&&Lu(t,e,s))}function Lu(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Iu(n){return n>0?1:n<0?-1:0}function J2(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&P_(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Gl(n,e){return yt(n.prev,n,n.next)<0?yt(n,e,n.next)>=0&&yt(n,n.prev,e)>=0:yt(n,e,n.prev)<0||yt(n,n.next,e)<0}function ek(n,e){let t=n,s=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(s=!s),t=t.next;while(t!==n);return s}function B_(n,e){const t=og(n.i,n.x,n.y),s=og(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,s.next=t,t.prev=s,a.next=s,s.prev=a,s}function o1(n,e,t,s){const i=og(n,e,t);return s?(i.next=s.next,i.prev=s,s.next.prev=i,s.next=i):(i.prev=i,i.next=i),i}function ql(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function og(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tk(n,e,t,s){let i=0;for(let a=e,o=t-s;a<t;a+=s)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}const sk=r1.default||r1;var O_=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(O_||{});class ik{constructor(e){this.items=[],this._name=e}emit(e,t,s,i,a,o,c,h){const{name:u,items:d}=this;for(let m=0,y=d.length;m<y;m++)d[m][u](e,t,s,i,a,o,c,h);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&this.items.splice(t,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const nk=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],N_=class L_ extends Ti{constructor(e){super(),this.uid=wt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const t=[...nk,...this.config.runners??[]];this._addRunners(...t),this._unsafeEvalCheck()}async init(e={}){const t=e.skipExtensionImports===!0?!0:e.manageImports===!1;await z2(t),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)e={...this._systemsHash[s].constructor.defaultOptions,...e};e={...L_.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(e);this._initOptions=e}render(e,t){let s=e;if(s instanceof qs&&(s={container:s},t&&(Re(Je,"passing a second argument is deprecated, please use render options instead"),s.target=t.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const i=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=i?s.clearColor:Lt.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(e,t,s){const i=this.view.resolution;this.view.resize(e,t,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==i&&this.runners.resolutionChange.emit(s)}clear(e={}){const t=this;e.target||(e.target=t.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=O_.ALL);const{clear:s,clearColor:i,target:a}=e;Lt.shared.setValue(i??this.background.colorRgba),t.renderTarget.clear(a,s,Lt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(t=>{this.runners[t]=new ik(t)})}_addSystems(e){let t;for(t in e){const s=e[t];this._addSystem(s.value,s.name)}}_addSystem(e,t){const s=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=s,this._systemsHash[t]=s;for(const i in this.runners)this.runners[i].add(s);return this}_addPipes(e,t){const s=t.reduce((i,a)=>(i[a.name]=a.value,i),{});e.forEach(i=>{const a=i.value,o=i.name,c=s[o];this.renderPipes[o]=new a(this,c?new c:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(t=>{t.destroy()}),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&uc.release(),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!F2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};N_.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let I_=N_,zu;function ak(n){return zu!==void 0||(zu=(()=>{var t;const e={stencil:!0,failIfMajorPerformanceCaveat:n??I_.defaultOptions.failIfMajorPerformanceCaveat};try{if(!nt.get().getWebGLRenderingContext())return!1;let i=nt.get().createCanvas().getContext("webgl",e);const a=!!((t=i==null?void 0:i.getContextAttributes())!=null&&t.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,a}catch{return!1}})()),zu}let Fu;async function rk(n={}){return Fu!==void 0||(Fu=await(async()=>{const e=nt.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),Fu}const l1=["webgl","webgpu","canvas"];async function ok(n){let e=[];n.preference?(e.push(n.preference),l1.forEach(a=>{a!==n.preference&&e.push(a)})):e=l1.slice();let t,s={};for(let a=0;a<e.length;a++){const o=e[a];if(o==="webgpu"&&await rk()){const{WebGPURenderer:c}=await Ju(async()=>{const{WebGPURenderer:h}=await import("./WebGPURenderer-O1tybfJi.js");return{WebGPURenderer:h}},__vite__mapDeps([3,2,4]));t=c,s={...n,...n.webgpu};break}else if(o==="webgl"&&ak(n.failIfMajorPerformanceCaveat??I_.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:c}=await Ju(async()=>{const{WebGLRenderer:h}=await import("./WebGLRenderer-Bot26_GY.js");return{WebGLRenderer:h}},__vite__mapDeps([5,2,4]));t=c,s={...n,...n.webgl};break}else if(o==="canvas")throw s={...n},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!t)throw new Error("No available renderer for the current environment");const i=new t;return await i.init(s),i}const z_="8.13.2";class F_{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,z_)}static destroy(){}}F_.extension=ge.Application;class lk{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,z_)}destroy(){this._renderer=null}}lk.extension={type:[ge.WebGLSystem,ge.WebGPUSystem],name:"initHook",priority:-10};const j_=class lg{constructor(...e){this.stage=new qs,e[0]!==void 0&&Re(Je,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await ok(e),lg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Re(Je,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,t=!1){const s=lg._plugins.slice(0);s.reverse(),s.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};j_._plugins=[];let Y_=j_;Dt.handleByList(ge.Application,Y_._plugins);Dt.add(F_);class U_ extends Ti{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Re(Je,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Re(Je,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Re(Je,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Re(Je,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Re(Je,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var t;this.emit("destroy",this),this.removeAllListeners();for(const s in this.chars)(t=this.chars[s].texture)==null||t.destroy();this.chars=null,e&&(this.pages.forEach(s=>s.texture.destroy(!0)),this.pages=null)}}/**
 * tiny-lru
 *
 * @copyright 2025 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.4.5
 */class ck{constructor(e=0,t=0,s=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=s,this.size=0,this.ttl=t}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const t=this.items[e];delete this.items[e],this.size--,t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}entries(e=this.keys()){return e.map(t=>[t,this.get(t)])}evict(e=!1){if(e||this.size>0){const t=this.first;delete this.items[t.key],--this.size===0?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}return this}expiresAt(e){let t;return this.has(e)&&(t=this.items[e].expiry),t}get(e){const t=this.items[e];if(t!==void 0){if(this.ttl>0&&t.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(t),t.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=[];let t=this.first;for(;t!==null;)e.push(t.key),t=t.next;return e}setWithEvicted(e,t,s=this.resetTtl){let i=null;if(this.has(e))this.set(e,t,!0,s);else{this.max>0&&this.size===this.max&&(i={...this.first},this.evict(!0));let a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t};++this.size===1?this.first=a:this.last.next=a,this.last=a}return i}set(e,t,s=!1,i=this.resetTtl){let a=this.items[e];return s||a!==void 0?(a.value=t,s===!1&&i&&(a.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(a)):(this.max>0&&this.size===this.max&&this.evict(!0),a=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},++this.size===1?this.first=a:this.last.next=a,this.last=a),this}values(e=this.keys()){return e.map(t=>this.get(t))}}function V_(n=1e3,e=0,t=!1){if(isNaN(n)||n<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof t!="boolean")throw new TypeError("Invalid resetTtl value");return new ck(n,e,t)}const uk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function cg(n){const e=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let t=n.fontFamily;Array.isArray(n.fontFamily)||(t=n.fontFamily.split(","));for(let s=t.length-1;s>=0;s--){let i=t[s].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!uk.includes(i)&&(i=`"${i}"`),t[s]=i}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${e} ${t.join(",")}`}const Sm={willReadFrequently:!0},Mi=class pe{static get experimentalLetterSpacingSupported(){let e=pe._experimentalLetterSpacingSupported;if(e===void 0){const t=nt.get().getCanvasRenderingContext2D().prototype;e=pe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,s,i,a,o,c,h,u){this.text=e,this.style=t,this.width=s,this.height=i,this.lines=a,this.lineWidths=o,this.lineHeight=c,this.maxLineWidth=h,this.fontProperties=u}static measureText(e=" ",t,s=pe._canvas,i=t.wordWrap){var S;const a=`${e}-${t.styleKey}-wordWrap-${i}`;if(pe._measurementCache.has(a))return pe._measurementCache.get(a);const o=cg(t),c=pe.measureFont(o);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const h=pe.__context;h.font=o;const d=(i?pe._wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),m=new Array(d.length);let y=0;for(let w=0;w<d.length;w++){const T=pe._measureText(d[w],t.letterSpacing,h);m[w]=T,y=Math.max(y,T)}const p=((S=t._stroke)==null?void 0:S.width)||0;let x=y+p;t.dropShadow&&(x+=t.dropShadow.distance);const v=t.lineHeight||c.fontSize;let _=Math.max(v,c.fontSize+p)+(d.length-1)*(v+t.leading);t.dropShadow&&(_+=t.dropShadow.distance);const A=new pe(e,t,x,_,d,m,v+t.leading,y,c);return pe._measurementCache.set(a,A),A}static _measureText(e,t,s){let i=!1;pe.experimentalLetterSpacingSupported&&(pe.experimentalLetterSpacing?(s.letterSpacing=`${t}px`,s.textLetterSpacing=`${t}px`,i=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const a=s.measureText(e);let o=a.width;const c=-a.actualBoundingBoxLeft;let u=a.actualBoundingBoxRight-c;if(o>0)if(i)o-=t,u-=t;else{const d=(pe.graphemeSegmenter(e).length-1)*t;o+=d,u+=d}return Math.max(o,u)}static _wordWrap(e,t,s=pe._canvas){const i=s.getContext("2d",Sm);let a=0,o="",c="";const h=Object.create(null),{letterSpacing:u,whiteSpace:d}=t,m=pe._collapseSpaces(d),y=pe._collapseNewlines(d);let p=!m;const x=t.wordWrapWidth+u,v=pe._tokenize(e);for(let _=0;_<v.length;_++){let A=v[_];if(pe._isNewline(A)){if(!y){c+=pe._addLine(o),p=!m,o="",a=0;continue}A=" "}if(m){const w=pe.isBreakingSpace(A),T=pe.isBreakingSpace(o[o.length-1]);if(w&&T)continue}const S=pe._getFromCache(A,u,h,i);if(S>x)if(o!==""&&(c+=pe._addLine(o),o="",a=0),pe.canBreakWords(A,t.breakWords)){const w=pe.wordWrapSplit(A);for(let T=0;T<w.length;T++){let R=w[T],E=R,D=1;for(;w[T+D];){const O=w[T+D];if(!pe.canBreakChars(E,O,A,T,t.breakWords))R+=O;else break;E=O,D++}T+=D-1;const B=pe._getFromCache(R,u,h,i);B+a>x&&(c+=pe._addLine(o),p=!1,o="",a=0),o+=R,a+=B}}else{o.length>0&&(c+=pe._addLine(o),o="",a=0);const w=_===v.length-1;c+=pe._addLine(A,!w),p=!1,o="",a=0}else S+a>x&&(p=!1,c+=pe._addLine(o),o="",a=0),(o.length>0||!pe.isBreakingSpace(A)||p)&&(o+=A,a+=S)}return c+=pe._addLine(o,!1),c}static _addLine(e,t=!0){return e=pe._trimRight(e),e=t?`${e}
`:e,e}static _getFromCache(e,t,s,i){let a=s[e];return typeof a!="number"&&(a=pe._measureText(e,t,i)+t,s[e]=a),a}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const s=e[t];if(!pe.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:pe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:pe._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const t=[];let s="";if(typeof e!="string")return t;for(let i=0;i<e.length;i++){const a=e[i],o=e[i+1];if(pe.isBreakingSpace(a,o)||pe._isNewline(a)){s!==""&&(t.push(s),s=""),a==="\r"&&o===`
`?(t.push(`\r
`),i++):t.push(a);continue}s+=a}return s!==""&&t.push(s),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,s,i,a){return!0}static wordWrapSplit(e){return pe.graphemeSegmenter(e)}static measureFont(e){if(pe._fonts[e])return pe._fonts[e];const t=pe._context;t.font=e;const s=t.measureText(pe.METRICS_STRING+pe.BASELINE_SYMBOL),i={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return pe._fonts[e]=i,i}static clearMetrics(e=""){e?delete pe._fonts[e]:pe._fonts={}}static get _canvas(){if(!pe.__canvas){let e;try{const t=new OffscreenCanvas(0,0),s=t.getContext("2d",Sm);if(s!=null&&s.measureText)return pe.__canvas=t,t;e=nt.get().createCanvas()}catch{e=nt.get().createCanvas()}e.width=e.height=10,pe.__canvas=e}return pe.__canvas}static get _context(){return pe.__context||(pe.__context=pe._canvas.getContext("2d",Sm)),pe.__context}};Mi.METRICS_STRING="|ÉqÅ";Mi.BASELINE_SYMBOL="M";Mi.BASELINE_MULTIPLIER=1.4;Mi.HEIGHT_MULTIPLIER=2;Mi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const n=new Intl.Segmenter;return e=>{const t=n.segment(e),s=[];let i=0;for(const a of t)s[i++]=a.segment;return s}}return n=>[...n]})();Mi.experimentalLetterSpacing=!1;Mi._fonts={};Mi._newlines=[10,13];Mi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Mi._measurementCache=V_(1e3);let $u=Mi;const c1=[{offset:0,color:"white"},{offset:1,color:"black"}],tp=class ug{constructor(...e){this.uid=wt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let t=hk(e);t={...t.type==="radial"?ug.defaultRadialOptions:ug.defaultLinearOptions,...qv(t)},this._textureSize=t.textureSize,this._wrapMode=t.wrapMode,t.type==="radial"?(this.center=t.center,this.outerCenter=t.outerCenter??this.center,this.innerRadius=t.innerRadius,this.outerRadius=t.outerRadius,this.scale=t.scale,this.rotation=t.rotation):(this.start=t.start,this.end=t.end),this.textureSpace=t.textureSpace,this.type=t.type,t.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,t){return this.colorStops.push({offset:e,color:Lt.shared.setValue(t).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:t}=this.start,{x:s,y:i}=this.end,a=s-e,o=i-t;const c=a<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(a<0){const _=e;e=s,s=_,a*=-1}if(o<0){const _=t;t=i,i=_,o*=-1}}const h=this.colorStops.length?this.colorStops:c1,u=this._textureSize,{canvas:d,context:m}=h1(u,1),y=c?m.createLinearGradient(this._textureSize,0,0,0):m.createLinearGradient(0,0,this._textureSize,0);u1(y,h),m.fillStyle=y,m.fillRect(0,0,u,1),this.texture=new Ne({source:new Ga({resource:d,addressMode:this._wrapMode})});const p=Math.sqrt(a*a+o*o),x=Math.atan2(o,a),v=new Le;v.scale(p/u,1),v.rotate(x),v.translate(e,t),this.textureSpace==="local"&&v.scale(u,u),this.transform=v}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:c1,t=this._textureSize,{canvas:s,context:i}=h1(t,t),{x:a,y:o}=this.center,{x:c,y:h}=this.outerCenter,u=this.innerRadius,d=this.outerRadius,m=c-d,y=h-d,p=t/(d*2),x=(a-m)*p,v=(o-y)*p,_=i.createRadialGradient(x,v,u*p,(c-m)*p,(h-y)*p,d*p);u1(_,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,t,t),i.fillStyle=_,i.translate(x,v),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-x,-v),i.fillRect(0,0,t,t),this.texture=new Ne({source:new Ga({resource:s,addressMode:this._wrapMode})});const A=new Le;A.scale(1/p,1/p),A.translate(m,y),this.textureSpace==="local"&&A.scale(t,t),this.transform=A}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};tp.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};tp.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let _n=tp;function u1(n,e){for(let t=0;t<e.length;t++){const s=e[t];n.addColorStop(s.offset,s.color)}}function h1(n,e){const t=nt.get().createCanvas(n,e),s=t.getContext("2d");return{canvas:t,context:s}}function hk(n){let e=n[0]??{};return(typeof e=="number"||n[1])&&(Re("8.5.2","use options object instead"),e={type:"linear",start:{x:n[0],y:n[1]},end:{x:n[2],y:n[3]},textureSpace:n[4],textureSize:n[5]??_n.defaultLinearOptions.textureSize}),e}const d1={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Ph{constructor(e,t){this.uid=wt("fillPattern"),this._tick=0,this.transform=new Le,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=d1[t].addressModeU,e.source.style.addressModeV=d1[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Cm,f1;function dk(){if(f1)return Cm;f1=1,Cm=t;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function t(a){var o=[];return a.replace(e,function(c,h,u){var d=h.toLowerCase();for(u=i(u),d=="m"&&u.length>2&&(o.push([h].concat(u.splice(0,2))),d="l",h=h=="m"?"l":"L");;){if(u.length==n[d])return u.unshift(h),o.push(u);if(u.length<n[d])throw new Error("malformed path data");o.push([h].concat(u.splice(0,n[d])))}}),o}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(a){var o=a.match(s);return o?o.map(Number):[]}return Cm}var fk=dk();const mk=$g(fk);function gk(n,e){const t=mk(n),s=[];let i=null,a=0,o=0;for(let c=0;c<t.length;c++){const h=t[c],u=h[0],d=h;switch(u){case"M":a=d[1],o=d[2],e.moveTo(a,o);break;case"m":a+=d[1],o+=d[2],e.moveTo(a,o);break;case"H":a=d[1],e.lineTo(a,o);break;case"h":a+=d[1],e.lineTo(a,o);break;case"V":o=d[1],e.lineTo(a,o);break;case"v":o+=d[1],e.lineTo(a,o);break;case"L":a=d[1],o=d[2],e.lineTo(a,o);break;case"l":a+=d[1],o+=d[2],e.lineTo(a,o);break;case"C":a=d[5],o=d[6],e.bezierCurveTo(d[1],d[2],d[3],d[4],a,o);break;case"c":e.bezierCurveTo(a+d[1],o+d[2],a+d[3],o+d[4],a+d[5],o+d[6]),a+=d[5],o+=d[6];break;case"S":a=d[3],o=d[4],e.bezierCurveToShort(d[1],d[2],a,o);break;case"s":e.bezierCurveToShort(a+d[1],o+d[2],a+d[3],o+d[4]),a+=d[3],o+=d[4];break;case"Q":a=d[3],o=d[4],e.quadraticCurveTo(d[1],d[2],a,o);break;case"q":e.quadraticCurveTo(a+d[1],o+d[2],a+d[3],o+d[4]),a+=d[3],o+=d[4];break;case"T":a=d[1],o=d[2],e.quadraticCurveToShort(a,o);break;case"t":a+=d[1],o+=d[2],e.quadraticCurveToShort(a,o);break;case"A":a=d[6],o=d[7],e.arcToSvg(d[1],d[2],d[3],d[4],d[5],a,o);break;case"a":a+=d[6],o+=d[7],e.arcToSvg(d[1],d[2],d[3],d[4],d[5],a,o);break;case"Z":case"z":e.closePath(),s.length>0&&(i=s.pop(),i?(a=i.startX,o=i.startY):(a=0,o=0)),i=null;break;default:ut(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&i===null&&(i={startX:a,startY:o},s.push(i))}return e}class sp{constructor(e=0,t=0,s=0){this.type="circle",this.x=e,this.y=t,this.radius=s}clone(){return new sp(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const s=this.radius*this.radius;let i=this.x-e,a=this.y-t;return i*=i,a*=a,i+a<=s}strokeContains(e,t,s,i=.5){if(this.radius===0)return!1;const a=this.x-e,o=this.y-t,c=this.radius,h=(1-i)*s,u=Math.sqrt(a*a+o*o);return u<=c+h&&u>c-(s-h)}getBounds(e){return e||(e=new Rt),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ip{constructor(e=0,t=0,s=0,i=0){this.type="ellipse",this.x=e,this.y=t,this.halfWidth=s,this.halfHeight=i}clone(){return new ip(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(e-this.x)/this.halfWidth,i=(t-this.y)/this.halfHeight;return s*=s,i*=i,s+i<=1}strokeContains(e,t,s,i=.5){const{halfWidth:a,halfHeight:o}=this;if(a<=0||o<=0)return!1;const c=s*(1-i),h=s-c,u=a-h,d=o-h,m=a+c,y=o+c,p=e-this.x,x=t-this.y,v=p*p/(u*u)+x*x/(d*d),_=p*p/(m*m)+x*x/(y*y);return v>1&&_<=1}getBounds(e){return e||(e=new Rt),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function pk(n,e,t,s,i,a){const o=n-t,c=e-s,h=i-t,u=a-s,d=o*h+c*u,m=h*h+u*u;let y=-1;m!==0&&(y=d/m);let p,x;y<0?(p=t,x=s):y>1?(p=i,x=a):(p=t+y*h,x=s+y*u);const v=n-p,_=e-x;return v*v+_*_}let yk,xk;class zl{constructor(...e){this.type="polygon";let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const s=[];for(let i=0,a=t.length;i<a;i++)s.push(t[i].x,t[i].y);t=s}this.points=t,this.closePath=!0}isClockwise(){let e=0;const t=this.points,s=t.length;for(let i=0;i<s;i+=2){const a=t[i],o=t[i+1],c=t[(i+2)%s],h=t[(i+3)%s];e+=(c-a)*(h+o)}return e<0}containsPolygon(e){const t=this.getBounds(yk),s=e.getBounds(xk);if(!t.containsRect(s))return!1;const i=e.points;for(let a=0;a<i.length;a+=2){const o=i[a],c=i[a+1];if(!this.contains(o,c))return!1}return!0}clone(){const e=this.points.slice(),t=new zl(e);return t.closePath=this.closePath,t}contains(e,t){let s=!1;const i=this.points.length/2;for(let a=0,o=i-1;a<i;o=a++){const c=this.points[a*2],h=this.points[a*2+1],u=this.points[o*2],d=this.points[o*2+1];h>t!=d>t&&e<(u-c)*((t-h)/(d-h))+c&&(s=!s)}return s}strokeContains(e,t,s,i=.5){const a=s*s,o=a*(1-i),c=a-o,{points:h}=this,u=h.length-(this.closePath?0:2);for(let d=0;d<u;d+=2){const m=h[d],y=h[d+1],p=h[(d+2)%h.length],x=h[(d+3)%h.length],v=pk(e,t,m,y,p,x),_=Math.sign((p-m)*(t-y)-(x-y)*(e-m));if(v<=(_<0?c:o))return!0}return!1}getBounds(e){e||(e=new Rt);const t=this.points;let s=1/0,i=-1/0,a=1/0,o=-1/0;for(let c=0,h=t.length;c<h;c+=2){const u=t[c],d=t[c+1];s=u<s?u:s,i=u>i?u:i,a=d<a?d:a,o=d>o?d:o}return e.x=s,e.width=i-s,e.y=a,e.height=o-a,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Re("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Re("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ju=(n,e,t,s,i,a,o)=>{const c=n-t,h=e-s,u=Math.sqrt(c*c+h*h);return u>=i-a&&u<=i+o};class np{constructor(e=0,t=0,s=0,i=0,a=20){this.type="roundedRectangle",this.x=e,this.y=t,this.width=s,this.height=i,this.radius=a}getBounds(e){return e||(e=new Rt),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new np(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+s&&t<=this.y+this.height-s||e>=this.x+s&&e<=this.x+this.width-s)return!0;let i=e-(this.x+s),a=t-(this.y+s);const o=s*s;if(i*i+a*a<=o||(i=e-(this.x+this.width-s),i*i+a*a<=o)||(a=t-(this.y+this.height-s),i*i+a*a<=o)||(i=e-(this.x+s),i*i+a*a<=o))return!0}return!1}strokeContains(e,t,s,i=.5){const{x:a,y:o,width:c,height:h,radius:u}=this,d=s*(1-i),m=s-d,y=a+u,p=o+u,x=c-u*2,v=h-u*2,_=a+c,A=o+h;return(e>=a-d&&e<=a+m||e>=_-m&&e<=_+d)&&t>=p&&t<=p+v||(t>=o-d&&t<=o+m||t>=A-m&&t<=A+d)&&e>=y&&e<=y+x?!0:e<y&&t<p&&ju(e,t,y,p,u,m,d)||e>_-u&&t<p&&ju(e,t,_-u,p,u,m,d)||e>_-u&&t>A-u&&ju(e,t,_-u,A-u,u,m,d)||e<y&&t>A-u&&ju(e,t,y,A-u,u,m,d)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const H_={};function bk(n,e,t){let s=2166136261;for(let i=0;i<e;i++)s^=n[i].uid,s=Math.imul(s,16777619),s>>>=0;return H_[s]||vk(n,e,s,t)}function vk(n,e,t,s){const i={};let a=0;for(let c=0;c<s;c++){const h=c<e?n[c]:Ne.EMPTY.source;i[a++]=h.source,i[a++]=h.style}const o=new Wu(i);return H_[t]=o,o}class m1{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function hg(n,e){const t=n.byteLength/8|0,s=new Float64Array(n,0,t);new Float64Array(e,0,t).set(s);const a=n.byteLength-t*8;if(a>0){const o=new Uint8Array(n,t*8,a);new Uint8Array(e,t*8,a).set(o)}}const _k={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var wk=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",n[n.NONE=5]="NONE",n))(wk||{});function g1(n,e){return e.alphaMode==="no-premultiply-alpha"&&_k[n]||n}const Sk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ck(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function Ak(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=Sk.replace(/%forloop%/gi,Ck(n));if(e.shaderSource(t,s),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}}finally{e.deleteShader(t)}return n}let Yr=null;function Tk(){var e;if(Yr)return Yr;const n=S_();return Yr=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),Yr=Ak(Yr,n),(e=n.getExtension("WEBGL_lose_context"))==null||e.loseContext(),Yr}class Mk{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}class kk{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Mk,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Fl=[];let nh=0;uc.register({clear:()=>{if(Fl.length>0)for(const n of Fl)n&&n.destroy();Fl.length=0,nh=0}});function p1(){return nh>0?Fl[--nh]:new kk}function y1(n){Fl[nh++]=n}let Al=0;const X_=class G_{constructor(e){this.uid=wt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...G_.defaultOptions,...e},e.maxTextures||(Re("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=Tk());const{maxTextures:t,attributesInitialSize:s,indicesInitialSize:i}=e;this.attributeBuffer=new m1(s*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=t}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)y1(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const s=e._batch.textures.ids[t._source.uid];return!s&&s!==0?!1:(e._textureId=s,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let s=p1(),i=s.textures;i.clear();const a=t[this.elementStart];let o=g1(a.blendMode,a.texture._source),c=a.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const h=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,d=this.indexBuffer;let m=this._batchIndexSize,y=this._batchIndexStart,p="startBatch";const x=this.maxTextures;for(let v=this.elementStart;v<this.elementSize;++v){const _=t[v];t[v]=null;const S=_.texture._source,w=g1(_.blendMode,S),T=o!==w||c!==_.topology;if(S._batchTick===Al&&!T){_._textureId=S._textureBindLocation,m+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,h,u,_._attributeStart,_._textureId),this.packQuadIndex(d,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,h,u,_._attributeStart,_._textureId),this.packIndex(_,d,_._indexStart,_._attributeStart/this.vertexSize)),_._batch=s;continue}S._batchTick=Al,(i.count>=x||T)&&(this._finishBatch(s,y,m-y,i,o,c,e,p),p="renderBatch",y=m,o=w,c=_.topology,s=p1(),i=s.textures,i.clear(),++Al),_._textureId=S._textureBindLocation=i.count,i.ids[S.uid]=i.count,i.textures[i.count++]=S,_._batch=s,m+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,h,u,_._attributeStart,_._textureId),this.packQuadIndex(d,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,h,u,_._attributeStart,_._textureId),this.packIndex(_,d,_._indexStart,_._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(s,y,m-y,i,o,c,e,p),y=m,++Al),this.elementStart=this.elementSize,this._batchIndexStart=y,this._batchIndexSize=m}_finishBatch(e,t,s,i,a,o,c,h){e.gpuBindGroup=null,e.bindGroup=null,e.action=h,e.batcher=this,e.textures=i,e.blendMode=a,e.topology=o,e.start=t,e.size=s,++Al,this.batches[this.batchIndex++]=e,c.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,this.attributeBuffer.size*2),s=new m1(t);hg(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(e){const t=this.indexBuffer;let s=Math.max(e,t.length*1.5);s+=s%2;const i=s>65535?new Uint32Array(s):new Uint16Array(s);if(i.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let a=0;a<t.length;a++)i[a]=t[a];else hg(t.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,t,s){e[t]=s+0,e[t+1]=s+1,e[t+2]=s+2,e[t+3]=s+0,e[t+4]=s+2,e[t+5]=s+3}packIndex(e,t,s,i){const a=e.indices,o=e.indexSize,c=e.indexOffset,h=e.attributeOffset;for(let u=0;u<o;u++)t[s++]=i+a[u+c]-h}destroy(){if(this.batches!==null){for(let e=0;e<this.batches.length;e++)y1(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]&&(this._elements[e]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};X_.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let q_=X_;var qt=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(qt||{});class Wa extends Ti{constructor(e){let{data:t,size:s}=e;const{usage:i,label:a,shrinkToFit:o}=e;super(),this.uid=wt("buffer"),this._resourceType="buffer",this._resourceId=wt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,t instanceof Array&&(t=new Float32Array(t)),this._data=t,s??(s=t==null?void 0:t.byteLength);const c=!!t;this.descriptor={size:s,usage:i,mappedAtCreation:c,label:a},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&qt.STATIC)}set static(e){e?this.descriptor.usage|=qt.STATIC:this.descriptor.usage&=~qt.STATIC}setDataWithSize(e,t,s){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e){s&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?s&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=wt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function W_(n,e){if(!(n instanceof Wa)){let t=e?qt.INDEX:qt.VERTEX;n instanceof Array&&(e?(n=new Uint32Array(n),t=qt.INDEX|qt.COPY_DST):(n=new Float32Array(n),t=qt.VERTEX|qt.COPY_DST)),n=new Wa({data:n,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return n}function Ek(n,e,t){const s=n.getAttribute(e);if(!s)return t.minX=0,t.minY=0,t.maxX=0,t.maxY=0,t;const i=s.buffer.data;let a=1/0,o=1/0,c=-1/0,h=-1/0;const u=i.BYTES_PER_ELEMENT,d=(s.offset||0)/u,m=(s.stride||2*4)/u;for(let y=d;y<i.length;y+=m){const p=i[y],x=i[y+1];p>c&&(c=p),x>h&&(h=x),p<a&&(a=p),x<o&&(o=x)}return t.minX=a,t.minY=o,t.maxX=c,t.maxY=h,t}function Rk(n){return(n instanceof Wa||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=W_(n.buffer,!1),n}class $_ extends Ti{constructor(e={}){super(),this.uid=wt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Si,this._boundsDirty=!0;const{attributes:t,indexBuffer:s,topology:i}=e;if(this.buffers=[],this.attributes={},t)for(const a in t)this.addAttribute(a,t[a]);this.instanceCount=e.instanceCount??1,s&&this.addIndex(s),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const s=Rk(t);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=s}addIndex(e){this.indexBuffer=W_(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Ek(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Dk=new Float32Array(1),Pk=new Uint32Array(1);class Bk extends $_{constructor(){const t=new Wa({data:Dk,label:"attribute-batch-buffer",usage:qt.VERTEX|qt.COPY_DST,shrinkToFit:!1}),s=new Wa({data:Pk,label:"index-batch-buffer",usage:qt.INDEX|qt.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:i,offset:0},aUV:{buffer:t,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:t,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:s})}}function x1(n,e,t){if(n)for(const s in n){const i=s.toLocaleLowerCase(),a=e[i];if(a){let o=n[s];s==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),t&&a.push(`//----${t}----//`),a.push(o)}else ut(`${s} placement hook does not exist in shader`)}}const Ok=/\{\{(.*?)\}\}/g;function b1(n){var s;const e={};return(((s=n.match(Ok))==null?void 0:s.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function v1(n,e){let t;const s=/@in\s+([^;]+);/g;for(;(t=s.exec(n))!==null;)e.push(t[1])}function _1(n,e,t=!1){const s=[];v1(e,s),n.forEach(c=>{c.header&&v1(c.header,s)});const i=s;t&&i.sort();const a=i.map((c,h)=>`       @location(${h}) ${c},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${a}
`),o}function w1(n,e){let t;const s=/@out\s+([^;]+);/g;for(;(t=s.exec(n))!==null;)e.push(t[1])}function Nk(n){const t=/\b(\w+)\s*:/g.exec(n);return t?t[1]:""}function Lk(n){const e=/@.*?\s+/g;return n.replace(e,"")}function Ik(n,e){const t=[];w1(e,t),n.forEach(h=>{h.header&&w1(h.header,t)});let s=0;const i=t.sort().map(h=>h.indexOf("builtin")>-1?h:`@location(${s++}) ${h}`).join(`,
`),a=t.sort().map(h=>`       var ${Lk(h)};`).join(`
`),o=`return VSOutput(
            ${t.sort().map(h=>` ${Nk(h)}`).join(`,
`)});`;let c=e.replace(/@out\s+[^;]+;\s*/g,"");return c=c.replace("{{struct}}",`
${i}
`),c=c.replace("{{start}}",`
${a}
`),c=c.replace("{{return}}",`
${o}
`),c}function S1(n,e){let t=n;for(const s in e){const i=e[s];i.join(`
`).length?t=t.replace(`{{${s}}}`,`//-----${s} START-----//
${i.join(`
`)}
//----${s} FINISH----//`):t=t.replace(`{{${s}}}`,"")}return t}const Qn=Object.create(null),Am=new Map;let zk=0;function Fk({template:n,bits:e}){const t=K_(n,e);if(Qn[t])return Qn[t];const{vertex:s,fragment:i}=Yk(n,e);return Qn[t]=Q_(s,i,e),Qn[t]}function jk({template:n,bits:e}){const t=K_(n,e);return Qn[t]||(Qn[t]=Q_(n.vertex,n.fragment,e)),Qn[t]}function Yk(n,e){const t=e.map(o=>o.vertex).filter(o=>!!o),s=e.map(o=>o.fragment).filter(o=>!!o);let i=_1(t,n.vertex,!0);i=Ik(t,i);const a=_1(s,n.fragment,!0);return{vertex:i,fragment:a}}function K_(n,e){return e.map(t=>(Am.has(t)||Am.set(t,zk++),Am.get(t))).sort((t,s)=>t-s).join("-")+n.vertex+n.fragment}function Q_(n,e,t){const s=b1(n),i=b1(e);return t.forEach(a=>{x1(a.vertex,s,a.name),x1(a.fragment,i,a.name)}),{vertex:S1(n,s),fragment:S1(e,i)}}const Uk=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Vk=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Hk=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Xk=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Gk={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},qk={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Z_({bits:n,name:e}){const t=Fk({template:{fragment:Vk,vertex:Uk},bits:[Gk,...n]});return Rh.from({name:e,vertex:{source:t.vertex,entryPoint:"main"},fragment:{source:t.fragment,entryPoint:"main"}})}function J_({bits:n,name:e}){return new A_({name:e,...jk({template:{vertex:Hk,fragment:Xk},bits:[qk,...n]})})}const ew={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},tw={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Tm={};function Wk(n){const e=[];if(n===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let t=0;for(let s=0;s<n;s++)e.push(`@group(1) @binding(${t++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${t++}) var textureSampler${s+1}: sampler;`)}return e.join(`
`)}function $k(n){const e=[];if(n===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let t=0;t<n;t++)t===n-1?e.push("  default:{"):e.push(`  case ${t}:{`),e.push(`      outColor = textureSampleGrad(textureSource${t+1}, textureSampler${t+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function sw(n){return Tm[n]||(Tm[n]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Wk(n)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${$k(n)}
            `}}),Tm[n]}const Mm={};function Kk(n){const e=[];for(let t=0;t<n;t++)t>0&&e.push("else"),t<n-1&&e.push(`if(vTextureId < ${t}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${t}], vUV);`),e.push("}");return e.join(`
`)}function iw(n){return Mm[n]||(Mm[n]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${n}];

            `,main:`

                ${Kk(n)}
            `}}),Mm[n]}const nw={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},aw={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},C1={};function rw(n){let e=C1[n];if(e)return e;const t=new Int32Array(n);for(let s=0;s<n;s++)t[s]=s;return e=C1[n]=new E_({uTextures:{value:t,type:"i32",size:n}},{isStatic:!0}),e}class Qk extends Dh{constructor(e){const t=J_({name:"batch",bits:[tw,iw(e),aw]}),s=Z_({name:"batch",bits:[ew,sw(e),nw]});super({glProgram:t,gpuProgram:s,resources:{batchSamplers:rw(e)}})}}let km=null;const ow=class lw extends q_{constructor(e){super(e),this.geometry=new Bk,this.name=lw.extension.name,this.vertexSize=6,km??(km=new Qk(e.maxTextures)),this.shader=km}packAttributes(e,t,s,i,a){const o=a<<16|e.roundPixels&65535,c=e.transform,h=c.a,u=c.b,d=c.c,m=c.d,y=c.tx,p=c.ty,{positions:x,uvs:v}=e,_=e.color,A=e.attributeOffset,S=A+e.attributeSize;for(let w=A;w<S;w++){const T=w*2,R=x[T],E=x[T+1];t[i++]=h*R+d*E+y,t[i++]=m*E+u*R+p,t[i++]=v[T],t[i++]=v[T+1],s[i++]=_,s[i++]=o}}packQuadAttributes(e,t,s,i,a){const o=e.texture,c=e.transform,h=c.a,u=c.b,d=c.c,m=c.d,y=c.tx,p=c.ty,x=e.bounds,v=x.maxX,_=x.minX,A=x.maxY,S=x.minY,w=o.uvs,T=e.color,R=a<<16|e.roundPixels&65535;t[i+0]=h*_+d*S+y,t[i+1]=m*S+u*_+p,t[i+2]=w.x0,t[i+3]=w.y0,s[i+4]=T,s[i+5]=R,t[i+6]=h*v+d*S+y,t[i+7]=m*S+u*v+p,t[i+8]=w.x1,t[i+9]=w.y1,s[i+10]=T,s[i+11]=R,t[i+12]=h*v+d*A+y,t[i+13]=m*A+u*v+p,t[i+14]=w.x2,t[i+15]=w.y2,s[i+16]=T,s[i+17]=R,t[i+18]=h*_+d*A+y,t[i+19]=m*A+u*_+p,t[i+20]=w.x3,t[i+21]=w.y3,s[i+22]=T,s[i+23]=R}};ow.extension={type:[ge.Batcher],name:"default"};let Zk=ow;function Jk(n,e,t,s,i,a,o,c=null){let h=0;t*=e,i*=a;const u=c.a,d=c.b,m=c.c,y=c.d,p=c.tx,x=c.ty;for(;h<o;){const v=n[t],_=n[t+1];s[i]=u*v+m*_+p,s[i+1]=d*v+y*_+x,i+=a,t+=e,h++}}function eE(n,e,t,s){let i=0;for(e*=t;i<s;)n[e]=0,n[e+1]=0,e+=t,i++}function cw(n,e,t,s,i){const a=e.a,o=e.b,c=e.c,h=e.d,u=e.tx,d=e.ty;t||(t=0),s||(s=2),i||(i=n.length/s-t);let m=t*s;for(let y=0;y<i;y++){const p=n[m],x=n[m+1];n[m]=a*p+c*x+u,n[m+1]=o*p+h*x+d,m+=s}}const tE=new Le;class uw{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|e&65280|(e&255)<<16,s=this.renderable;return s?i_(t,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):t+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||tE}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const Wl={extension:{type:ge.ShapeBuilder,name:"circle"},build(n,e){let t,s,i,a,o,c;if(n.type==="circle"){const T=n;if(o=c=T.radius,o<=0)return!1;t=T.x,s=T.y,i=a=0}else if(n.type==="ellipse"){const T=n;if(o=T.halfWidth,c=T.halfHeight,o<=0||c<=0)return!1;t=T.x,s=T.y,i=a=0}else{const T=n,R=T.width/2,E=T.height/2;t=T.x+R,s=T.y+E,o=c=Math.max(0,Math.min(T.radius,Math.min(R,E))),i=R-o,a=E-c}if(i<0||a<0)return!1;const h=Math.ceil(2.3*Math.sqrt(o+c)),u=h*8+(i?4:0)+(a?4:0);if(u===0)return!1;if(h===0)return e[0]=e[6]=t+i,e[1]=e[3]=s+a,e[2]=e[4]=t-i,e[5]=e[7]=s-a,!0;let d=0,m=h*4+(i?2:0)+2,y=m,p=u,x=i+o,v=a,_=t+x,A=t-x,S=s+v;if(e[d++]=_,e[d++]=S,e[--m]=S,e[--m]=A,a){const T=s-v;e[y++]=A,e[y++]=T,e[--p]=T,e[--p]=_}for(let T=1;T<h;T++){const R=Math.PI/2*(T/h),E=i+Math.cos(R)*o,D=a+Math.sin(R)*c,B=t+E,O=t-E,L=s+D,z=s-D;e[d++]=B,e[d++]=L,e[--m]=L,e[--m]=O,e[y++]=O,e[y++]=z,e[--p]=z,e[--p]=B}x=i,v=a+c,_=t+x,A=t-x,S=s+v;const w=s-v;return e[d++]=_,e[d++]=S,e[--p]=w,e[--p]=_,i&&(e[d++]=A,e[d++]=S,e[--p]=w,e[--p]=A),!0},triangulate(n,e,t,s,i,a){if(n.length===0)return;let o=0,c=0;for(let d=0;d<n.length;d+=2)o+=n[d],c+=n[d+1];o/=n.length/2,c/=n.length/2;let h=s;e[h*t]=o,e[h*t+1]=c;const u=h++;for(let d=0;d<n.length;d+=2)e[h*t]=n[d],e[h*t+1]=n[d+1],d>0&&(i[a++]=h,i[a++]=u,i[a++]=h-1),h++;i[a++]=u+1,i[a++]=u,i[a++]=h-1}},sE={...Wl,extension:{...Wl.extension,name:"ellipse"}},iE={...Wl,extension:{...Wl.extension,name:"roundedRectangle"}},hw=1e-4,A1=1e-4;function nE(n){const e=n.length;if(e<6)return 1;let t=0;for(let s=0,i=n[e-2],a=n[e-1];s<e;s+=2){const o=n[s],c=n[s+1];t+=(o-i)*(c+a),i=o,a=c}return t<0?-1:1}function T1(n,e,t,s,i,a,o,c){const h=n-t*i,u=e-s*i,d=n+t*a,m=e+s*a;let y,p;o?(y=s,p=-t):(y=-s,p=t);const x=h+y,v=u+p,_=d+y,A=m+p;return c.push(x,v),c.push(_,A),2}function Ma(n,e,t,s,i,a,o,c){const h=t-n,u=s-e;let d=Math.atan2(h,u),m=Math.atan2(i-n,a-e);c&&d<m?d+=Math.PI*2:!c&&d>m&&(m+=Math.PI*2);let y=d;const p=m-d,x=Math.abs(p),v=Math.sqrt(h*h+u*u),_=(15*x*Math.sqrt(v)/Math.PI>>0)+1,A=p/_;if(y+=A,c){o.push(n,e),o.push(t,s);for(let S=1,w=y;S<_;S++,w+=A)o.push(n,e),o.push(n+Math.sin(w)*v,e+Math.cos(w)*v);o.push(n,e),o.push(i,a)}else{o.push(t,s),o.push(n,e);for(let S=1,w=y;S<_;S++,w+=A)o.push(n+Math.sin(w)*v,e+Math.cos(w)*v),o.push(n,e);o.push(i,a),o.push(n,e)}return _*2}function aE(n,e,t,s,i,a){const o=hw;if(n.length===0)return;const c=e;let h=c.alignment;if(e.alignment!==.5){let se=nE(n);h=(h-.5)*se+.5}const u=new us(n[0],n[1]),d=new us(n[n.length-2],n[n.length-1]),m=s,y=Math.abs(u.x-d.x)<o&&Math.abs(u.y-d.y)<o;if(m){n=n.slice(),y&&(n.pop(),n.pop(),d.set(n[n.length-2],n[n.length-1]));const se=(u.x+d.x)*.5,F=(d.y+u.y)*.5;n.unshift(se,F),n.push(se,F)}const p=i,x=n.length/2;let v=n.length;const _=p.length/2,A=c.width/2,S=A*A,w=c.miterLimit*c.miterLimit;let T=n[0],R=n[1],E=n[2],D=n[3],B=0,O=0,L=-(R-D),z=T-E,H=0,X=0,j=Math.sqrt(L*L+z*z);L/=j,z/=j,L*=A,z*=A;const W=h,I=(1-W)*2,U=W*2;m||(c.cap==="round"?v+=Ma(T-L*(I-U)*.5,R-z*(I-U)*.5,T-L*I,R-z*I,T+L*U,R+z*U,p,!0)+2:c.cap==="square"&&(v+=T1(T,R,L,z,I,U,!0,p))),p.push(T-L*I,R-z*I),p.push(T+L*U,R+z*U);for(let se=1;se<x-1;++se){T=n[(se-1)*2],R=n[(se-1)*2+1],E=n[se*2],D=n[se*2+1],B=n[(se+1)*2],O=n[(se+1)*2+1],L=-(R-D),z=T-E,j=Math.sqrt(L*L+z*z),L/=j,z/=j,L*=A,z*=A,H=-(D-O),X=E-B,j=Math.sqrt(H*H+X*X),H/=j,X/=j,H*=A,X*=A;const F=E-T,K=R-D,ae=E-B,ee=O-D,ce=F*ae+K*ee,ue=K*ae-ee*F,fe=ue<0;if(Math.abs(ue)<.001*Math.abs(ce)){p.push(E-L*I,D-z*I),p.push(E+L*U,D+z*U),ce>=0&&(c.join==="round"?v+=Ma(E,D,E-L*I,D-z*I,E-H*I,D-X*I,p,!1)+4:v+=2,p.push(E-H*U,D-X*U),p.push(E+H*I,D+X*I));continue}const Ye=(-L+T)*(-z+D)-(-L+E)*(-z+R),be=(-H+B)*(-X+D)-(-H+E)*(-X+O),Ue=(F*be-ae*Ye)/ue,tt=(ee*Ye-K*be)/ue,At=(Ue-E)*(Ue-E)+(tt-D)*(tt-D),ye=E+(Ue-E)*I,Be=D+(tt-D)*I,ke=E-(Ue-E)*U,ct=D-(tt-D)*U,fi=Math.min(F*F+K*K,ae*ae+ee*ee),Tt=fe?I:U,Ei=fi+Tt*Tt*S;At<=Ei?c.join==="bevel"||At/S>w?(fe?(p.push(ye,Be),p.push(E+L*U,D+z*U),p.push(ye,Be),p.push(E+H*U,D+X*U)):(p.push(E-L*I,D-z*I),p.push(ke,ct),p.push(E-H*I,D-X*I),p.push(ke,ct)),v+=2):c.join==="round"?fe?(p.push(ye,Be),p.push(E+L*U,D+z*U),v+=Ma(E,D,E+L*U,D+z*U,E+H*U,D+X*U,p,!0)+4,p.push(ye,Be),p.push(E+H*U,D+X*U)):(p.push(E-L*I,D-z*I),p.push(ke,ct),v+=Ma(E,D,E-L*I,D-z*I,E-H*I,D-X*I,p,!1)+4,p.push(E-H*I,D-X*I),p.push(ke,ct)):(p.push(ye,Be),p.push(ke,ct)):(p.push(E-L*I,D-z*I),p.push(E+L*U,D+z*U),c.join==="round"?fe?v+=Ma(E,D,E+L*U,D+z*U,E+H*U,D+X*U,p,!0)+2:v+=Ma(E,D,E-L*I,D-z*I,E-H*I,D-X*I,p,!1)+2:c.join==="miter"&&At/S<=w&&(fe?(p.push(ke,ct),p.push(ke,ct)):(p.push(ye,Be),p.push(ye,Be)),v+=2),p.push(E-H*I,D-X*I),p.push(E+H*U,D+X*U),v+=2)}T=n[(x-2)*2],R=n[(x-2)*2+1],E=n[(x-1)*2],D=n[(x-1)*2+1],L=-(R-D),z=T-E,j=Math.sqrt(L*L+z*z),L/=j,z/=j,L*=A,z*=A,p.push(E-L*I,D-z*I),p.push(E+L*U,D+z*U),m||(c.cap==="round"?v+=Ma(E-L*(I-U)*.5,D-z*(I-U)*.5,E-L*I,D-z*I,E+L*U,D+z*U,p,!1)+2:c.cap==="square"&&(v+=T1(E,D,L,z,I,U,!1,p)));const ne=A1*A1;for(let se=_;se<v+_-2;++se)T=p[se*2],R=p[se*2+1],E=p[(se+1)*2],D=p[(se+1)*2+1],B=p[(se+2)*2],O=p[(se+2)*2+1],!(Math.abs(T*(D-O)+E*(O-R)+B*(R-D))<ne)&&a.push(se,se+1,se+2)}function rE(n,e,t,s){const i=hw;if(n.length===0)return;const a=n[0],o=n[1],c=n[n.length-2],h=n[n.length-1],u=e||Math.abs(a-c)<i&&Math.abs(o-h)<i,d=t,m=n.length/2,y=d.length/2;for(let p=0;p<m;p++)d.push(n[p*2]),d.push(n[p*2+1]);for(let p=0;p<m-1;p++)s.push(y+p,y+p+1);u&&s.push(y+m-1,y)}function dw(n,e,t,s,i,a,o){const c=sk(n,e,2);if(!c)return;for(let u=0;u<c.length;u+=3)a[o++]=c[u]+i,a[o++]=c[u+1]+i,a[o++]=c[u+2]+i;let h=i*s;for(let u=0;u<n.length;u+=2)t[h]=n[u],t[h+1]=n[u+1],h+=s}const oE=[],lE={extension:{type:ge.ShapeBuilder,name:"polygon"},build(n,e){for(let t=0;t<n.points.length;t++)e[t]=n.points[t];return!0},triangulate(n,e,t,s,i,a){dw(n,oE,e,t,s,i,a)}},cE={extension:{type:ge.ShapeBuilder,name:"rectangle"},build(n,e){const t=n,s=t.x,i=t.y,a=t.width,o=t.height;return a>0&&o>0?(e[0]=s,e[1]=i,e[2]=s+a,e[3]=i,e[4]=s+a,e[5]=i+o,e[6]=s,e[7]=i+o,!0):!1},triangulate(n,e,t,s,i,a){let o=0;s*=t,e[s+o]=n[0],e[s+o+1]=n[1],o+=t,e[s+o]=n[2],e[s+o+1]=n[3],o+=t,e[s+o]=n[6],e[s+o+1]=n[7],o+=t,e[s+o]=n[4],e[s+o+1]=n[5],o+=t;const c=s/t;i[a++]=c,i[a++]=c+1,i[a++]=c+2,i[a++]=c+1,i[a++]=c+3,i[a++]=c+2}},uE={extension:{type:ge.ShapeBuilder,name:"triangle"},build(n,e){return e[0]=n.x,e[1]=n.y,e[2]=n.x2,e[3]=n.y2,e[4]=n.x3,e[5]=n.y3,!0},triangulate(n,e,t,s,i,a){let o=0;s*=t,e[s+o]=n[0],e[s+o+1]=n[1],o+=t,e[s+o]=n[2],e[s+o+1]=n[3],o+=t,e[s+o]=n[4],e[s+o+1]=n[5];const c=s/t;i[a++]=c,i[a++]=c+1,i[a++]=c+2}},hE=new Le,dE=new Rt;function fE(n,e,t,s){const i=e.matrix?n.copyFrom(e.matrix).invert():n.identity();if(e.textureSpace==="local"){const o=t.getBounds(dE);e.width&&o.pad(e.width);const{x:c,y:h}=o,u=1/o.width,d=1/o.height,m=-c*u,y=-h*d,p=i.a,x=i.b,v=i.c,_=i.d;i.a*=u,i.b*=u,i.c*=d,i.d*=d,i.tx=m*p+y*v+i.tx,i.ty=m*x+y*_+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const a=e.texture.source.style;return!(e.fill instanceof _n)&&a.addressMode==="clamp-to-edge"&&(a.addressMode="repeat",a.update()),s&&i.append(hE.copyFrom(s).invert()),i}const Bh={};Dt.handleByMap(ge.ShapeBuilder,Bh);Dt.add(cE,lE,uE,Wl,sE,iE);const mE=new Rt,gE=new Le;function pE(n,e){const{geometryData:t,batches:s}=e;s.length=0,t.indices.length=0,t.vertices.length=0,t.uvs.length=0;for(let i=0;i<n.instructions.length;i++){const a=n.instructions[i];if(a.action==="texture")yE(a.data,s,t);else if(a.action==="fill"||a.action==="stroke"){const o=a.action==="stroke",c=a.data.path.shapePath,h=a.data.style,u=a.data.hole;o&&u&&M1(u.shapePath,h,!0,s,t),u&&(c.shapePrimitives[c.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),M1(c,h,o,s,t)}}}function yE(n,e,t){const s=[],i=Bh.rectangle,a=mE;a.x=n.dx,a.y=n.dy,a.width=n.dw,a.height=n.dh;const o=n.transform;if(!i.build(a,s))return;const{vertices:c,uvs:h,indices:u}=t,d=u.length,m=c.length/2;o&&cw(s,o),i.triangulate(s,c,2,m,u,d);const y=n.image,p=y.uvs;h.push(p.x0,p.y0,p.x1,p.y1,p.x3,p.y3,p.x2,p.y2);const x=hi.get(uw);x.indexOffset=d,x.indexSize=u.length-d,x.attributeOffset=m,x.attributeSize=c.length/2-m,x.baseColor=n.style,x.alpha=n.alpha,x.texture=y,x.geometryData=t,e.push(x)}function M1(n,e,t,s,i){const{vertices:a,uvs:o,indices:c}=i;n.shapePrimitives.forEach(({shape:h,transform:u,holes:d})=>{const m=[],y=Bh[h.type];if(!y.build(h,m))return;const p=c.length,x=a.length/2;let v="triangle-list";if(u&&cw(m,u),t){const w=h.closePath??!0,T=e;T.pixelLine?(rE(m,w,a,c),v="line-list"):aE(m,T,!1,w,a,c)}else if(d){const w=[],T=m.slice();xE(d).forEach(E=>{w.push(T.length/2),T.push(...E)}),dw(T,w,a,2,x,c,p)}else y.triangulate(m,a,2,x,c,p);const _=o.length/2,A=e.texture;if(A!==Ne.WHITE){const w=fE(gE,e,h,u);Jk(a,2,x,o,_,2,a.length/2-x,w)}else eE(o,_,2,a.length/2-x);const S=hi.get(uw);S.indexOffset=p,S.indexSize=c.length-p,S.attributeOffset=x,S.attributeSize=a.length/2-x,S.baseColor=e.color,S.alpha=e.alpha,S.texture=A,S.geometryData=i,S.topology=v,s.push(S)})}function xE(n){const e=[];for(let t=0;t<n.length;t++){const s=n[t].shape,i=[];Bh[s.type].build(s,i)&&e.push(i)}return e}class bE{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class vE{constructor(){this.instructions=new o_}init(e){this.batcher=new Zk({maxTextures:e}),this.instructions.reset()}get geometry(){return Re(MM,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const ap=class dg{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){dg.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??dg.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),pE(e,t);const s=e.batchMode;e.customShader||s==="no-batch"?t.isBatchable=!1:s==="auto"?t.isBatchable=t.geometryData.vertices.length<400:t.isBatchable=!0,e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=hi.get(vE,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:i}=this._gpuContextHash[e.uid],a=i.vertices.length,o=i.indices.length;for(let d=0;d<s.length;d++)s[d].applyTransform=!1;const c=t.batcher;c.ensureAttributeBuffer(a),c.ensureIndexBuffer(o),c.begin();for(let d=0;d<s.length;d++){const m=s[d];c.add(m)}c.finish(t.instructions);const h=c.geometry;h.indexBuffer.setDataWithSize(c.indexBuffer,c.indexSize,!0),h.buffers[0].setDataWithSize(c.attributeBuffer.float32View,c.attributeSize,!0);const u=c.batches;for(let d=0;d<u.length;d++){const m=u[d];m.bindGroup=bk(m.textures.textures,m.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new bE;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(hi.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(s=>{hi.return(s)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};ap.extension={type:[ge.WebGLSystem,ge.WebGPUSystem,ge.CanvasSystem],name:"graphicsContext"};ap.defaultOptions={bezierSmoothness:.5};let fw=ap;const _E=8,Yu=11920929e-14,wE=1;function mw(n,e,t,s,i,a,o,c,h,u){const m=Math.min(.99,Math.max(0,u??fw.defaultOptions.bezierSmoothness));let y=(wE-m)/1;return y*=y,SE(e,t,s,i,a,o,c,h,n,y),n}function SE(n,e,t,s,i,a,o,c,h,u){fg(n,e,t,s,i,a,o,c,h,u,0),h.push(o,c)}function fg(n,e,t,s,i,a,o,c,h,u,d){if(d>_E)return;const m=(n+t)/2,y=(e+s)/2,p=(t+i)/2,x=(s+a)/2,v=(i+o)/2,_=(a+c)/2,A=(m+p)/2,S=(y+x)/2,w=(p+v)/2,T=(x+_)/2,R=(A+w)/2,E=(S+T)/2;if(d>0){let D=o-n,B=c-e;const O=Math.abs((t-o)*B-(s-c)*D),L=Math.abs((i-o)*B-(a-c)*D);if(O>Yu&&L>Yu){if((O+L)*(O+L)<=u*(D*D+B*B)){h.push(R,E);return}}else if(O>Yu){if(O*O<=u*(D*D+B*B)){h.push(R,E);return}}else if(L>Yu){if(L*L<=u*(D*D+B*B)){h.push(R,E);return}}else if(D=R-(n+o)/2,B=E-(e+c)/2,D*D+B*B<=u){h.push(R,E);return}}fg(n,e,m,y,A,S,R,E,h,u,d+1),fg(R,E,w,T,v,_,o,c,h,u,d+1)}const CE=8,AE=11920929e-14,TE=1;function ME(n,e,t,s,i,a,o,c){const u=Math.min(.99,Math.max(0,c??fw.defaultOptions.bezierSmoothness));let d=(TE-u)/1;return d*=d,kE(e,t,s,i,a,o,n,d),n}function kE(n,e,t,s,i,a,o,c){mg(o,n,e,t,s,i,a,c,0),o.push(i,a)}function mg(n,e,t,s,i,a,o,c,h){if(h>CE)return;const u=(e+s)/2,d=(t+i)/2,m=(s+a)/2,y=(i+o)/2,p=(u+m)/2,x=(d+y)/2;let v=a-e,_=o-t;const A=Math.abs((s-a)*_-(i-o)*v);if(A>AE){if(A*A<=c*(v*v+_*_)){n.push(p,x);return}}else if(v=p-(e+a)/2,_=x-(t+o)/2,v*v+_*_<=c){n.push(p,x);return}mg(n,e,t,u,d,p,x,c,h+1),mg(n,p,x,m,y,a,o,c,h+1)}function gw(n,e,t,s,i,a,o,c){let h=Math.abs(i-a);(!o&&i>a||o&&a>i)&&(h=2*Math.PI-h),c||(c=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(h/Math.PI)))),c=Math.max(c,3);let u=h/c,d=i;u*=o?-1:1;for(let m=0;m<c+1;m++){const y=Math.cos(d),p=Math.sin(d),x=e+y*s,v=t+p*s;n.push(x,v),d+=u}}function EE(n,e,t,s,i,a){const o=n[n.length-2],h=n[n.length-1]-t,u=o-e,d=i-t,m=s-e,y=Math.abs(h*m-u*d);if(y<1e-8||a===0){(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t);return}const p=h*h+u*u,x=d*d+m*m,v=h*d+u*m,_=a*Math.sqrt(p)/y,A=a*Math.sqrt(x)/y,S=_*v/p,w=A*v/x,T=_*m+A*u,R=_*d+A*h,E=u*(A+S),D=h*(A+S),B=m*(_+w),O=d*(_+w),L=Math.atan2(D-R,E-T),z=Math.atan2(O-R,B-T);gw(n,T+e,R+t,a,L,z,u*d>m*h)}const jl=Math.PI*2,Em={centerX:0,centerY:0,ang1:0,ang2:0},Rm=({x:n,y:e},t,s,i,a,o,c,h)=>{n*=t,e*=s;const u=i*n-a*e,d=a*n+i*e;return h.x=u+o,h.y=d+c,h};function RE(n,e){const t=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),s=e===1.5707963267948966?.551915024494:t,i=Math.cos(n),a=Math.sin(n),o=Math.cos(n+e),c=Math.sin(n+e);return[{x:i-a*s,y:a+i*s},{x:o+c*s,y:c-o*s},{x:o,y:c}]}const k1=(n,e,t,s)=>{const i=n*s-e*t<0?-1:1;let a=n*t+e*s;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},DE=(n,e,t,s,i,a,o,c,h,u,d,m,y)=>{const p=Math.pow(i,2),x=Math.pow(a,2),v=Math.pow(d,2),_=Math.pow(m,2);let A=p*x-p*_-x*v;A<0&&(A=0),A/=p*_+x*v,A=Math.sqrt(A)*(o===c?-1:1);const S=A*i/a*m,w=A*-a/i*d,T=u*S-h*w+(n+t)/2,R=h*S+u*w+(e+s)/2,E=(d-S)/i,D=(m-w)/a,B=(-d-S)/i,O=(-m-w)/a,L=k1(1,0,E,D);let z=k1(E,D,B,O);c===0&&z>0&&(z-=jl),c===1&&z<0&&(z+=jl),y.centerX=T,y.centerY=R,y.ang1=L,y.ang2=z};function PE(n,e,t,s,i,a,o,c=0,h=0,u=0){if(a===0||o===0)return;const d=Math.sin(c*jl/360),m=Math.cos(c*jl/360),y=m*(e-s)/2+d*(t-i)/2,p=-d*(e-s)/2+m*(t-i)/2;if(y===0&&p===0)return;a=Math.abs(a),o=Math.abs(o);const x=Math.pow(y,2)/Math.pow(a,2)+Math.pow(p,2)/Math.pow(o,2);x>1&&(a*=Math.sqrt(x),o*=Math.sqrt(x)),DE(e,t,s,i,a,o,h,u,d,m,y,p,Em);let{ang1:v,ang2:_}=Em;const{centerX:A,centerY:S}=Em;let w=Math.abs(_)/(jl/4);Math.abs(1-w)<1e-7&&(w=1);const T=Math.max(Math.ceil(w),1);_/=T;let R=n[n.length-2],E=n[n.length-1];const D={x:0,y:0};for(let B=0;B<T;B++){const O=RE(v,_),{x:L,y:z}=Rm(O[0],a,o,m,d,A,S,D),{x:H,y:X}=Rm(O[1],a,o,m,d,A,S,D),{x:j,y:W}=Rm(O[2],a,o,m,d,A,S,D);mw(n,R,E,L,z,H,X,j,W),R=j,E=W,v+=_}}function BE(n,e,t){const s=(o,c)=>{const h=c.x-o.x,u=c.y-o.y,d=Math.sqrt(h*h+u*u),m=h/d,y=u/d;return{len:d,nx:m,ny:y}},i=(o,c)=>{o===0?n.moveTo(c.x,c.y):n.lineTo(c.x,c.y)};let a=e[e.length-1];for(let o=0;o<e.length;o++){const c=e[o%e.length],h=c.radius??t;if(h<=0){i(o,c),a=c;continue}const u=e[(o+1)%e.length],d=s(c,a),m=s(c,u);if(d.len<1e-4||m.len<1e-4){i(o,c),a=c;continue}let y=Math.asin(d.nx*m.ny-d.ny*m.nx),p=1,x=!1;d.nx*m.nx-d.ny*-m.ny<0?y<0?y=Math.PI+y:(y=Math.PI-y,p=-1,x=!0):y>0&&(p=-1,x=!0);const v=y/2;let _,A=Math.abs(Math.cos(v)*h/Math.sin(v));A>Math.min(d.len/2,m.len/2)?(A=Math.min(d.len/2,m.len/2),_=Math.abs(A*Math.sin(v)/Math.cos(v))):_=h;const S=c.x+m.nx*A+-m.ny*_*p,w=c.y+m.ny*A+m.nx*_*p,T=Math.atan2(d.ny,d.nx)+Math.PI/2*p,R=Math.atan2(m.ny,m.nx)-Math.PI/2*p;o===0&&n.moveTo(S+Math.cos(T)*_,w+Math.sin(T)*_),n.arc(S,w,_,T,R,x),a=c}}function OE(n,e,t,s){const i=(c,h)=>Math.sqrt((c.x-h.x)**2+(c.y-h.y)**2),a=(c,h,u)=>({x:c.x+(h.x-c.x)*u,y:c.y+(h.y-c.y)*u}),o=e.length;for(let c=0;c<o;c++){const h=e[(c+1)%o],u=h.radius??t;if(u<=0){c===0?n.moveTo(h.x,h.y):n.lineTo(h.x,h.y);continue}const d=e[c],m=e[(c+2)%o],y=i(d,h);let p;if(y<1e-4)p=h;else{const _=Math.min(y/2,u);p=a(h,d,_/y)}const x=i(m,h);let v;if(x<1e-4)v=h;else{const _=Math.min(x/2,u);v=a(h,m,_/x)}c===0?n.moveTo(p.x,p.y):n.lineTo(p.x,p.y),n.quadraticCurveTo(h.x,h.y,v.x,v.y,s)}}const NE=new Rt;class LE{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Si,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const s=this._currentPoly.points,i=s[s.length-2],a=s[s.length-1];return(i!==e||a!==t)&&s.push(e,t),this}arc(e,t,s,i,a,o){this._ensurePoly(!1);const c=this._currentPoly.points;return gw(c,e,t,s,i,a,o),this}arcTo(e,t,s,i,a){this._ensurePoly();const o=this._currentPoly.points;return EE(o,e,t,s,i,a),this}arcToSvg(e,t,s,i,a,o,c){const h=this._currentPoly.points;return PE(h,this._currentPoly.lastX,this._currentPoly.lastY,o,c,e,t,s,i,a),this}bezierCurveTo(e,t,s,i,a,o,c){this._ensurePoly();const h=this._currentPoly;return mw(this._currentPoly.points,h.lastX,h.lastY,e,t,s,i,a,o,c),this}quadraticCurveTo(e,t,s,i,a){this._ensurePoly();const o=this._currentPoly;return ME(this._currentPoly.points,o.lastX,o.lastY,e,t,s,i,a),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0),e.transform(t));const s=this.shapePrimitives,i=s.length;for(let a=0;a<e.instructions.length;a++){const o=e.instructions[a];this[o.action](...o.data)}if(e.checkForHoles&&s.length-i>1){let a=null;for(let o=i;o<s.length;o++){const c=s[o];if(c.shape.type==="polygon"){const h=c.shape,u=a==null?void 0:a.shape;u&&u.containsPolygon(h)?(a.holes||(a.holes=[]),a.holes.push(c),s.copyWithin(o,o+1),s.length--,o--):a=c}}}return this}finish(e=!1){this.endPoly(e)}rect(e,t,s,i,a){return this.drawShape(new Rt(e,t,s,i),a),this}circle(e,t,s,i){return this.drawShape(new sp(e,t,s),i),this}poly(e,t,s){const i=new zl(e);return i.closePath=t,this.drawShape(i,s),this}regularPoly(e,t,s,i,a=0,o){i=Math.max(i|0,3);const c=-1*Math.PI/2+a,h=Math.PI*2/i,u=[];for(let d=0;d<i;d++){const m=c-d*h;u.push(e+s*Math.cos(m),t+s*Math.sin(m))}return this.poly(u,!0,o),this}roundPoly(e,t,s,i,a,o=0,c){if(i=Math.max(i|0,3),a<=0)return this.regularPoly(e,t,s,i,o);const h=s*Math.sin(Math.PI/i)-.001;a=Math.min(a,h);const u=-1*Math.PI/2+o,d=Math.PI*2/i,m=(i-2)*Math.PI/i/2;for(let y=0;y<i;y++){const p=y*d+u,x=e+s*Math.cos(p),v=t+s*Math.sin(p),_=p+Math.PI+m,A=p-Math.PI-m,S=x+a*Math.cos(_),w=v+a*Math.sin(_),T=x+a*Math.cos(A),R=v+a*Math.sin(A);y===0?this.moveTo(S,w):this.lineTo(S,w),this.quadraticCurveTo(x,v,T,R,c)}return this.closePath()}roundShape(e,t,s=!1,i){return e.length<3?this:(s?OE(this,e,t,i):BE(this,e,t),this.closePath())}filletRect(e,t,s,i,a){if(a===0)return this.rect(e,t,s,i);const o=Math.min(s,i)/2,c=Math.min(o,Math.max(-o,a)),h=e+s,u=t+i,d=c<0?-c:0,m=Math.abs(c);return this.moveTo(e,t+m).arcTo(e+d,t+d,e+m,t,m).lineTo(h-m,t).arcTo(h-d,t+d,h,t+m,m).lineTo(h,u-m).arcTo(h-d,u-d,e+s-m,u,m).lineTo(e+m,u).arcTo(e+d,u-d,e,u-m,m).closePath()}chamferRect(e,t,s,i,a,o){if(a<=0)return this.rect(e,t,s,i);const c=Math.min(a,Math.min(s,i)/2),h=e+s,u=t+i,d=[e+c,t,h-c,t,h,t+c,h,u-c,h-c,u,e+c,u,e,u-c,e,t+c];for(let m=d.length-1;m>=2;m-=2)d[m]===d[m-2]&&d[m-1]===d[m-3]&&d.splice(m-1,2);return this.poly(d,!0,o)}ellipse(e,t,s,i,a){return this.drawShape(new ip(e,t,s,i),a),this}roundRect(e,t,s,i,a,o){return this.drawShape(new np(e,t,s,i,a),o),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let s=this._currentPoly;return s&&this.endPoly(),s=new zl,s.points.push(e,t),this._currentPoly=s,this}endPoly(e=!1){const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new zl,e)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let s=t.shape.x,i=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const a=t.transform,o=s;s=a.a*s+a.c*i+a.tx,i=a.b*o+a.d*i+a.ty}this._currentPoly.points.push(s,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const s=e.instructions[t];this[s.action](...s.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let s=0;s<t.length;s++){const i=t[s],a=i.shape.getBounds(NE);i.transform?e.addRect(a,i.transform):e.addRect(a)}return e}}class bn{constructor(e,t=!1){this.instructions=[],this.uid=wt("graphicsPath"),this._dirty=!0,this.checkForHoles=t,typeof e=="string"?gk(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new LE(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,t,s,i,a){const o=this.instructions[this.instructions.length-1],c=this.getLastPoint(us.shared);let h=0,u=0;if(!o||o.action!=="bezierCurveTo")h=c.x,u=c.y;else{h=o.data[2],u=o.data[3];const d=c.x,m=c.y;h=d+(d-h),u=m+(m-u)}return this.instructions.push({action:"bezierCurveTo",data:[h,u,e,t,s,i,a]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,t,s){const i=this.instructions[this.instructions.length-1],a=this.getLastPoint(us.shared);let o=0,c=0;if(!i||i.action!=="quadraticCurveTo")o=a.x,c=a.y;else{o=i.data[0],c=i.data[1];const h=a.x,u=a.y;o=h+(h-o),c=u+(u-c)}return this.instructions.push({action:"quadraticCurveTo",data:[o,c,e,t,s]}),this._dirty=!0,this}rect(e,t,s,i,a){return this.instructions.push({action:"rect",data:[e,t,s,i,a]}),this._dirty=!0,this}circle(e,t,s,i){return this.instructions.push({action:"circle",data:[e,t,s,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,t,s,i,a,o,c){a||(a=i/2);const h=-1*Math.PI/2+o,u=s*2,d=Math.PI*2/u,m=[];for(let y=0;y<u;y++){const p=y%2?a:i,x=y*d+h;m.push(e+p*Math.cos(x),t+p*Math.sin(x))}return this.poly(m,!0,c),this}clone(e=!1){const t=new bn;if(t.checkForHoles=this.checkForHoles,!e)t.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const i=this.instructions[s];t.instructions.push({action:i.action,data:i.data.slice()})}return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,s=e.b,i=e.c,a=e.d,o=e.tx,c=e.ty;let h=0,u=0,d=0,m=0,y=0,p=0,x=0,v=0;for(let _=0;_<this.instructions.length;_++){const A=this.instructions[_],S=A.data;switch(A.action){case"moveTo":case"lineTo":h=S[0],u=S[1],S[0]=t*h+i*u+o,S[1]=s*h+a*u+c;break;case"bezierCurveTo":d=S[0],m=S[1],y=S[2],p=S[3],h=S[4],u=S[5],S[0]=t*d+i*m+o,S[1]=s*d+a*m+c,S[2]=t*y+i*p+o,S[3]=s*y+a*p+c,S[4]=t*h+i*u+o,S[5]=s*h+a*u+c;break;case"quadraticCurveTo":d=S[0],m=S[1],h=S[2],u=S[3],S[0]=t*d+i*m+o,S[1]=s*d+a*m+c,S[2]=t*h+i*u+o,S[3]=s*h+a*u+c;break;case"arcToSvg":h=S[5],u=S[6],x=S[0],v=S[1],S[0]=t*x+i*v,S[1]=s*x+a*v,S[5]=t*h+i*u+o,S[6]=s*h+a*u+c;break;case"circle":S[4]=Tl(S[3],e);break;case"rect":S[4]=Tl(S[4],e);break;case"ellipse":S[8]=Tl(S[8],e);break;case"roundRect":S[5]=Tl(S[5],e);break;case"addPath":S[0].transform(e);break;case"poly":S[2]=Tl(S[2],e);break;default:ut("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,s=this.instructions[t];if(!s)return e.x=0,e.y=0,e;for(;s.action==="closePath";){if(t--,t<0)return e.x=0,e.y=0,e;s=this.instructions[t]}switch(s.action){case"moveTo":case"lineTo":e.x=s.data[0],e.y=s.data[1];break;case"quadraticCurveTo":e.x=s.data[2],e.y=s.data[3];break;case"bezierCurveTo":e.x=s.data[4],e.y=s.data[5];break;case"arc":case"arcToSvg":e.x=s.data[5],e.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(e);break}return e}}function Tl(n,e){return n?n.prepend(e):e.clone()}function _t(n,e,t){const s=n.getAttribute(e);return s?Number(s):t}function IE(n,e){const t=n.querySelectorAll("defs");for(let s=0;s<t.length;s++){const i=t[s];for(let a=0;a<i.children.length;a++){const o=i.children[a];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=zE(o);break;case"radialgradient":e.defs[o.id]=FE();break}}}}function zE(n){const e=_t(n,"x1",0),t=_t(n,"y1",0),s=_t(n,"x2",1),i=_t(n,"y2",0),a=n.getAttribute("gradientUnits")||"objectBoundingBox",o=new _n(e,t,s,i,a==="objectBoundingBox"?"local":"global");for(let c=0;c<n.children.length;c++){const h=n.children[c],u=_t(h,"offset",0),d=Lt.shared.setValue(h.getAttribute("stop-color")).toNumber();o.addColorStop(u,d)}return o}function FE(n){return ut("[SVG Parser] Radial gradients are not yet supported"),new _n(0,0,1,0)}function E1(n){const e=n.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const R1={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function pw(n,e){const t=n.getAttribute("style"),s={},i={},a={strokeStyle:s,fillStyle:i,useFill:!1,useStroke:!1};for(const o in R1){const c=n.getAttribute(o);c&&D1(e,a,o,c.trim())}if(t){const o=t.split(";");for(let c=0;c<o.length;c++){const h=o[c].trim(),[u,d]=h.split(":");R1[u]&&D1(e,a,u,d.trim())}}return{strokeStyle:a.useStroke?s:null,fillStyle:a.useFill?i:null,useFill:a.useFill,useStroke:a.useStroke}}function D1(n,e,t,s){switch(t){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const i=E1(s);e.strokeStyle.fill=n.defs[i]}else e.strokeStyle.color=Lt.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const i=E1(s);e.fillStyle.fill=n.defs[i]}else e.fillStyle.color=Lt.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s);break}}function jE(n){if(n.length<=2)return!0;const e=n.map(c=>c.area).sort((c,h)=>h-c),[t,s]=e,i=e[e.length-1],a=t/s,o=s/i;return!(a>3&&o<2)}function YE(n){return n.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function UE(n){const e=n.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const t=e.map(Number),s=[],i=[];for(let d=0;d<t.length;d+=2)d+1<t.length&&(s.push(t[d]),i.push(t[d+1]));if(s.length===0||i.length===0)return 0;const a=Math.min(...s),o=Math.max(...s),c=Math.min(...i),h=Math.max(...i);return(o-a)*(h-c)}function P1(n,e){const t=new bn(n,!1);for(const s of t.instructions)e.instructions.push(s)}function VE(n,e){if(typeof n=="string"){const o=document.createElement("div");o.innerHTML=n.trim(),n=o.querySelector("svg")}const t={context:e,defs:{},path:new bn};IE(n,t);const s=n.children,{fillStyle:i,strokeStyle:a}=pw(n,t);for(let o=0;o<s.length;o++){const c=s[o];c.nodeName.toLowerCase()!=="defs"&&yw(c,t,i,a)}return e}function yw(n,e,t,s){const i=n.children,{fillStyle:a,strokeStyle:o}=pw(n,e);a&&t?t={...t,...a}:a&&(t=a),o&&s?s={...s,...o}:o&&(s=o);const c=!t&&!s;c&&(t={color:0});let h,u,d,m,y,p,x,v,_,A,S,w,T,R,E,D,B;switch(n.nodeName.toLowerCase()){case"path":{R=n.getAttribute("d");const O=n.getAttribute("fill-rule"),L=YE(R),z=O==="evenodd",H=L.length>1;if(z&&H){const j=L.map(I=>({path:I,area:UE(I)}));if(j.sort((I,U)=>U.area-I.area),L.length>3||!jE(j))for(let I=0;I<j.length;I++){const U=j[I],ne=I===0;e.context.beginPath();const se=new bn(void 0,!0);P1(U.path,se),e.context.path(se),ne?(t&&e.context.fill(t),s&&e.context.stroke(s)):e.context.cut()}else for(let I=0;I<j.length;I++){const U=j[I],ne=I%2===1;e.context.beginPath();const se=new bn(void 0,!0);P1(U.path,se),e.context.path(se),ne?e.context.cut():(t&&e.context.fill(t),s&&e.context.stroke(s))}}else{const j=O?O==="evenodd":!0;E=new bn(R,j),e.context.path(E),t&&e.context.fill(t),s&&e.context.stroke(s)}break}case"circle":x=_t(n,"cx",0),v=_t(n,"cy",0),_=_t(n,"r",0),e.context.ellipse(x,v,_,_),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"rect":h=_t(n,"x",0),u=_t(n,"y",0),D=_t(n,"width",0),B=_t(n,"height",0),A=_t(n,"rx",0),S=_t(n,"ry",0),A||S?e.context.roundRect(h,u,D,B,A||S):e.context.rect(h,u,D,B),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"ellipse":x=_t(n,"cx",0),v=_t(n,"cy",0),A=_t(n,"rx",0),S=_t(n,"ry",0),e.context.beginPath(),e.context.ellipse(x,v,A,S),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"line":d=_t(n,"x1",0),m=_t(n,"y1",0),y=_t(n,"x2",0),p=_t(n,"y2",0),e.context.beginPath(),e.context.moveTo(d,m),e.context.lineTo(y,p),s&&e.context.stroke(s);break;case"polygon":T=n.getAttribute("points"),w=T.match(/\d+/g).map(O=>parseInt(O,10)),e.context.poly(w,!0),t&&e.context.fill(t),s&&e.context.stroke(s);break;case"polyline":T=n.getAttribute("points"),w=T.match(/\d+/g).map(O=>parseInt(O,10)),e.context.poly(w,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:{ut(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}c&&(t=null);for(let O=0;O<i.length;O++)yw(i[O],e,t,s)}function HE(n){return Lt.isColorLike(n)}function B1(n){return n instanceof Ph}function O1(n){return n instanceof _n}function XE(n){return n instanceof Ne}function GE(n,e,t){const s=Lt.shared.setValue(e??0);return n.color=s.toNumber(),n.alpha=s.alpha===1?t.alpha:s.alpha,n.texture=Ne.WHITE,{...t,...n}}function qE(n,e,t){return n.texture=e,{...t,...n}}function N1(n,e,t){return n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,{...t,...n}}function L1(n,e,t){return e.buildGradient(),n.fill=e,n.color=16777215,n.texture=e.texture,n.matrix=e.transform,n.textureSpace=e.textureSpace,{...t,...n}}function WE(n,e){const t={...e,...n},s=Lt.shared.setValue(t.color);return t.alpha*=s.alpha,t.color=s.toNumber(),t}function Na(n,e){if(n==null)return null;const t={},s=n;return HE(n)?GE(t,n,e):XE(n)?qE(t,n,e):B1(n)?N1(t,n,e):O1(n)?L1(t,n,e):s.fill&&B1(s.fill)?N1(s,s.fill,e):s.fill&&O1(s.fill)?L1(s,s.fill,e):WE(s,e)}function ah(n,e){const{width:t,alignment:s,miterLimit:i,cap:a,join:o,pixelLine:c,...h}=e,u=Na(n,h);return u?{width:t,alignment:s,miterLimit:i,cap:a,join:o,pixelLine:c,...u}:null}const $E=new us,I1=new Le,rp=class Ii extends Ti{constructor(){super(...arguments),this.uid=wt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new bn,this._transform=new Le,this._fillStyle={...Ii.defaultFillStyle},this._strokeStyle={...Ii.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Si,this._boundsDirty=!0}clone(){const e=new Ii;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Na(e,Ii.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=ah(e,Ii.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Na(e,Ii.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Na(e,Ii.defaultStrokeStyle),this}texture(e,t,s,i,a,o){return this.instructions.push({action:"texture",data:{image:e,dx:s||0,dy:i||0,dw:a||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?Lt.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new bn,this}fill(e,t){let s;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?s=i.data.path:s=this._activePath.clone(),s?(e!=null&&(t!==void 0&&typeof e=="number"&&(Re(Je,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:t}),this._fillStyle=Na(e,Ii.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(us.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(e){let t;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s&&s.action==="fill"?t=s.data.path:t=this._activePath.clone(),t?(e!=null&&(this._strokeStyle=ah(e,Ii.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:t}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],s=this._activePath.clone();if(t&&(t.action==="stroke"||t.action==="fill"))if(t.data.hole)t.data.hole.addPath(s);else{t.data.hole=s;break}}return this._initNextPathLocation(),this}arc(e,t,s,i,a,o){this._tick++;const c=this._transform;return this._activePath.arc(c.a*e+c.c*t+c.tx,c.b*e+c.d*t+c.ty,s,i,a,o),this}arcTo(e,t,s,i,a){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*t+o.tx,o.b*e+o.d*t+o.ty,o.a*s+o.c*i+o.tx,o.b*s+o.d*i+o.ty,a),this}arcToSvg(e,t,s,i,a,o,c){this._tick++;const h=this._transform;return this._activePath.arcToSvg(e,t,s,i,a,h.a*o+h.c*c+h.tx,h.b*o+h.d*c+h.ty),this}bezierCurveTo(e,t,s,i,a,o,c){this._tick++;const h=this._transform;return this._activePath.bezierCurveTo(h.a*e+h.c*t+h.tx,h.b*e+h.d*t+h.ty,h.a*s+h.c*i+h.tx,h.b*s+h.d*i+h.ty,h.a*a+h.c*o+h.tx,h.b*a+h.d*o+h.ty,c),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,t,s,i){return this._tick++,this._activePath.ellipse(e,t,s,i,this._transform.clone()),this}circle(e,t,s){return this._tick++,this._activePath.circle(e,t,s,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty),this}moveTo(e,t){this._tick++;const s=this._transform,i=this._activePath.instructions,a=s.a*e+s.c*t+s.tx,o=s.b*e+s.d*t+s.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=a,i[0].data[1]=o,this):(this._activePath.moveTo(a,o),this)}quadraticCurveTo(e,t,s,i,a){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*t+o.tx,o.b*e+o.d*t+o.ty,o.a*s+o.c*i+o.tx,o.b*s+o.d*i+o.ty,a),this}rect(e,t,s,i){return this._tick++,this._activePath.rect(e,t,s,i,this._transform.clone()),this}roundRect(e,t,s,i,a){return this._tick++,this._activePath.roundRect(e,t,s,i,a,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,s,i,a=0,o){return this._tick++,this._activePath.regularPoly(e,t,s,i,a,o),this}roundPoly(e,t,s,i,a,o){return this._tick++,this._activePath.roundPoly(e,t,s,i,a,o),this}roundShape(e,t,s,i){return this._tick++,this._activePath.roundShape(e,t,s,i),this}filletRect(e,t,s,i,a){return this._tick++,this._activePath.filletRect(e,t,s,i,a),this}chamferRect(e,t,s,i,a,o){return this._tick++,this._activePath.chamferRect(e,t,s,i,a,o),this}star(e,t,s,i,a=0,o=0){return this._tick++,this._activePath.star(e,t,s,i,a,o,this._transform.clone()),this}svg(e){return this._tick++,VE(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,t=e){return this._transform.scale(e,t),this}setTransform(e,t,s,i,a,o){return e instanceof Le?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,s,i,a,o),this)}transform(e,t,s,i,a,o){return e instanceof Le?(this._transform.append(e),this):(I1.set(e,t,s,i,a,o),this._transform.append(I1),this)}translate(e,t=e){return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const s=this.instructions[t],i=s.action;if(i==="fill"){const a=s.data;e.addBounds(a.path.bounds)}else if(i==="texture"){const a=s.data;e.addFrame(a.dx,a.dy,a.dx+a.dw,a.dy+a.dh,a.transform)}if(i==="stroke"){const a=s.data,o=a.style.alignment,c=a.style.width*(1-o),h=a.path.bounds;e.addFrame(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let s=!1;for(let a=0;a<t.length;a++){const o=t[a],c=o.data,h=c.path;if(!o.action||!h)continue;const u=c.style,d=h.shapePath.shapePrimitives;for(let m=0;m<d.length;m++){const y=d[m].shape;if(!u||!y)continue;const p=d[m].transform,x=p?p.applyInverse(e,$E):e;if(o.action==="fill")s=y.contains(x.x,x.y);else{const _=u;s=y.strokeContains(x.x,x.y,_.width,_.alignment)}const v=c.hole;if(v){const _=(i=v.shapePath)==null?void 0:i.shapePrimitives;if(_)for(let A=0;A<_.length;A++)_[A].shape.contains(x.x,x.y)&&(s=!1)}if(s)return!0}}return s}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};rp.defaultFillStyle={color:16777215,alpha:1,texture:Ne.WHITE,matrix:null,fill:null,textureSpace:"local"};rp.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ne.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let oi=rp;const op=class qr extends Ti{constructor(e={}){super(),this.uid=wt("textStyle"),this._tick=0,KE(e);const t={...qr.defaultTextStyle,...e};for(const s in t){const i=s;this[i]=t[s]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...qr.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...qr.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=Object.freeze(e),this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...oi.defaultFillStyle,...e},()=>{this._fill=Na({...this._originalFill},oi.defaultFillStyle)})),this._fill=Na(e===0?"black":e,oi.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...oi.defaultStrokeStyle,...e},()=>{this._stroke=ah({...this._originalStroke},oi.defaultStrokeStyle)})),this._stroke=ah(e,oi.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=qr.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new qr({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let t=0;t<this._filters.length;t++)e+=this._filters[t].padding;return Math.max(this._padding,e)}destroy(e=!1){var s,i,a,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const c=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(s=this._fill)!=null&&s.texture&&this._fill.texture.destroy(c),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(c),(a=this._stroke)!=null&&a.texture&&this._stroke.texture.destroy(c),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(c)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(s,i,a)=>(s[i]=a,t==null||t(i,a),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Lt.isColorLike(e)||e instanceof _n||e instanceof Ph)}};op.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};op.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let rh=op;function KE(n){const e=n;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const t=rh.defaultDropShadow;n.dropShadow={alpha:e.dropShadowAlpha??t.alpha,angle:e.dropShadowAngle??t.angle,blur:e.dropShadowBlur??t.blur,color:e.dropShadowColor??t.color,distance:e.dropShadowDistance??t.distance}}if(e.strokeThickness!==void 0){Re(Je,"strokeThickness is now a part of stroke");const t=e.stroke;let s={};if(Lt.isColorLike(t))s.color=t;else if(t instanceof _n||t instanceof Ph)s.fill=t;else if(Object.hasOwnProperty.call(t,"color")||Object.hasOwnProperty.call(t,"fill"))s=t;else throw new Error("Invalid stroke value.");n.stroke={...s,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(Re(Je,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&ut("The number of fill colors must match the number of fill gradient stops.");const t=new _n({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),s=e.fillGradientStops.slice(),i=e.fill.map(a=>Lt.shared.setValue(a).toNumber());s.forEach((a,o)=>{t.addColorStop(a,i[o])}),n.fill={fill:t}}}class QE{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const s=nt.get().createCanvas();s.width=e,s.height=t;const i=s.getContext("2d");return{canvas:s,context:i}}getOptimalCanvasAndContext(e,t,s=1){e=Math.ceil(e*s-1e-6),t=Math.ceil(t*s-1e-6),e=eh(e),t=eh(t);const i=(e<<17)+(t<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let a=this._canvasPool[i].pop();return a||(a=this._createCanvasAndContext(e,t)),a}returnCanvasAndContext(e){const t=e.canvas,{width:s,height:i}=t,a=(s<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,s,i),this._canvasPool[a].push(e)}clear(){this._canvasPool={}}}const gg=new QE;uc.register(gg);const z1=1e5;function F1(n,e,t,s=0){if(n.texture===Ne.WHITE&&!n.fill)return Lt.shared.setValue(n.color).setAlpha(n.alpha??1).toHexa();if(n.fill){if(n.fill instanceof Ph){const i=n.fill,a=e.createPattern(i.texture.source.resource,"repeat"),o=i.transform.copyTo(Le.shared);return o.scale(i.texture.frame.width,i.texture.frame.height),a.setTransform(o),a}else if(n.fill instanceof _n){const i=n.fill,a=i.type==="linear",o=i.textureSpace==="local";let c=1,h=1;o&&t&&(c=t.width+s,h=t.height+s);let u,d=!1;if(a){const{start:m,end:y}=i;u=e.createLinearGradient(m.x*c,m.y*h,y.x*c,y.y*h),d=Math.abs(y.x-m.x)<Math.abs((y.y-m.y)*.1)}else{const{center:m,innerRadius:y,outerCenter:p,outerRadius:x}=i;u=e.createRadialGradient(m.x*c,m.y*h,y*c,p.x*c,p.y*h,x*c)}if(d&&o&&t){const m=t.lineHeight/h;for(let y=0;y<t.lines.length;y++){const p=(y*t.lineHeight+s/2)/h;i.colorStops.forEach(x=>{const v=p+x.offset*m;u.addColorStop(Math.floor(v*z1)/z1,Lt.shared.setValue(x.color).toHex())})}}else i.colorStops.forEach(m=>{u.addColorStop(m.offset,Lt.shared.setValue(m.color).toHex())});return u}}else{const i=e.createPattern(n.texture.source.resource,"repeat"),a=n.matrix.copyTo(Le.shared);return a.scale(n.texture.frame.width,n.texture.frame.height),i.setTransform(a),i}return ut("FillStyle not recognised",n),"red"}const xw=class bw extends U_{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const t={...bw.defaultOptions,...e};this._textureSize=t.textureSize,this._mipmap=t.mipmap;const s=t.style.clone();t.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=Ne.WHITE,s._fill.fill=null),this.applyFillAsTint=t.overrideFill;const i=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const a=cg(s);t.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/i):s.fontSize=this.baseRenderedFontSize=i,this._style=s,this._skipKerning=t.skipKerning??!1,this.resolution=t.resolution??1,this._padding=t.padding??4,t.textureStyle&&(this._textureStyle=t.textureStyle instanceof th?t.textureStyle:new th(t.textureStyle)),this.fontMetrics=$u.measureFont(a),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(e){var _,A;const t=$u.graphemeSegmenter(e).filter(S=>!this._currentChars.includes(S)).filter((S,w,T)=>T.indexOf(S)===w);if(!t.length)return;this._currentChars=[...this._currentChars,...t];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:i,context:a}=s.canvasAndContext,o=s.texture.source;const c=this._style;let h=this._currentX,u=this._currentY,d=this._currentMaxCharHeight;const m=this.baseRenderedFontSize/this.baseMeasurementFontSize,y=this._padding*m;let p=!1;const x=i.width/this.resolution,v=i.height/this.resolution;for(let S=0;S<t.length;S++){const w=t[S],T=$u.measureText(w,c,i,!1);T.lineHeight=T.height;const R=T.width*m,E=Math.ceil((c.fontStyle==="italic"?2:1)*R),D=T.height*m,B=E+y*2,O=D+y*2;if(p=!1,w!==`
`&&w!=="\r"&&w!=="	"&&w!==" "&&(p=!0,d=Math.ceil(Math.max(O,d))),h+B>x&&(u+=d,d=O,h=0,u+d>v)){o.update();const z=this._nextPage();i=z.canvasAndContext.canvas,a=z.canvasAndContext.context,o=z.texture.source,h=0,u=0,d=0}const L=R/m-(((_=c.dropShadow)==null?void 0:_.distance)??0)-(((A=c._stroke)==null?void 0:A.width)??0);if(this.chars[w]={id:w.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:L,kerning:{}},p){this._drawGlyph(a,T,h+y,u+y,m,c);const z=o.width*m,H=o.height*m,X=new Rt(h/z*o.width,u/H*o.height,B/z*o.width,O/H*o.height);this.chars[w].texture=new Ne({source:o,frame:X}),h+=Math.ceil(B)}}o.update(),this._currentX=h,this._currentY=u,this._currentMaxCharHeight=d,this._skipKerning&&this._applyKerning(t,a)}get pageTextures(){return Re(Je,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const s=this._measureCache;for(let i=0;i<e.length;i++){const a=e[i];for(let o=0;o<this._currentChars.length;o++){const c=this._currentChars[o];let h=s[a];h||(h=s[a]=t.measureText(a).width);let u=s[c];u||(u=s[c]=t.measureText(c).width);let d=t.measureText(a+c).width,m=d-(h+u);m&&(this.chars[a].kerning[c]=m),d=t.measureText(a+c).width,m=d-(h+u),m&&(this.chars[c].kerning[a]=m)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=gg.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const s=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new Ne({source:new Ga({resource:t.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(i.source.style=this._textureStyle);const a={canvasAndContext:t,texture:i};return this.pages[this._currentPageIndex]=a,a}_setupContext(e,t,s){t.fontSize=this.baseRenderedFontSize,e.scale(s,s),e.font=cg(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const i=t._stroke,a=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=a,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=F1(i,e)),t._fill&&(e.fillStyle=F1(t._fill,e)),t.dropShadow){const o=t.dropShadow,c=Lt.shared.setValue(o.color).toArray(),h=o.blur*s,u=o.distance*s;e.shadowColor=`rgba(${c[0]*255},${c[1]*255},${c[2]*255},${o.alpha})`,e.shadowBlur=h,e.shadowOffsetX=Math.cos(o.angle)*u,e.shadowOffsetY=Math.sin(o.angle)*u}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,s,i,a,o){const c=t.text,h=t.fontProperties,u=o._stroke,d=((u==null?void 0:u.width)??0)*a,m=s+d/2,y=i-d/2,p=h.descent*a,x=t.lineHeight*a;let v=!1;o.stroke&&d&&(v=!0,e.strokeText(c,m,y+x-p));const{shadowBlur:_,shadowOffsetX:A,shadowOffsetY:S}=e;o._fill&&(v&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(c,m,y+x-p)),v&&(e.shadowBlur=_,e.shadowOffsetX=A,e.shadowOffsetY=S)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:s}=this.pages[e];gg.returnCanvasAndContext(t),s.destroy(!0)}this.pages=null}};xw.defaultOptions={textureSize:512,style:new rh,mipmap:!0};let j1=xw;function ZE(n,e,t,s){const i={width:0,height:0,offsetY:0,scale:e.fontSize/t.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=t.baseLineOffset;let a=i.lines[0],o=null,c=!0;const h={width:0,start:0,index:0,positions:[],chars:[]},u=t.baseMeasurementFontSize/e.fontSize,d=e.letterSpacing*u,m=e.wordWrapWidth*u,y=e.lineHeight?e.lineHeight*u:t.lineHeight,p=e.wordWrap&&e.breakWords,x=A=>{const S=a.width;for(let w=0;w<h.index;w++){const T=A.positions[w];a.chars.push(A.chars[w]),a.charPositions.push(T+S)}a.width+=A.width,c=!1,h.width=0,h.index=0,h.chars.length=0},v=()=>{let A=a.chars.length-1;if(s){let S=a.chars[A];for(;S===" ";)a.width-=t.chars[S].xAdvance,S=a.chars[--A]}i.width=Math.max(i.width,a.width),a={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},c=!0,i.lines.push(a),i.height+=y},_=A=>A-d>m;for(let A=0;A<n.length+1;A++){let S;const w=A===n.length;w||(S=n[A]);const T=t.chars[S]||t.chars[" "];if(/(?:\s)/.test(S)||S==="\r"||S===`
`||w){if(!c&&e.wordWrap&&_(a.width+h.width)?(v(),x(h),w||a.charPositions.push(0)):(h.start=a.width,x(h),w||a.charPositions.push(0)),S==="\r"||S===`
`)v();else if(!w){const B=T.xAdvance+(T.kerning[o]||0)+d;a.width+=B,a.spaceWidth=B,a.spacesIndex.push(a.charPositions.length),a.chars.push(S)}}else{const D=T.kerning[o]||0,B=T.xAdvance+D+d;p&&_(a.width+h.width+B)&&(x(h),v()),h.positions[h.index++]=h.width+D,h.chars.push(S),h.width+=B}o=S}return v(),e.align==="center"?JE(i):e.align==="right"?eR(i):e.align==="justify"&&tR(i),i}function JE(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],s=n.width/2-t.width/2;for(let i=0;i<t.charPositions.length;i++)t.charPositions[i]+=s}}function eR(n){for(let e=0;e<n.lines.length;e++){const t=n.lines[e],s=n.width-t.width;for(let i=0;i<t.charPositions.length;i++)t.charPositions[i]+=s}}function tR(n){const e=n.width;for(let t=0;t<n.lines.length;t++){const s=n.lines[t];let i=0,a=s.spacesIndex[i++],o=0;const c=s.spacesIndex.length,u=(e-s.width)/c;for(let d=0;d<s.charPositions.length;d++)d===a&&(a=s.spacesIndex[i++],o+=u),s.charPositions[d]+=o}}function sR(n){if(n==="")return[];typeof n=="string"&&(n=[n]);const e=[];for(let t=0,s=n.length;t<s;t++){const i=n[t];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(let c=a,h=o;c<=h;c++)e.push(String.fromCharCode(c))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let Uu=0;class iR{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=V_(1e3)}getFont(e,t){var o;let s=`${t.fontFamily}-bitmap`,i=!0;if(t._fill.fill&&!t._stroke?(s+=t._fill.fill.styleKey,i=!1):(t._stroke||t.dropShadow)&&(s=`${t.styleKey}-bitmap`,i=!1),!et.has(s)){const c=Object.create(t);c.lineHeight=0;const h=new j1({style:c,overrideFill:i,overrideSize:!0,...this.defaultOptions});Uu++,Uu>50&&ut("BitmapText",`You have dynamically created ${Uu} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),h.once("destroy",()=>{Uu--,et.remove(s)}),et.set(s,h)}const a=et.get(s);return(o=a.ensureCharacters)==null||o.call(a,e),a}getLayout(e,t,s=!0){const i=this.getFont(e,t),a=`${e}-${t.styleKey}-${s}`;if(this.measureCache.has(a))return this.measureCache.get(a);const o=$u.graphemeSegmenter(e),c=ZE(o,t,i,s);return this.measureCache.set(a,c),c}measureText(e,t,s=!0){return this.getLayout(e,t,s)}install(...e){var u,d,m,y;let t=e[0];typeof t=="string"&&(t={name:t,style:e[1],chars:(u=e[2])==null?void 0:u.chars,resolution:(d=e[2])==null?void 0:d.resolution,padding:(m=e[2])==null?void 0:m.padding,skipKerning:(y=e[2])==null?void 0:y.skipKerning},Re(Je,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=t==null?void 0:t.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");t={...this.defaultOptions,...t};const i=t.style,a=i instanceof rh?i:new rh(i),o=t.dynamicFill??this._canUseTintForStyle(a),c=new j1({style:a,overrideFill:o,skipKerning:t.skipKerning,padding:t.padding,resolution:t.resolution,overrideSize:!1,textureStyle:t.textureStyle}),h=sR(t.chars);return c.ensureCharacters(h.join("")),et.set(`${s}-bitmap`,c),c.once("destroy",()=>et.remove(`${s}-bitmap`)),c}uninstall(e){const t=`${e}-bitmap`,s=et.get(t);s&&s.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const Y1=new iR;class vw extends U_{constructor(e,t){super();const{textures:s,data:i}=e;Object.keys(i.pages).forEach(a=>{const o=i.pages[parseInt(a,10)],c=s[o.id];this.pages.push({texture:c})}),Object.keys(i.chars).forEach(a=>{const o=i.chars[a],{frame:c,source:h,rotate:u}=s[o.page],d=Ze.transformRectCoords(o,c,u,new Rt),m=new Ne({frame:d,orig:new Rt(0,0,o.width,o.height),source:h,rotate:u});this.chars[a]={id:a.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:m}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){Y1.install(e)}static uninstall(e){Y1.uninstall(e)}}const Dm={test(n){return typeof n=="string"&&n.startsWith("info face=")},parse(n){const e=n.match(/^[a-z]+\s+.+$/gm),t={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const m in e){const y=e[m].match(/^[a-z]+/gm)[0],p=e[m].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),x={};for(const v in p){const _=p[v].split("="),A=_[0],S=_[1].replace(/"/gm,""),w=parseFloat(S),T=isNaN(w)?S:w;x[A]=T}t[y].push(x)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=t.info,[a]=t.common,[o]=t.distanceField??[];o&&(s.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),s.fontSize=parseInt(i.size,10),s.fontFamily=i.face,s.lineHeight=parseInt(a.lineHeight,10);const c=t.page;for(let m=0;m<c.length;m++)s.pages.push({id:parseInt(c[m].id,10)||0,file:c[m].file});const h={};s.baseLineOffset=s.lineHeight-parseInt(a.base,10);const u=t.char;for(let m=0;m<u.length;m++){const y=u[m],p=parseInt(y.id,10);let x=y.letter??y.char??String.fromCharCode(p);x==="space"&&(x=" "),h[p]=x,s.chars[x]={id:p,page:parseInt(y.page,10)||0,x:parseInt(y.x,10),y:parseInt(y.y,10),width:parseInt(y.width,10),height:parseInt(y.height,10),xOffset:parseInt(y.xoffset,10),yOffset:parseInt(y.yoffset,10),xAdvance:parseInt(y.xadvance,10),kerning:{}}}const d=t.kerning||[];for(let m=0;m<d.length;m++){const y=parseInt(d[m].first,10),p=parseInt(d[m].second,10),x=parseInt(d[m].amount,10);s.chars[h[p]].kerning[h[y]]=x}return s}},U1={test(n){const e=n;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(n){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},t=n.getElementsByTagName("info")[0],s=n.getElementsByTagName("common")[0],i=n.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const a=n.getElementsByTagName("page"),o=n.getElementsByTagName("char"),c=n.getElementsByTagName("kerning");e.fontSize=parseInt(t.getAttribute("size"),10),e.fontFamily=t.getAttribute("face"),e.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let u=0;u<a.length;u++)e.pages.push({id:parseInt(a[u].getAttribute("id"),10)||0,file:a[u].getAttribute("file")});const h={};e.baseLineOffset=e.lineHeight-parseInt(s.getAttribute("base"),10);for(let u=0;u<o.length;u++){const d=o[u],m=parseInt(d.getAttribute("id"),10);let y=d.getAttribute("letter")??d.getAttribute("char")??String.fromCharCode(m);y==="space"&&(y=" "),h[m]=y,e.chars[y]={id:m,page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xOffset:parseInt(d.getAttribute("xoffset"),10),yOffset:parseInt(d.getAttribute("yoffset"),10),xAdvance:parseInt(d.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<c.length;u++){const d=parseInt(c[u].getAttribute("first"),10),m=parseInt(c[u].getAttribute("second"),10),y=parseInt(c[u].getAttribute("amount"),10);e.chars[h[m]].kerning[h[d]]=y}return e}},V1={test(n){return typeof n=="string"&&n.includes("<font>")?U1.test(nt.get().parseXML(n)):!1},parse(n){return U1.parse(nt.get().parseXML(n))}},nR=[".xml",".fnt"],aR={extension:{type:ge.CacheParser,name:"cacheBitmapFont"},test:n=>n instanceof vw,getCacheableAssets(n,e){const t={};return n.forEach(s=>{t[s]=e,t[`${s}-bitmap`]=e}),t[`${e.fontFamily}-bitmap`]=e,t}},rR={extension:{type:ge.LoadParser,priority:$i.Normal},name:"loadBitmapFont",id:"bitmap-font",test(n){return nR.includes(ts.extname(n).toLowerCase())},async testParse(n){return Dm.test(n)||V1.test(n)},async parse(n,e,t){const s=Dm.test(n)?Dm.parse(n):V1.parse(n),{src:i}=e,{pages:a}=s,o=[],c=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let m=0;m<a.length;++m){const y=a[m].file;let p=ts.join(ts.dirname(i),y);p=ih(p,i),o.push({src:p,data:c})}const h=await t.load(o),u=o.map(m=>h[m.src]);return new vw({data:s,textures:u},i)},async load(n,e){return await(await nt.get().fetch(n)).text()},async unload(n,e,t){await Promise.all(n.pages.map(s=>t.unload(s.texture.source._sourceOrigin))),n.destroy()}};class oR{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<t;s++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const lR={extension:{type:ge.CacheParser,name:"cacheTextureArray"},test:n=>Array.isArray(n)&&n.every(e=>e instanceof Ne),getCacheableAssets:(n,e)=>{const t={};return n.forEach(s=>{e.forEach((i,a)=>{t[s+(a===0?"":a+1)]=i})}),t}};async function _w(n){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(n)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const cR={extension:{type:ge.DetectionParser,priority:1},test:async()=>_w("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(e=>e!=="avif")},H1=["png","jpg","jpeg"],uR={extension:{type:ge.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...H1],remove:async n=>n.filter(e=>!H1.includes(e))},hR="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Oh(n){return hR?!1:document.createElement("video").canPlayType(n)!==""}const dR={extension:{type:ge.DetectionParser,priority:0},test:async()=>Oh("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(e=>e!=="mp4"&&e!=="m4v")},fR={extension:{type:ge.DetectionParser,priority:0},test:async()=>Oh("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(e=>e!=="ogv")},mR={extension:{type:ge.DetectionParser,priority:0},test:async()=>Oh("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(e=>e!=="webm")},gR={extension:{type:ge.DetectionParser,priority:0},test:async()=>_w("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(e=>e!=="webp")};class pR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,s)=>(this._parsersValidated=!1,e[t]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const s={promise:null,parser:null};return s.promise=(async()=>{var o,c;let i=null,a=null;if((t.parser||t.loadParser)&&(a=this._parserHash[t.parser||t.loadParser],t.loadParser&&ut(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),a||ut(`[Assets] specified load parser "${t.parser||t.loadParser}" not found while loading ${e}`)),!a){for(let h=0;h<this.parsers.length;h++){const u=this.parsers[h];if(u.load&&((o=u.test)!=null&&o.call(u,e,t,this))){a=u;break}}if(!a)return ut(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await a.load(e,t,this),s.parser=a;for(let h=0;h<this.parsers.length;h++){const u=this.parsers[h];u.parse&&u.parse&&await((c=u.testParse)==null?void 0:c.call(u,i,t,this))&&(i=await u.parse(i,t,this)||i,s.parser=u)}return i})(),s}async load(e,t){this._parsersValidated||this._validateParsers();let s=0;const i={},a=sh(e),o=_i(e,u=>({alias:[u],src:u,data:{}})),c=o.length,h=o.map(async u=>{const d=ts.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,u)),i[u.src]=await this.promiseCache[d].promise,t&&t(++s/c)}catch(m){throw delete this.promiseCache[d],delete i[u.src],new Error(`[Loader.load] Failed to load ${d}.
${m}`)}});return await Promise.all(h),a?i[o[0].src]:i}async unload(e){const s=_i(e,i=>({alias:[i],src:i})).map(async i=>{var c,h;const a=ts.toAbsolute(i.src),o=this.promiseCache[a];if(o){const u=await o.promise;delete this.promiseCache[a],await((h=(c=o.parser)==null?void 0:c.unload)==null?void 0:h.call(c,u,i,this))}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,t)=>(!t.name&&!t.id?ut("[Assets] parser should have an id"):(e[t.name]||e[t.id])&&ut(`[Assets] parser id conflict "${t.id}"`),e[t.name]=t,t.id&&(e[t.id]=t),e),{})}}function xo(n,e){if(Array.isArray(e)){for(const t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function di(n,e){const t=n.split("?")[0],s=ts.extname(t).toLowerCase();return Array.isArray(e)?e.includes(s):s===e}const yR=".json",xR="application/json",bR={extension:{type:ge.LoadParser,priority:$i.Low},name:"loadJson",id:"json",test(n){return xo(n,xR)||di(n,yR)},async load(n){return await(await nt.get().fetch(n)).json()}},vR=".txt",_R="text/plain",wR={name:"loadTxt",id:"text",extension:{type:ge.LoadParser,priority:$i.Low,name:"loadTxt"},test(n){return xo(n,_R)||di(n,vR)},async load(n){return await(await nt.get().fetch(n)).text()}},SR=["normal","bold","100","200","300","400","500","600","700","800","900"],CR=[".ttf",".otf",".woff",".woff2"],AR=["font/ttf","font/otf","font/woff","font/woff2"],TR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function MR(n){const e=ts.extname(n),i=ts.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1));let a=i.length>0;for(const c of i)if(!c.match(TR)){a=!1;break}let o=i.join(" ");return a||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const kR=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function ER(n){return kR.test(n)?n:encodeURI(n)}const RR={extension:{type:ge.LoadParser,priority:$i.Low},name:"loadWebFont",id:"web-font",test(n){return xo(n,AR)||di(n,CR)},async load(n,e){var s,i,a;const t=nt.get().getFontFaceSet();if(t){const o=[],c=((s=e.data)==null?void 0:s.family)??MR(n),h=((a=(i=e.data)==null?void 0:i.weights)==null?void 0:a.filter(d=>SR.includes(d)))??["normal"],u=e.data??{};for(let d=0;d<h.length;d++){const m=h[d],y=new FontFace(c,`url(${ER(n)})`,{...u,weight:m});await y.load(),t.add(y),o.push(y)}return et.has(`${c}-and-url`)?et.get(`${c}-and-url`).entries.push({url:n,faces:o}):et.set(`${c}-and-url`,{entries:[{url:n,faces:o}]}),o.length===1?o[0]:o}return ut("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){const e=Array.isArray(n)?n:[n],t=e[0].family,s=et.get(`${t}-and-url`),i=s.entries.find(a=>a.faces.some(o=>e.indexOf(o)!==-1));i.faces=i.faces.filter(a=>e.indexOf(a)===-1),i.faces.length===0&&(s.entries=s.entries.filter(a=>a!==i)),e.forEach(a=>{nt.get().getFontFaceSet().delete(a)}),s.entries.length===0&&et.remove(`${t}-and-url`)}};function lp(n,e=1){var s;const t=(s=Qa.RETINA_PREFIX)==null?void 0:s.exec(n);return t?parseFloat(t[1]):e}function cp(n,e,t){n.label=t,n._sourceOrigin=t;const s=new Ne({source:n,label:t}),i=()=>{delete e.promiseCache[t],et.has(t)&&et.remove(t)};return s.source.once("destroy",()=>{e.promiseCache[t]&&(ut("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),s.once("destroy",()=>{n.destroyed||(ut("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),s}const DR=".svg",PR="image/svg+xml",BR={extension:{type:ge.LoadParser,priority:$i.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return xo(n,PR)||di(n,DR)},async load(n,e,t){var s;return((s=e.data)==null?void 0:s.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?NR(n):OR(n,e,t,this.config.crossOrigin)},unload(n){n.destroy(!0)}};async function OR(n,e,t,s){var _,A,S;const i=await nt.get().fetch(n),a=nt.get().createImage();a.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await i.text())}`,a.crossOrigin=s,await a.decode();const o=((_=e.data)==null?void 0:_.width)??a.width,c=((A=e.data)==null?void 0:A.height)??a.height,h=((S=e.data)==null?void 0:S.resolution)||lp(n),u=Math.ceil(o*h),d=Math.ceil(c*h),m=nt.get().createCanvas(u,d),y=m.getContext("2d");y.imageSmoothingEnabled=!0,y.imageSmoothingQuality="high",y.drawImage(a,0,0,o*h,c*h);const{parseAsGraphicsContext:p,...x}=e.data??{},v=new Ga({resource:m,alphaMode:"premultiply-alpha-on-upload",resolution:h,...x});return cp(v,t,n)}async function NR(n){const t=await(await nt.get().fetch(n)).text(),s=new oi;return s.svg(t),s}const LR=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let so=null,pg=class{constructor(){so||(so=URL.createObjectURL(new Blob([LR],{type:"application/javascript"}))),this.worker=new Worker(so)}};pg.revokeObjectURL=function(){so&&(URL.revokeObjectURL(so),so=null)};const IR=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let io=null;class ww{constructor(){io||(io=URL.createObjectURL(new Blob([IR],{type:"application/javascript"}))),this.worker=new Worker(io)}}ww.revokeObjectURL=function(){io&&(URL.revokeObjectURL(io),io=null)};let X1=0,Pm;class zR{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new pg;t.addEventListener("message",s=>{t.terminate(),pg.revokeObjectURL(),e(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,t){var s;return this._run("loadImageBitmap",[e,(s=t==null?void 0:t.data)==null?void 0:s.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Pm===void 0&&(Pm=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Pm&&(this._createdWorkers++,e=new ww().worker,e.addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const s=new Promise((i,a)=>{this._queue.push({id:e,arguments:t,resolve:i,reject:a})});return this._next(),s}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const t=this._queue.pop(),s=t.id;this._resolveHash[X1]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:X1++,id:s})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e==null||e(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const G1=new zR,FR=[".jpeg",".jpg",".png",".webp",".avif"],jR=["image/jpeg","image/png","image/webp","image/avif"];async function YR(n,e){var i;const t=await nt.get().fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);const s=await t.blob();return((i=e==null?void 0:e.data)==null?void 0:i.alphaMode)==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const Sw={name:"loadTextures",id:"texture",extension:{type:ge.LoadParser,priority:$i.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return xo(n,jR)||di(n,FR)},async load(n,e,t){var a;let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await G1.isImageBitmapSupported()?s=await G1.loadImageBitmap(n,e):s=await YR(n,e):s=await new Promise((o,c)=>{s=nt.get().createImage(),s.crossOrigin=this.config.crossOrigin,s.src=n,s.complete?o(s):(s.onload=()=>{o(s)},s.onerror=c)});const i=new Ga({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:((a=e.data)==null?void 0:a.resolution)||lp(n),...e.data});return cp(i,t,n)},unload(n){n.destroy(!0)}},UR=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Bm,Om;function VR(n,e,t){t===void 0&&!e.startsWith("data:")?n.crossOrigin=XR(e):t!==!1&&(n.crossOrigin=typeof t=="string"?t:"anonymous")}function HR(n){return new Promise((e,t)=>{n.addEventListener("canplaythrough",s),n.addEventListener("error",i),n.load();function s(){a(),e()}function i(o){a(),t(o)}function a(){n.removeEventListener("canplaythrough",s),n.removeEventListener("error",i)}})}function XR(n,e=globalThis.location){if(n.startsWith("data:"))return"";e||(e=globalThis.location);const t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function GR(){const n=[],e=[];for(const t of UR){const s=Il.MIME_TYPES[t.substring(1)]||`video/${t.substring(1)}`;Oh(s)&&(n.push(t),e.includes(s)||e.push(s))}return{validVideoExtensions:n,validVideoMime:e}}const qR={name:"loadVideo",id:"video",extension:{type:ge.LoadParser,name:"loadVideo"},test(n){if(!Bm||!Om){const{validVideoExtensions:s,validVideoMime:i}=GR();Bm=s,Om=i}const e=xo(n,Om),t=di(n,Bm);return e||t},async load(n,e,t){var h,u;const s={...Il.defaultOptions,resolution:((h=e.data)==null?void 0:h.resolution)||lp(n),alphaMode:((u=e.data)==null?void 0:u.alphaMode)||await y_(),...e.data},i=document.createElement("video"),a={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(a).forEach(d=>{const m=a[d];m!==void 0&&i.setAttribute(d,m)}),s.muted===!0&&(i.muted=!0),VR(i,n,s.crossorigin);const o=document.createElement("source");let c;if(s.mime)c=s.mime;else if(n.startsWith("data:"))c=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){const d=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();c=Il.MIME_TYPES[d]||`video/${d}`}return o.src=n,c&&(o.type=c),new Promise(d=>{const m=async()=>{const y=new Il({...s,resource:i});i.removeEventListener("canplay",m),e.data.preload&&await HR(i),d(cp(y,t,n))};s.preload&&!s.autoPlay&&i.load(),i.addEventListener("canplay",m),i.appendChild(o)})},unload(n){n.destroy(!0)}},Cw={extension:{type:ge.ResolveParser,name:"resolveTexture"},test:Sw.test,parse:n=>{var e;return{resolution:parseFloat(((e=Qa.RETINA_PREFIX.exec(n))==null?void 0:e[1])??"1"),format:n.split(".").pop(),src:n}}},WR={extension:{type:ge.ResolveParser,priority:-2,name:"resolveJson"},test:n=>Qa.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:Cw.parse};class $R{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Qa,this.loader=new pR,this.cache=et,this._backgroundLoader=new oR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,o;if(this._initialized){ut("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,s=typeof t=="number"?[t]:t,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:s}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();const s=sh(e),i=_i(e).map(c=>{if(typeof c!="string"){const h=this.resolver.getAlias(c);return h.some(u=>!this.resolver.hasKey(u))&&this.add(c),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),a=this.resolver.resolve(i),o=await this._mapLoadToResolve(a,t);return s?o[i[0]]:o}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let s=!1;typeof e=="string"&&(s=!0,e=[e]);const i=this.resolver.resolveBundle(e),a={},o=Object.keys(i);let c=0,h=0;const u=()=>{t==null||t(++c/h)},d=o.map(m=>{const y=i[m],p=Object.values(y),x=[...new Set(p.flat())];return h+=x.length,this._mapLoadToResolve(y,u).then(v=>{a[m]=v})});return await Promise.all(d),s?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return et.get(e);const t={};for(let s=0;s<e.length;s++)t[s]=et.get(e[s]);return t}async _mapLoadToResolve(e,t){const s=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(s,t);this._backgroundLoader.active=!0;const a={};return s.forEach(o=>{const c=i[o.src],h=[o.src];o.alias&&h.push(...o.alias),h.forEach(u=>{a[u]=c}),et.set(h,c)}),a}async unload(e){this._initialized||await this.init();const t=_i(e).map(i=>typeof i!="string"?i.src:i),s=this.resolver.resolve(t);await this._unloadFromResolved(s)}async unloadBundle(e){this._initialized||await this.init(),e=_i(e);const t=this.resolver.resolveBundle(e),s=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));await Promise.all(s)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(s=>{et.remove(s.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const s of e.detections)e.skipDetections||await s.test()?t=await s.add(t):e.skipDetections||(t=await s.remove(t));return t=t.filter((s,i)=>t.indexOf(s)===i),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(s=>s in e).forEach(s=>{t.config[s]=e[s]})})}}const Jt=new $R;Dt.handleByList(ge.LoadParser,Jt.loader.parsers).handleByList(ge.ResolveParser,Jt.resolver.parsers).handleByList(ge.CacheParser,Jt.cache.parsers).handleByList(ge.DetectionParser,Jt.detections);Dt.add(lR,uR,cR,gR,dR,fR,mR,bR,wR,RR,BR,Sw,qR,rR,aR,Cw,WR);const q1={loader:ge.LoadParser,resolver:ge.ResolveParser,cache:ge.CacheParser,detection:ge.DetectionParser};Dt.handle(ge.Asset,n=>{const e=n.ref;Object.entries(q1).filter(([t])=>!!e[t]).forEach(([t,s])=>Dt.add(Object.assign(e[t],{extension:e[t].extension??s})))},n=>{const e=n.ref;Object.keys(q1).filter(t=>!!e[t]).forEach(t=>Dt.remove(e[t]))});class $l extends Jg{constructor(e){e instanceof oi&&(e={context:e});const{context:t,roundPixels:s,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",t?this._context=t:this._context=this._ownedContext=new oi,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,t){return this.context[e](...t),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new $l(this._context.clone()):(this._ownedContext=null,new $l(this._context))}lineStyle(e,t,s){Re(Je,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),t&&(i.color=t),s&&(i.alpha=s),this.context.strokeStyle=i,this}beginFill(e,t){Re(Je,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return e!==void 0&&(s.color=e),t!==void 0&&(s.alpha=t),this.context.fillStyle=s,this}endFill(){Re(Je,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==oi.defaultStrokeStyle.width||e.color!==oi.defaultStrokeStyle.color||e.alpha!==oi.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Re(Je,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Re(Je,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Re(Je,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Re(Je,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Re(Je,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Re(Je,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}function KR(n,e,t){Re("8.7.0","Please use container.collectRenderables instead.");const s=t.renderPipes?t:t.batch.renderer;return n.collectRenderables(e,s,null)}Dt.add(yM,xM);function Aw(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Aw(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Ia(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Aw(n))&&(s&&(s+=" "),s+=e);return s}function QR(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}QR(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hc=n=>typeof n=="number"&&!isNaN(n),$a=n=>typeof n=="string",wn=n=>typeof n=="function",ZR=n=>$a(n)||hc(n),yg=n=>$a(n)||wn(n)?n:null,JR=(n,e)=>n===!1||hc(n)&&n>0?n:e,xg=n=>Z.isValidElement(n)||$a(n)||wn(n)||hc(n);function eD(n,e,t=300){let{scrollHeight:s,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function tD({enter:n,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:c,done:h,nodeRef:u,isIn:d,playToast:m}){let y=t?`${n}--${o}`:n,p=t?`${e}--${o}`:e,x=Z.useRef(0);return Z.useLayoutEffect(()=>{let v=u.current,_=y.split(" "),A=S=>{S.target===u.current&&(m(),v.removeEventListener("animationend",A),v.removeEventListener("animationcancel",A),x.current===0&&S.type!=="animationcancel"&&v.classList.remove(..._))};v.classList.add(..._),v.addEventListener("animationend",A),v.addEventListener("animationcancel",A)},[]),Z.useEffect(()=>{let v=u.current,_=()=>{v.removeEventListener("animationend",_),s?eD(v,h,i):h()};d||(c?_():(x.current=1,v.className+=` ${p}`,v.addEventListener("animationend",_)))},[d]),lt.createElement(lt.Fragment,null,a)}}function W1(n,e){return{content:Tw(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function Tw(n,e,t=!1){return Z.isValidElement(n)&&!$a(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):wn(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function sD({closeToast:n,theme:e,ariaLabel:t="close"}){return lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),n(!0)},"aria-label":t},lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function iD({delay:n,isRunning:e,closeToast:t,type:s="default",hide:i,className:a,controlledProgress:o,progress:c,rtl:h,isIn:u,theme:d}){let m=i||o&&c===0,y={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};o&&(y.transform=`scaleX(${c})`);let p=Ia("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),x=wn(a)?a({rtl:h,type:s,defaultClassName:p}):Ia(p,a),v={[o&&c>=1?"onTransitionEnd":"onAnimationEnd"]:o&&c<1?null:()=>{u&&t()}};return lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${s}`}),lt.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:x,style:y,...v}))}var nD=1,Mw=()=>`${nD++}`;function aD(n,e,t){let s=1,i=0,a=[],o=[],c=e,h=new Map,u=new Set,d=S=>(u.add(S),()=>u.delete(S)),m=()=>{o=Array.from(h.values()),u.forEach(S=>S())},y=({containerId:S,toastId:w,updateId:T})=>{let R=S?S!==n:n!==1,E=h.has(w)&&T==null;return R||E},p=(S,w)=>{h.forEach(T=>{var R;(w==null||w===T.props.toastId)&&((R=T.toggle)==null||R.call(T,S))})},x=S=>{var w,T;(T=(w=S.props)==null?void 0:w.onClose)==null||T.call(w,S.removalReason),S.isActive=!1},v=S=>{if(S==null)h.forEach(x);else{let w=h.get(S);w&&x(w)}m()},_=()=>{i-=a.length,a=[]},A=S=>{var w,T;let{toastId:R,updateId:E}=S.props,D=E==null;S.staleId&&h.delete(S.staleId),S.isActive=!0,h.set(R,S),m(),t(W1(S,D?"added":"updated")),D&&((T=(w=S.props).onOpen)==null||T.call(w))};return{id:n,props:c,observe:d,toggle:p,removeToast:v,toasts:h,clearQueue:_,buildToast:(S,w)=>{if(y(w))return;let{toastId:T,updateId:R,data:E,staleId:D,delay:B}=w,O=R==null;O&&i++;let L={...c,style:c.toastStyle,key:s++,...Object.fromEntries(Object.entries(w).filter(([H,X])=>X!=null)),toastId:T,updateId:R,data:E,isIn:!1,className:yg(w.className||c.toastClassName),progressClassName:yg(w.progressClassName||c.progressClassName),autoClose:w.isLoading?!1:JR(w.autoClose,c.autoClose),closeToast(H){h.get(T).removalReason=H,v(T)},deleteToast(){let H=h.get(T);if(H!=null){if(t(W1(H,"removed")),h.delete(T),i--,i<0&&(i=0),a.length>0){A(a.shift());return}m()}}};L.closeButton=c.closeButton,w.closeButton===!1||xg(w.closeButton)?L.closeButton=w.closeButton:w.closeButton===!0&&(L.closeButton=xg(c.closeButton)?c.closeButton:!0);let z={content:S,props:L,staleId:D};c.limit&&c.limit>0&&i>c.limit&&O?a.push(z):hc(B)?setTimeout(()=>{A(z)},B):A(z)},setProps(S){c=S},setToggle:(S,w)=>{let T=h.get(S);T&&(T.toggle=w)},isToastActive:S=>{var w;return(w=h.get(S))==null?void 0:w.isActive},getSnapshot:()=>o}}var ys=new Map,Kl=[],bg=new Set,rD=n=>bg.forEach(e=>e(n)),kw=()=>ys.size>0;function oD(){Kl.forEach(n=>Rw(n.content,n.options)),Kl=[]}var lD=(n,{containerId:e})=>{var t;return(t=ys.get(e||1))==null?void 0:t.toasts.get(n)};function Ew(n,e){var t;if(e)return!!((t=ys.get(e))!=null&&t.isToastActive(n));let s=!1;return ys.forEach(i=>{i.isToastActive(n)&&(s=!0)}),s}function cD(n){if(!kw()){Kl=Kl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||ZR(n))ys.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ys.get(n.containerId);e?e.removeToast(n.id):ys.forEach(t=>{t.removeToast(n.id)})}}var uD=(n={})=>{ys.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function Rw(n,e){xg(n)&&(kw()||Kl.push({content:n,options:e}),ys.forEach(t=>{t.buildToast(n,e)}))}function hD(n){var e;(e=ys.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function Dw(n,e){ys.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function dD(n){let e=n.containerId||1;return{subscribe(t){let s=aD(e,n,rD);ys.set(e,s);let i=s.observe(t);return oD(),()=>{i(),ys.delete(e)}},setProps(t){var s;(s=ys.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=ys.get(e))==null?void 0:t.getSnapshot()}}}function fD(n){return bg.add(n),()=>{bg.delete(n)}}function mD(n){return n&&($a(n.toastId)||hc(n.toastId))?n.toastId:Mw()}function dc(n,e){return Rw(n,e),e.toastId}function Nh(n,e){return{...e,type:e&&e.type||n,toastId:mD(e)}}function Lh(n){return(e,t)=>dc(e,Nh(n,t))}function Ge(n,e){return dc(n,Nh("default",e))}Ge.loading=(n,e)=>dc(n,Nh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function gD(n,{pending:e,error:t,success:s},i){let a;e&&(a=$a(e)?Ge.loading(e,i):Ge.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,d,m)=>{if(d==null){Ge.dismiss(a);return}let y={type:u,...o,...i,data:m},p=$a(d)?{render:d}:d;return a?Ge.update(a,{...y,...p}):Ge(p.render,{...y,...p}),m},h=wn(n)?n():n;return h.then(u=>c("success",s,u)).catch(u=>c("error",t,u)),h}Ge.promise=gD;Ge.success=Lh("success");Ge.info=Lh("info");Ge.error=Lh("error");Ge.warning=Lh("warning");Ge.warn=Ge.warning;Ge.dark=(n,e)=>dc(n,Nh("default",{theme:"dark",...e}));function pD(n){cD(n)}Ge.dismiss=pD;Ge.clearWaitingQueue=uD;Ge.isActive=Ew;Ge.update=(n,e={})=>{let t=lD(n,e);if(t){let{props:s,content:i}=t,a={delay:100,...s,...e,toastId:e.toastId||n,updateId:Mw()};a.toastId!==n&&(a.staleId=n);let o=a.render||i;delete a.render,dc(o,a)}};Ge.done=n=>{Ge.update(n,{progress:1})};Ge.onChange=fD;Ge.play=n=>Dw(!0,n);Ge.pause=n=>Dw(!1,n);function yD(n){var e;let{subscribe:t,getSnapshot:s,setProps:i}=Z.useRef(dD(n)).current;i(n);let a=(e=Z.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function o(c){if(!a)return[];let h=new Map;return n.newestOnTop&&a.reverse(),a.forEach(u=>{let{position:d}=u.props;h.has(d)||h.set(d,[]),h.get(d).push(u)}),Array.from(h,u=>c(u[0],u[1]))}return{getToastToRender:o,isToastActive:Ew,count:a==null?void 0:a.length}}function xD(n){let[e,t]=Z.useState(!1),[s,i]=Z.useState(!1),a=Z.useRef(null),o=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:u,onClick:d,closeOnClick:m}=n;hD({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return y(),()=>{p()}},[n.pauseOnFocusLoss]);function y(){document.hasFocus()||A(),window.addEventListener("focus",_),window.addEventListener("blur",A)}function p(){window.removeEventListener("focus",_),window.removeEventListener("blur",A)}function x(D){if(n.draggable===!0||n.draggable===D.pointerType){S();let B=a.current;o.canCloseOnClick=!0,o.canDrag=!0,B.style.transition="none",n.draggableDirection==="x"?(o.start=D.clientX,o.removalDistance=B.offsetWidth*(n.draggablePercent/100)):(o.start=D.clientY,o.removalDistance=B.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function v(D){let{top:B,bottom:O,left:L,right:z}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=L&&D.clientX<=z&&D.clientY>=B&&D.clientY<=O?A():_()}function _(){t(!0)}function A(){t(!1)}function S(){o.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",R)}function w(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",R)}function T(D){let B=a.current;if(o.canDrag&&B){o.didMove=!0,e&&A(),n.draggableDirection==="x"?o.delta=D.clientX-o.start:o.delta=D.clientY-o.start,o.start!==D.clientX&&(o.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;B.style.transform=`translate3d(${O},0)`,B.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function R(){w();let D=a.current;if(o.canDrag&&o.didMove&&D){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let E={onPointerDown:x,onPointerUp:v};return c&&h&&(E.onMouseEnter=A,n.stacked||(E.onMouseLeave=_)),m&&(E.onClick=D=>{d&&d(D),o.canCloseOnClick&&u(!0)}),{playToast:_,pauseToast:A,isRunning:e,preventExitTransition:s,toastRef:a,eventHandlers:E}}var bD=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,Ih=({theme:n,type:e,isLoading:t,...s})=>lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function vD(n){return lt.createElement(Ih,{...n},lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function _D(n){return lt.createElement(Ih,{...n},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wD(n){return lt.createElement(Ih,{...n},lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function SD(n){return lt.createElement(Ih,{...n},lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function CD(){return lt.createElement("div",{className:"Toastify__spinner"})}var vg={info:_D,warning:vD,success:wD,error:SD,spinner:CD},AD=n=>n in vg;function TD({theme:n,type:e,isLoading:t,icon:s}){let i=null,a={theme:n,type:e};return s===!1||(wn(s)?i=s({...a,isLoading:t}):Z.isValidElement(s)?i=Z.cloneElement(s,a):t?i=vg.spinner():AD(e)&&(i=vg[e](a))),i}var MD=n=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:i,playToast:a}=xD(n),{closeButton:o,children:c,autoClose:h,onClick:u,type:d,hideProgressBar:m,closeToast:y,transition:p,position:x,className:v,style:_,progressClassName:A,updateId:S,role:w,progress:T,rtl:R,toastId:E,deleteToast:D,isIn:B,isLoading:O,closeOnClick:L,theme:z,ariaLabel:H}=n,X=Ia("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":L}),j=wn(v)?v({rtl:R,position:x,type:d,defaultClassName:X}):Ia(X,v),W=TD(n),I=!!T||!h,U={closeToast:y,type:d,theme:z},ne=null;return o===!1||(wn(o)?ne=o(U):Z.isValidElement(o)?ne=Z.cloneElement(o,U):ne=sD(U)),lt.createElement(p,{isIn:B,done:D,position:x,preventExitTransition:t,nodeRef:s,playToast:a},lt.createElement("div",{id:E,tabIndex:0,onClick:u,"data-in":B,className:j,...i,style:_,ref:s,...B&&{role:w,"aria-label":H}},W!=null&&lt.createElement("div",{className:Ia("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},W),Tw(c,n,!e),ne,!n.customProgressBar&&lt.createElement(iD,{...S&&!I?{key:`p-${S}`}:{},rtl:R,theme:z,delay:h,isRunning:e,isIn:B,closeToast:y,hide:m,type:d,className:A,controlledProgress:I,progress:T||0})))},kD=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),ED=tD(kD("bounce",!0)),RD={position:"top-right",transition:ED,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function DD(n){let e={...RD,...n},t=n.stacked,[s,i]=Z.useState(!0),a=Z.useRef(null),{getToastToRender:o,isToastActive:c,count:h}=yD(e),{className:u,style:d,rtl:m,containerId:y,hotKeys:p}=e;function x(_){let A=Ia("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":m});return wn(u)?u({position:_,rtl:m,defaultClassName:A}):Ia(A,yg(u))}function v(){t&&(i(!0),Ge.play())}return bD(()=>{var _;if(t){let A=a.current.querySelectorAll('[data-in="true"]'),S=12,w=(_=e.position)==null?void 0:_.includes("top"),T=0,R=0;Array.from(A).reverse().forEach((E,D)=>{let B=E;B.classList.add("Toastify__toast--stacked"),D>0&&(B.dataset.collapsed=`${s}`),B.dataset.pos||(B.dataset.pos=w?"top":"bot");let O=T*(s?.2:1)+(s?0:S*D);B.style.setProperty("--y",`${w?O:O*-1}px`),B.style.setProperty("--g",`${S}`),B.style.setProperty("--s",`${1-(s?R:0)}`),T+=B.offsetHeight,R+=.025})}},[s,h,t]),Z.useEffect(()=>{function _(A){var S;let w=a.current;p(A)&&((S=w.querySelector('[tabIndex="0"]'))==null||S.focus(),i(!1),Ge.pause()),A.key==="Escape"&&(document.activeElement===w||w!=null&&w.contains(document.activeElement))&&(i(!0),Ge.play())}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[p]),lt.createElement("section",{ref:a,className:"Toastify",id:y,onMouseEnter:()=>{t&&(i(!1),Ge.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((_,A)=>{let S=A.length?{...d}:{...d,pointerEvents:"none"};return lt.createElement("div",{tabIndex:-1,className:x(_),"data-stacked":t,style:S,key:`c-${_}`},A.map(({content:w,props:T})=>lt.createElement(MD,{...T,stacked:t,collapseAll:v,isIn:c(T.toastId,T.containerId),key:`t-${T.key}`},w)))}))}const PD=(n,e,t,s)=>{var a,o,c,h;const i=[t,{code:e,...s||{}}];if((o=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&o.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);za(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(h=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&h.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},$1={},_g=(n,e,t,s)=>{za(t)&&$1[t]||(za(t)&&($1[t]=new Date),PD(n,e,t,s))},Pw=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},wg=(n,e,t)=>{n.loadNamespaces(e,Pw(n,t))},K1=(n,e,t,s)=>{if(za(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return wg(n,t,s);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,Pw(n,s))},BD=(n,e,t={})=>!e.languages||!e.languages.length?(_g(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,n))return!1}}),za=n=>typeof n=="string",OD=n=>typeof n=="object"&&n!==null,ND=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,LD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},ID=n=>LD[n],zD=n=>n.replace(ND,ID);let Sg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zD};const FD=(n={})=>{Sg={...Sg,...n}},jD=()=>Sg;let Bw;const YD=n=>{Bw=n},UD=()=>Bw,VD={type:"3rdParty",init(n){FD(n.options.react),YD(n)}},HD=Z.createContext();class XD{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const GD=(n,e)=>{const t=Z.useRef();return Z.useEffect(()=>{t.current=n},[n,e]),t.current},Ow=(n,e,t,s)=>n.getFixedT(e,t,s),qD=(n,e,t,s)=>Z.useCallback(Ow(n,e,t,s),[n,e,t,s]),at=(n,e={})=>{var T,R,E,D;const{i18n:t}=e,{i18n:s,defaultNS:i}=Z.useContext(HD)||{},a=t||s||UD();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new XD),!a){_g(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const B=(L,z)=>za(z)?z:OD(z)&&za(z.defaultValue)?z.defaultValue:Array.isArray(L)?L[L.length-1]:L,O=[B,{},!1];return O.t=B,O.i18n={},O.ready=!1,O}(T=a.options.react)!=null&&T.wait&&_g(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...jD(),...a.options.react,...e},{useSuspense:c,keyPrefix:h}=o;let u=i||((R=a.options)==null?void 0:R.defaultNS);u=za(u)?[u]:u||["translation"],(D=(E=a.reportNamespaces).addUsedNamespaces)==null||D.call(E,u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every(B=>BD(B,a,o)),m=qD(a,e.lng||null,o.nsMode==="fallback"?u:u[0],h),y=()=>m,p=()=>Ow(a,e.lng||null,o.nsMode==="fallback"?u:u[0],h),[x,v]=Z.useState(y);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const A=GD(_),S=Z.useRef(!0);Z.useEffect(()=>{const{bindI18n:B,bindI18nStore:O}=o;S.current=!0,!d&&!c&&(e.lng?K1(a,e.lng,u,()=>{S.current&&v(p)}):wg(a,u,()=>{S.current&&v(p)})),d&&A&&A!==_&&S.current&&v(p);const L=()=>{S.current&&v(p)};return B&&(a==null||a.on(B,L)),O&&(a==null||a.store.on(O,L)),()=>{S.current=!1,a&&B&&(B==null||B.split(" ").forEach(z=>a.off(z,L))),O&&a&&O.split(" ").forEach(z=>a.store.off(z,L))}},[a,_]),Z.useEffect(()=>{S.current&&d&&v(y)},[a,h,d]);const w=[x,a,d];if(w.t=x,w.i18n=a,w.ready=d,d||!d&&!c)return w;throw new Promise(B=>{e.lng?K1(a,e.lng,u,()=>B()):wg(a,u,()=>B())})},Za=(n,e="0 0 24 24")=>({className:t="",size:s=24})=>k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:e,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`icon ${t}`,"aria-hidden":"true",children:n}),WD=Za(k.jsx("path",{d:"M5 3L19 12L5 21V3Z"})),$D=Za(k.jsxs(k.Fragment,{children:[k.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),k.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]})),KD=Za(k.jsx("rect",{x:"5",y:"5",width:"14",height:"14"})),QD=Za(k.jsxs(k.Fragment,{children:[k.jsx("path",{d:"M4 16V8L10 12L4 16Z"}),k.jsx("path",{d:"M12 16V8L18 12L12 16Z"})]})),ZD=Za(k.jsxs(k.Fragment,{children:[k.jsx("path",{d:"M6 16V8L12 12L6 16Z"}),k.jsx("path",{d:"M14 16V8L20 12L14 16Z"})]})),JD=Za(k.jsx("path",{d:"M16.023 9h4.977v-4M7.977 15h-4.977v4M16.5 7.5c-1.333-1.333-3.5-3-6.5-3-4.142 0-7.5 3.358-7.5 7.5 0 1.487.433 2.873 1.179 4.038M7.5 16.5c1.333 1.333 3.5 3 6.5 3 4.142 0 7.5-3.358 7.5-7.5 0-1.487-.433-2.873-1.179-4.038"})),eP=Za(k.jsx("path",{d:"M6 18L18 6M6 6L18 18"})),Wr=({icon:n,onClick:e,tooltip:t,active:s=!1,disabled:i=!1,className:a=""})=>k.jsx("button",{className:`icon-button ${s?"active":""} ${i?"disabled":""} ${a}`,onClick:e,disabled:i,title:t,"aria-label":t,children:n}),tP=({checked:n,onChange:e,label:t,variant:s="default",disabled:i=!1,tooltip:a,className:o=""})=>{const c=()=>{i||e(!n)},h=u=>{(u.key===" "||u.key==="Enter")&&(u.preventDefault(),c())};return k.jsxs("div",{className:`toggle-switch-container ${o}`,title:a,children:[k.jsx("div",{className:`toggle-switch ${s} ${n?"checked":""} ${i?"disabled":""}`,onClick:c,onKeyDown:h,tabIndex:i?-1:0,role:"switch","aria-checked":n,"aria-label":t||a,"aria-disabled":i,children:k.jsx("div",{className:"toggle-track",children:k.jsx("div",{className:"toggle-thumb"})})}),t&&k.jsx("label",{className:"toggle-label",onClick:c,children:t})]})},sP=({value:n,onChange:e,options:t,placeholder:s="Select...",disabled:i=!1,className:a=""})=>{const[o,c]=Z.useState(!1),[h,u]=Z.useState(-1),[d,m]=Z.useState("down"),y=Z.useRef(null),p=Z.useRef(null),x=t.find(S=>S.value===n);Z.useEffect(()=>{const S=w=>{y.current&&!y.current.contains(w.target)&&(c(!1),u(-1))};return o&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[o]),Z.useLayoutEffect(()=>{if(o&&y.current){const w=y.current.getBoundingClientRect(),T=window.innerHeight,R=Math.min(t.length*36+16,200),E=T-w.bottom,D=w.top;E<R+8&&D>R+8?m("up"):m("down")}},[o,t.length]);const v=()=>{i||(c(!o),u(-1))},_=S=>{e(S),c(!1),u(-1)},A=S=>{if(!i)switch(S.key){case"Enter":case" ":S.preventDefault(),o&&h>=0?_(t[h].value):c(!o);break;case"Escape":c(!1),u(-1);break;case"ArrowDown":S.preventDefault(),o?u(w=>w<t.length-1?w+1:0):(c(!0),u(0));break;case"ArrowUp":S.preventDefault(),o?u(w=>w>0?w-1:t.length-1):(c(!0),u(t.length-1));break}};return k.jsxs("div",{ref:y,className:`modern-select-container ${a}`,children:[k.jsxs("div",{className:`modern-select ${o?"open":""} ${i?"disabled":""}`,onClick:v,onKeyDown:A,tabIndex:i?-1:0,role:"combobox","aria-expanded":o,"aria-haspopup":"listbox","aria-disabled":i,children:[k.jsx("span",{className:"modern-select-value",children:x?x.label:s}),k.jsx("div",{className:"modern-select-arrow",children:k.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:k.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o&&k.jsx("div",{ref:p,className:`modern-select-dropdown ${d==="up"?"dropdown-up":"dropdown-down"}`,role:"listbox",children:t.map((S,w)=>k.jsx("div",{className:`modern-select-option ${S.value===n?"selected":""} ${w===h?"focused":""}`,onClick:()=>_(S.value),role:"option","aria-selected":S.value===n,children:S.label},S.value))})]})},iP=({spineInstance:n,onAnimationChange:e})=>{const[t,s]=Z.useState(!0),[i,a]=Z.useState(!1),[o,c]=Z.useState(""),[h,u]=Z.useState([]),[d,m]=Z.useState(0);Z.useEffect(()=>{if(!n)return;const w=n.skeleton.data.animations.map(T=>T.name);return u(w),w.length>0&&(c(w[0]),y(w[0],!1)),()=>{}},[n]),Z.useEffect(()=>{n&&(t?n.state.timeScale=1:n.state.timeScale=0)},[t,n]);const y=(w,T=i)=>{n&&(n.state.setAnimation(d,w,T),c(w),s(!0),e&&e(w))},p=()=>{s(!t)},x=()=>{a(!i),o&&y(o,!i)},v=()=>{n&&(n.state.clearTrack(d),s(!1))},_=()=>{!n||!o||y(o)},A=()=>{if(!n||h.length===0)return;const w=h.indexOf(o),T=w>0?w-1:h.length-1;y(h[T])},S=()=>{if(!n||h.length===0)return;const w=h.indexOf(o),T=w<h.length-1?w+1:0;y(h[T])};return console.log("AnimationControls rendering:",{spineInstance:!!n,currentAnimation:o,animations:h.length,isPlaying:t,isLooping:i}),console.log("Rendering playback controls with buttons"),k.jsxs("div",{className:"animation-controls",children:[k.jsxs("div",{className:"playback-controls",children:[k.jsx(Wr,{icon:k.jsx(QD,{className:"flipped"}),onClick:A,tooltip:"Previous Animation"}),k.jsx(Wr,{icon:k.jsx(KD,{}),onClick:v,tooltip:"Stop"}),k.jsx(Wr,{icon:t?k.jsx($D,{}):k.jsx(WD,{}),onClick:p,tooltip:t?"Pause":"Play"}),k.jsx(Wr,{icon:k.jsx(JD,{}),onClick:_,tooltip:"Restart Animation"}),k.jsx(Wr,{icon:k.jsx(ZD,{}),onClick:S,tooltip:"Next Animation"})]}),k.jsxs("div",{className:"animation-settings",children:[k.jsx(tP,{checked:i,onChange:x,label:"Loop",tooltip:"Toggle animation looping"}),k.jsx(sP,{value:o,onChange:w=>y(w),options:h.map(w=>({value:w,label:w})),placeholder:"Select Animation"})]})]})};var nP=Hv();function up(){const n=Z.useRef(new Set),e=Z.useCallback(c=>{const h={commandPalette:!1,benchmarkInfo:!1};return!c||c==="#"||c.substring(1).split("&").forEach(d=>{d==="command-palette"?h.commandPalette=!0:d==="benchmark-info"?h.benchmarkInfo=!0:d.startsWith("benchmark-tab=")&&(h.benchmarkTab=d.split("=")[1],h.benchmarkInfo=!0)}),h},[]),t=Z.useCallback(c=>{const h=[];return c.commandPalette&&h.push("command-palette"),c.benchmarkInfo&&(c.benchmarkTab?h.push(`benchmark-tab=${c.benchmarkTab}`):h.push("benchmark-info")),h.length>0?`#${h.join("&")}`:""},[]),s=Z.useCallback(c=>{const u={...e(window.location.hash),...c};u.benchmarkInfo||delete u.benchmarkTab;const d=t(u);window.location.hash!==d&&(d?window.history.replaceState(null,"",d):window.history.replaceState(null,"",window.location.pathname+window.location.search))},[e,t]),i=Z.useCallback(()=>{window.history.replaceState(null,"",window.location.pathname+window.location.search)},[]),a=Z.useCallback(()=>e(window.location.hash),[e]),o=Z.useCallback(c=>(n.current.add(c),()=>{n.current.delete(c)}),[]);return Z.useEffect(()=>{const c=()=>{const h=e(window.location.hash);n.current.forEach(u=>u(h))};return window.addEventListener("hashchange",c),()=>{window.removeEventListener("hashchange",c)}},[e]),{updateHash:s,clearHash:i,getStateFromHash:a,onHashChange:o}}const St={BONE_WEIGHT:.15,MESH_WEIGHT:.25,CLIPPING_WEIGHT:.2,BLEND_MODE_WEIGHT:.15,CONSTRAINT_WEIGHT:.25,IK_WEIGHT:.2,TRANSFORM_WEIGHT:.15,PATH_WEIGHT:.25,PHYSICS_WEIGHT:.4,BONE_DEPTH_FACTOR:1.5,MESH_WEIGHTED_FACTOR:2,MESH_DEFORMED_FACTOR:1.5,IDEAL_BONE_COUNT:30,IDEAL_MESH_COUNT:15,IDEAL_VERTEX_COUNT:300,IDEAL_CLIPPING_COUNT:2,IDEAL_BLEND_MODE_COUNT:2,IK_CHAIN_LENGTH_FACTOR:1.3},Se=n=>typeof n=="string",Ml=()=>{let n,e;const t=new Promise((s,i)=>{n=s,e=i});return t.resolve=n,t.reject=e,t},Q1=n=>n==null?"":""+n,aP=(n,e,t)=>{n.forEach(s=>{e[s]&&(t[s]=e[s])})},rP=/###/g,Z1=n=>n&&n.indexOf("###")>-1?n.replace(rP,"."):n,J1=n=>!n||Se(n),Yl=(n,e,t)=>{const s=Se(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(J1(n))return{};const a=Z1(s[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return J1(n)?{}:{obj:n,k:Z1(s[i])}},ev=(n,e,t)=>{const{obj:s,k:i}=Yl(n,e,Object);if(s!==void 0||e.length===1){s[i]=t;return}let a=e[e.length-1],o=e.slice(0,e.length-1),c=Yl(n,o,Object);for(;c.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),c=Yl(n,o,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},oP=(n,e,t,s)=>{const{obj:i,k:a}=Yl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},oh=(n,e)=>{const{obj:t,k:s}=Yl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},lP=(n,e,t)=>{const s=oh(n,t);return s!==void 0?s:oh(e,t)},Nw=(n,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?Se(n[s])||n[s]instanceof String||Se(e[s])||e[s]instanceof String?t&&(n[s]=e[s]):Nw(n[s],e[s],t):n[s]=e[s]);return n},Ur=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const uP=n=>Se(n)?n.replace(/[&<>"'\/]/g,e=>cP[e]):n;class hP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const dP=[" ",",","?","!",";"],fP=new hP(20),mP=(n,e,t)=>{e=e||"",t=t||"";const s=dP.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(s.length===0)return!0;const i=fP.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(n);if(!a){const o=n.indexOf(t);o>0&&!i.test(n.substring(0,o))&&(a=!0)}return a},Cg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const s=e.split(t);let i=n;for(let a=0;a<s.length;){if(!i||typeof i!="object")return;let o,c="";for(let h=a;h<s.length;++h)if(h!==a&&(c+=t),c+=s[h],o=i[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&h<s.length-1)continue;a+=h-a+1;break}i=o}return i},Ql=n=>n==null?void 0:n.replace("_","-"),gP={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,s;(s=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||s.call(t,console,e)}};class lh{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||gP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,i){return i&&!this.debug?null:(Se(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new lh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new lh(this.logger,e)}}var Vi=new lh;class zh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(t)||0;this.observers[s].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...t])})}}class tv extends zh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,i={}){var u,d;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],s&&(Array.isArray(s)?c.push(...s):Se(s)&&a?c.push(...s.split(a)):c.push(s)));const h=oh(this.data,c);return!h&&!t&&!s&&e.indexOf(".")>-1&&(e=c[0],t=c[1],s=c.slice(2).join(".")),h||!o||!Se(s)?h:Cg((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[t],s,a)}addResource(e,t,s,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];s&&(c=c.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),ev(this.data,c,i),a.silent||this.emit("added",e,t,s,i)}addResources(e,t,s,i={silent:!1}){for(const a in s)(Se(s[a])||Array.isArray(s[a]))&&this.addResource(e,t,a,s[a],{silent:!0});i.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,i,a,o={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=s,s=t,t=c[1]),this.addNamespaces(t);let h=oh(this.data,c)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?Nw(h,s,a):h={...h,...s},ev(this.data,c,h),o.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var Lw={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,i){return n.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,t,s,i))??e}),e}};const Iw=Symbol("i18next/PATH_KEY");function pP(){const n=[],e=Object.create(null);let t;return e.get=(s,i)=>{var a;return(a=t==null?void 0:t.revoke)==null||a.call(t),i===Iw?n:(n.push(i),t=Proxy.revocable(s,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Ag(n,e){const{[Iw]:t}=n(pP());return t.join((e==null?void 0:e.keySeparator)??".")}const sv={},iv=n=>!Se(n)&&typeof n!="boolean"&&typeof n!="number";class ch extends zh{constructor(e,t={}){super(),aP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Vi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(e==null)return!1;const i=this.resolve(e,s);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!mP(e,s,i);if(o&&!c){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:Se(a)?[a]:a};const u=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return{key:e,namespaces:Se(a)?[a]:a}}translate(e,t,s){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Ag(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:h}=this.extractFromKey(e[e.length-1],i),u=h[h.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const m=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return y?a?{res:`${u}${d}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:c;const p=this.resolve(e,i);let x=p==null?void 0:p.res;const v=(p==null?void 0:p.usedKey)||c,_=(p==null?void 0:p.exactUsedKey)||c,A=["[object Number]","[object Function]","[object RegExp]"],S=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,T=i.count!==void 0&&!Se(i.count),R=ch.hasDefaultValue(i),E=T?this.pluralResolver.getSuffix(m,i.count,i):"",D=i.ordinal&&T?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",B=T&&!i.ordinal&&i.count===0,O=B&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${E}`]||i[`defaultValue${D}`]||i.defaultValue;let L=x;w&&!x&&R&&(L=O);const z=iv(L),H=Object.prototype.toString.apply(L);if(w&&L&&z&&A.indexOf(H)<0&&!(Se(S)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,L,{...i,ns:h}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(p.res=X,p.usedParams=this.getUsedParamsDetails(i),p):X}if(o){const X=Array.isArray(L),j=X?[]:{},W=X?_:v;for(const I in L)if(Object.prototype.hasOwnProperty.call(L,I)){const U=`${W}${o}${I}`;R&&!x?j[I]=this.translate(U,{...i,defaultValue:iv(O)?O[I]:void 0,joinArrays:!1,ns:h}):j[I]=this.translate(U,{...i,joinArrays:!1,ns:h}),j[I]===U&&(j[I]=L[I])}x=j}}else if(w&&Se(S)&&Array.isArray(x))x=x.join(S),x&&(x=this.extendTranslation(x,e,i,s));else{let X=!1,j=!1;!this.isValidLookup(x)&&R&&(X=!0,x=O),this.isValidLookup(x)||(j=!0,x=c);const I=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:x,U=R&&O!==x&&this.options.updateMissing;if(j||X||U){if(this.logger.log(U?"updateKey":"missingKey",m,u,c,U?O:x),o){const K=this.resolve(c,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let K=0;K<se.length;K++)ne.push(se[K]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(i.lng||this.language):ne.push(i.lng||this.language);const F=(K,ae,ee)=>{var ue;const ce=R&&ee!==x?ee:I;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,ae,ce,U,i):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(K,u,ae,ce,U,i),this.emit("missingKey",K,u,ae,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?ne.forEach(K=>{const ae=this.pluralResolver.getSuffixes(K,i);B&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ee=>{F([K],c+ee,i[`defaultValue${ee}`]||O)})}):F(ne,c,O))}x=this.extendTranslation(x,e,i,p,s),j&&x===c&&this.options.appendNamespaceToMissingKey&&(x=`${u}${d}${c}`),(j||X)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${c}`:c,X?x:void 0,i))}return a?(p.res=x,p.usedParams=this.getUsedParamsDetails(i),p):x}extendTranslation(e,t,s,i,a){var h,u;if((h=this.i18nFormat)!=null&&h.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=Se(e)&&(((u=s==null?void 0:s.interpolation)==null?void 0:u.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(d){const p=e.match(this.interpolator.nestingRegexp);m=p&&p.length}let y=s.replace&&!Se(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,s.lng||this.language||i.usedLng,s),d){const p=e.match(this.interpolator.nestingRegexp),x=p&&p.length;m<x&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,c=Se(o)?[o]:o;return e!=null&&(c!=null&&c.length)&&s.applyPostProcessor!==!1&&(e=Lw.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,i,a,o,c;return Se(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(h,t),d=u.key;i=d;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const y=t.count!==void 0&&!Se(t.count),p=y&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(Se(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(_=>{var A,S;this.isValidLookup(s)||(c=_,!sv[`${v[0]}-${_}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((S=this.utils)!=null&&S.hasLoadedNamespace(c))&&(sv[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(w=>{var E;if(this.isValidLookup(s))return;o=w;const T=[d];if((E=this.i18nFormat)!=null&&E.addLookupKeys)this.i18nFormat.addLookupKeys(T,d,w,_,t);else{let D;y&&(D=this.pluralResolver.getSuffix(w,t.count,t));const B=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(t.ordinal&&D.indexOf(O)===0&&T.push(d+D.replace(O,this.options.pluralSeparator)),T.push(d+D),p&&T.push(d+B)),x){const L=`${d}${this.options.contextSeparator||"_"}${t.context}`;T.push(L),y&&(t.ordinal&&D.indexOf(O)===0&&T.push(L+D.replace(O,this.options.pluralSeparator)),T.push(L+D),p&&T.push(L+B))}}let R;for(;R=T.pop();)this.isValidLookup(s)||(a=R,s=this.getResource(w,_,R,t))}))})}),{res:s,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,s,i):this.resourceStore.getResource(e,t,s,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Se(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class nv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vi.create("languageUtils")}getScriptPartFromCode(e){if(e=Ql(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ql(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Se(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Se(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Se(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Se(e)&&a(this.formatLanguageCode(e)),s.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const av={zero:0,one:1,two:2,few:3,many:4,other:5},rv={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class yP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Vi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=Ql(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),rv;if(!e.match(/-|_/))return rv;const h=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(h,t)}return this.pluralRulesCache[a]=o,o}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((i,a)=>av[i]-av[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const ov=(n,e,t,s=".",i=!0)=>{let a=lP(n,e,t);return!a&&i&&Se(t)&&(a=Cg(n,t,s),a===void 0&&(a=Cg(e,t,s))),a},Nm=n=>n.replace(/\$/g,"$$$$");class xP{constructor(e={}){var t;this.logger=Vi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:c,suffixEscaped:h,formatSeparator:u,unescapeSuffix:d,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:p,nestingSuffix:x,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:A,alwaysFormat:S}=e.interpolation;this.escape=t!==void 0?t:uP,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Ur(a):o||"{{",this.suffix=c?Ur(c):h||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=y?Ur(y):p||Ur("$t("),this.nestingSuffix=x?Ur(x):v||Ur(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=A||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>(t==null?void 0:t.source)===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,i){var p;let a,o,c;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=x=>{if(x.indexOf(this.formatSeparator)<0){const S=ov(t,h,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,s,{...i,...t,interpolationkey:x}):S}const v=x.split(this.formatSeparator),_=v.shift().trim(),A=v.join(this.formatSeparator).trim();return this.format(ov(t,h,_,this.options.keySeparator,this.options.ignoreJSONStructure),A,s,{...i,...t,interpolationkey:_})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Nm(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Nm(this.escape(x)):Nm(x)}].forEach(x=>{for(c=0;a=x.regex.exec(e);){const v=a[1].trim();if(o=u(v),o===void 0)if(typeof d=="function"){const A=d(e,a,i);o=Se(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(m){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!Se(o)&&!this.useRawValueToEscape&&(o=Q1(o));const _=x.safeValue(o);if(e=e.replace(a[0],_),m?(x.regex.lastIndex+=o.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,s={}){let i,a,o;const c=(h,u)=>{const d=this.nestingOptionsSeparator;if(h.indexOf(d)<0)return h;const m=h.split(new RegExp(`${d}[ ]*{`));let y=`{${m[1]}`;h=m[0],y=this.interpolate(y,o);const p=y.match(/'/g),x=y.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!x||x.length%2!==0)&&(y=y.replace(/'/g,'"'));try{o=JSON.parse(y),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,v),`${h}${d}${y}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,h};for(;i=this.nestingRegexp.exec(e);){let h=[];o={...s},o=o.replace&&!Se(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(h=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),a=t(c.call(this,i[1].trim(),o),o),a&&i[0]===e&&!Se(a))return a;Se(a)||(a=Q1(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),h.length&&(a=h.reduce((d,m)=>this.format(d,m,s.lng,{...s,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const bP=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(o=>{if(o){const[c,...h]=o.split(":"),u=h.join(":").trim().replace(/^'+|'+$/g,""),d=c.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},lv=n=>{const e={};return(t,s,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=s+JSON.stringify(a);let c=e[o];return c||(c=n(Ql(s),i),e[o]=c),c(t)}},vP=n=>(e,t,s)=>n(Ql(t),s)(e);class _P{constructor(e={}){this.logger=Vi.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?lv:vP;this.formats={number:s((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return c=>o.format(c)}),currency:s((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>o.format(c)}),datetime:s((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return c=>o.format(c)}),relativetime:s((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return c=>o.format(c,a.range||"day")}),list:s((i,a)=>{const o=new Intl.ListFormat(i,{...a});return c=>o.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=lv(t)}format(e,t,s,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(h=>h.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,h)=>{var m;const{formatName:u,formatOptions:d}=bP(h);if(this.formats[u]){let y=c;try{const p=((m=i==null?void 0:i.formatParams)==null?void 0:m[i.interpolationkey])||{},x=p.locale||p.lng||i.locale||i.lng||s;y=this.formats[u](c,x,{...d,...i,...p})}catch(p){this.logger.warn(p)}return y}else this.logger.warn(`there was no format function for ${u}`);return c},e)}}const wP=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class SP extends zh{constructor(e,t,s,i={}){var a,o;super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Vi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,s,i.backend,i)}queueLoad(e,t,s,i){const a={},o={},c={},h={};return e.forEach(u=>{let d=!0;t.forEach(m=>{const y=`${u}|${m}`;!s.reload&&this.store.hasResourceBundle(u,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?o[y]===void 0&&(o[y]=!0):(this.state[y]=1,d=!1,o[y]===void 0&&(o[y]=!0),a[y]===void 0&&(a[y]=!0),h[m]===void 0&&(h[m]=!0)))}),d||(c[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(h)}}loaded(e,t,s){const i=e.split("|"),a=i[0],o=i[1];t&&this.emit("failedLoading",a,o,t),!t&&s&&this.store.addResourceBundle(a,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const c={};this.queue.forEach(h=>{oP(h.loaded,[a],o),wP(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(u=>{c[u]||(c[u]={});const d=h.loaded[u];d.length&&d.forEach(m=>{c[u][m]===void 0&&(c[u][m]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(h=>!h.done)}read(e,t,s,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:i,wait:a,callback:o});return}this.readingCalls++;const c=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,i+1,a*2,o)},a);return}o(u,d)},h=this.backend[s].bind(this.backend);if(h.length===2){try{const u=h(e,t);u&&typeof u.then=="function"?u.then(d=>c(null,d)).catch(c):c(null,u)}catch(u){c(u)}return}return h(e,t,c)}prepareLoading(e,t,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Se(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Se(t)&&(t=[t]);const a=this.queueLoad(e,t,s,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),i=s[0],a=s[1];this.read(i,a,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,o),!o&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,c),this.loaded(e,o,c)})}saveMissing(e,t,s,i,a,o={},c=()=>{}){var h,u,d,m,y;if((u=(h=this.services)==null?void 0:h.utils)!=null&&u.hasLoadedNamespace&&!((m=(d=this.services)==null?void 0:d.utils)!=null&&m.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((y=this.backend)!=null&&y.create){const p={...o,isUpdate:a},x=this.backend.create.bind(this.backend);if(x.length<6)try{let v;x.length===5?v=x(e,t,s,i,p):v=x(e,t,s,i),v&&typeof v.then=="function"?v.then(_=>c(null,_)).catch(c):c(null,v)}catch(v){c(v)}else x(e,t,s,i,c,p)}!e||!e[0]||this.store.addResource(e[0],t,s,i)}}}const cv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Se(n[1])&&(e.defaultValue=n[1]),Se(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),uv=n=>{var e,t;return Se(n.ns)&&(n.ns=[n.ns]),Se(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Se(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Vu=()=>{},CP=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Zl extends zh{constructor(e={},t){if(super(),this.options=uv(e),this.services={},this.logger=Vi,this.modules={external:[]},CP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Se(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=cv();this.options={...s,...this.options,...uv(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Vi.init(i(this.modules.logger),this.options):Vi.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=_P;const d=new nv(this.options);this.store=new tv(this.options.resources,this.options);const m=this.services;m.logger=Vi,m.resourceStore=this.store,m.languageUtils=d,m.pluralResolver=new yP(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=i(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new xP(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new SP(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(p,...x)=>{this.emit(p,...x)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new ch(this.services,this.options),this.translator.on("*",(p,...x)=>{this.emit(p,...x)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Vu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const c=Ml(),h=()=>{const u=(d,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),t(d,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),c}loadResources(e,t=Vu){var a,o;let s=t;const i=Se(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const c=[],h=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(m=>{m!=="cimode"&&c.indexOf(m)<0&&c.push(m)})};i?h(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>h(d)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,u=>h(u)),this.services.backendConnector.load(c,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(e,t,s){const i=Ml();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=Vu),this.services.backendConnector.reload(e,t,a=>{i.resolve(),s(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lw.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=Ml();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,h)=>{h?this.isLanguageChangingTo===e&&(i(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,s.resolve((...u)=>this.t(...u)),t&&t(c,(...u)=>this.t(...u))},o=c=>{var d,m;!e&&!c&&this.services.languageDetector&&(c=[]);const h=Se(c)?c:c&&c[0],u=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(Se(c)?[c]:c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(m=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||m.call(d,u)),this.loadResources(u,y=>{a(y,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,t,s){const i=(a,o,...c)=>{let h;typeof o!="object"?h=this.options.overloadTranslationOptionHandler([a,o].concat(c)):h={...o},h.lng=h.lng||i.lng,h.lngs=h.lngs||i.lngs,h.ns=h.ns||i.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||s||i.keyPrefix);const u=this.options.keySeparator||".";let d;return h.keyPrefix&&Array.isArray(a)?d=a.map(m=>(typeof m=="function"&&(m=Ag(m,{...this.options,...o})),`${h.keyPrefix}${u}${m}`)):(typeof a=="function"&&(a=Ag(a,{...this.options,...o})),d=h.keyPrefix?`${h.keyPrefix}${u}${a}`:a),this.t(d,h)};return Se(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=s,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(c,h)=>{const u=this.services.backendConnector.state[`${c}|${h}`];return u===-1||u===0||u===2};if(t.precheck){const c=t.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!i||o(a,e)))}loadNamespaces(e,t){const s=Ml();return this.options.ns?(Se(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),t&&t(i)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Ml();Se(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const c=o.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((a=this.services)==null?void 0:a.languageUtils)||new nv(cv());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Zl(e,t)}cloneInstance(e={},t=Vu){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Zl(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const c=Object.keys(this.store.data).reduce((h,u)=>(h[u]={...this.store.data[u]},h[u]=Object.keys(h[u]).reduce((d,m)=>(d[m]={...h[u][m]},d),h[u]),h),{});a.store=new tv(c,i),a.services.resourceStore=a.store}return a.translator=new ch(a.services,i),a.translator.on("*",(c,...h)=>{a.emit(c,...h)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ot=Zl.createInstance();ot.createInstance=Zl.createInstance;ot.createInstance;ot.dir;ot.init;ot.loadResources;ot.reloadResources;ot.use;ot.changeLanguage;ot.getFixedT;ot.t;ot.exists;ot.setDefaultNamespace;ot.hasLoadedNamespace;ot.loadNamespaces;ot.loadLanguages;const{slice:AP,forEach:TP}=[];function MP(n){return TP.call(AP.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function kP(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const hv=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,EP=function(n,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!hv.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!hv.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a},dv={create(n,e,t,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),s&&(i.domain=s),document.cookie=EP(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let s=0;s<t.length;s++){let i=t[s];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var RP={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return dv.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:s,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&dv.create(t,n,s,i,a)}},DP={name:"querystring",lookup(n){var s;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let c=0;c<o.length;c++){const h=o[c].indexOf("=");h>0&&o[c].substring(0,h)===e&&(t=o[c].substring(h+1))}}return t}},PP={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const c=o.split("&");for(let h=0;h<c.length;h++){const u=c[h].indexOf("=");u>0&&c[h].substring(0,u)===e&&(s=c[h].substring(u+1))}}if(s)return s;if(!s&&t>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?(i=c[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return s}};let Vr=null;const fv=()=>{if(Vr!==null)return Vr;try{if(Vr=typeof window<"u"&&window.localStorage!==null,!Vr)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Vr=!1}return Vr};var BP={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&fv())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&fv()&&window.localStorage.setItem(t,n)}};let Hr=null;const mv=()=>{if(Hr!==null)return Hr;try{if(Hr=typeof window<"u"&&window.sessionStorage!==null,!Hr)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Hr=!1}return Hr};var OP={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&mv())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&mv()&&window.sessionStorage.setItem(t,n)}},NP={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:s,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);s&&e.push(s),i&&e.push(i)}return e.length>0?e:void 0}},LP={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},IP={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},zP={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,s=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[t]}};let zw=!1;try{document.cookie,zw=!0}catch{}const Fw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zw||Fw.splice(1,1);const FP=()=>({order:Fw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class jw{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=MP(t,this.options||{},FP()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(RP),this.addDetector(DP),this.addDetector(BP),this.addDetector(OP),this.addDetector(NP),this.addDetector(LP),this.addDetector(IP),this.addDetector(zP),this.addDetector(PP)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(s=>{if(this.detectors[s]){let i=this.detectors[s].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(s=>s!=null&&!kP(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}jw.type="languageDetector";const jP={1001:"File read error: {0}",1002:"Image load error {0}: {1}",1003:"JSON parse error for skeleton file {0}: {1}",1004:"Unsupported Spine version: {0}. Maximum supported version: 4.1",1005:"Incorrect structure in skeleton JSON file: {0}",1006:"Error reading binary skeleton file: {0}",1007:"Error reading atlas file: {0}",1008:"Invalid atlas file structure: {0}",1009:"Texture not found: {0}",1010:"Error creating atlas: {0}",1011:"Skeleton contains no bones",1012:"Skeleton parse error: {0}",1013:"Error creating Spine instance: {0}",1014:"Critical error creating asset: {0}",1015:"File processing error {0}: {1}",1016:"Missing skeleton file (.json or .skel). Please upload the skeleton file along with the atlas.",1017:"Missing atlas file (.atlas). Please upload it along with the atlas.",failedToInitialize:"Failed to initialize graphics: {0}",noFilesDropped:"No files were dropped",noValidFiles:"No valid files found in the dropped items",processingError:"Error processing dropped files: {0}",loadingError:"Error loading Spine files: {0}",failedToLoadFromUrls:"Failed to load from URLs: {{error}}"},YP={dropArea:"Drop Spine files or folders here (JSON, Atlas, and Images)",loading:"Loading...",helpText:"Ctrl+K opens a panel",close:"Close",loadFromUrl:"Load from URL",loadingFromUrl:"Loading from URL...",urlHelp:"You can also load Spine files from URL using the button above or by adding ?json=<url>&atlas=<url> to the URL",cancel:"Cancel",load:"Load"},UP={categories:{recentlyUsed:"Recently Used",debug:"Debug Commands",animation:"Animation Commands",skin:"Skin Commands",performance:"Performance Commands",language:"Language Commands",file:"File Commands"},debug:{showAttachmentDebug:"Show Attachment Debug",showAttachmentDebugDescription:"Display attachment debug visualization showing attachment boundaries and properties",hideAttachmentDebug:"Hide Attachment Debug",hideAttachmentDebugDescription:"Hide attachment debug visualization",showMeshDebug:"Show Mesh Debug",showMeshDebugDescription:"Display mesh debug visualization showing vertices, triangles, and mesh structure",hideMeshDebug:"Hide Mesh Debug",hideMeshDebugDescription:"Hide mesh debug visualization",showIkDebug:"Show IK Controls Debug",showIkDebugDescription:"Display IK controls debug visualization showing constraint targets and bone chains",hideIkDebug:"Hide IK Controls Debug",hideIkDebugDescription:"Hide IK controls debug visualization",showPhysicsDebug:"Show Physics Debug",showPhysicsDebugDescription:"Display physics debug visualization showing physics constraints and simulation data",hidePhysicsDebug:"Hide Physics Debug",hidePhysicsDebugDescription:"Hide physics debug visualization"},file:{loadFromUrl:"Load Spine from URL",loadFromUrlDescription:"Load Spine files from remote URLs"},animation:{playPause:"Play/Pause Animation",playPauseDescription:"Toggle animation playback",stop:"Sto                      p Animation",stopDescription:"Stop current animation",restart:"Restart Animation",restartDescription:"Restart current animation from beginning"},skin:{switchTo:"Switch to {0}",switchToDescription:"Apply {0} skin"},performance:{showBenchmark:"Show Benchmark Info",showBenchmarkDescription:"Show performance benchmark panel"},help:{documentation:"Open Documentation",documentationDescription:"Open GitHub README documentation"},language:{switchTo:"Switch to {0}",switchToDescription:"Change interface language to {0}"},keywords:{animation:"animation",play:"play",pause:"pause",toggle:"toggle",stop:"stop",restart:"restart",reset:"reset",skin:"skin",performance:"performance",benchmark:"benchmark",info:"info",stats:"stats",show:"show",help:"help",documentation:"documentation",readme:"readme",github:"github",language:"language",switch:"switch"}},VP={placeholder:"Type a command or search...",noCommands:"No commands found",tryDifferent:"Try a different search term",shortcuts:{navigate:"to navigate",select:"to select",close:"to close"}},HP={title:"Spine Benchmark Analysis",close:"Close",tabs:{summary:"Summary",meshAnalysis:"Mesh Analysis",clipping:"Clipping",blendModes:"Blend Modes",skeletonTree:"Skeleton Tree",physicsAnalysis:"Physics/Constraints"},content:{summaryTitle:"Benchmark Summary",meshAnalysisTitle:"Mesh Analysis",clippingTitle:"Clipping Analysis",blendModesTitle:"Blend Mode Analysis",skeletonTreeTitle:"Skeleton Tree",noData:"No {0} data available",selectTab:"Select a tab to view benchmark information"}},XP={spineVersion:"Warning: This file uses Spine 4.1. The benchmark is designed for Spine 4.2. Version will be adjusted automatically."},GP={name:"English",selector:"Language",modal:{title:"Select Language"},changeLanguage:"Change Language",changeLanguageDescription:"Open language selection modal"},qP=JSON.parse('{"summary":{"title":"Spine Performance Analysis","skeletonLabel":"Skeleton: {{name}}","performanceLabel":"{{rating}} Performance","componentScoresTitle":"Component Scores","skeletonStatsTitle":"Skeleton Statistics","optimizationTitle":"Optimization Recommendations","performanceExplanationTitle":"Performance Score Interpretation","components":{"boneStructure":"Bone Structure","meshComplexity":"Mesh Complexity","clippingMasks":"Clipping Masks","blendModes":"Blend Modes","constraints":"Constraints"},"tableHeaders":{"component":"Component","score":"Score","weight":"Weight","meter":"Meter","scoreRange":"Score Range","rating":"Rating","interpretation":"Interpretation"},"statistics":{"totalBones":"Total Bones","maxBoneDepth":"Max Bone Depth","totalMeshes":"Total Meshes","totalVertices":"Total Vertices","clippingMasks":"Clipping Masks","nonNormalBlendModes":"Non-Normal Blend Modes","totalConstraints":"Total Constraints","animations":"Animations","skins":"Skins"},"recommendations":{"reduceBoneDepth":"Reduce bone hierarchy depth by flattening the structure where possible.","reduceTotalBones":"Consider reducing the total number of bones by simplifying the skeleton.","reduceVertices":"Reduce the total number of vertices across all meshes.","minimizeDeformedMeshes":"Minimize the number of deformed meshes, especially those with high vertex counts.","reduceWeightedMeshes":"Reduce the number of meshes with bone weights, as they require more calculations.","limitClippingMasks":"Limit the number of clipping masks as they significantly impact performance.","simplifyComplexMasks":"Simplify complex clipping masks to use fewer vertices (4 or less is optimal).","reduceNonNormalBlendModes":"Reduce the number of non-normal blend modes to minimize render state changes.","minimizeAdditiveBlendModes":"Minimize the use of additive blend modes as they are particularly expensive.","reducePhysicsConstraints":"Physics constraints are particularly expensive - consider reducing their number or complexity.","simplifyIkConstraints":"Simplify IK constraints by reducing chain length or number of affected bones.","optimizePathConstraints":"Optimize path constraints by simplifying paths or reducing the number of constrained bones."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Excellent","description":"Suitable for all platforms and continuous animations"},"good":{"range":"70-84","rating":"Good","description":"Works well on most platforms but may have issues on low-end devices"},"moderate":{"range":"55-69","rating":"Moderate","description":"May cause performance dips, especially with multiple instances"},"poor":{"range":"40-54","rating":"Poor","description":"Performance issues likely on most devices"}}},"scores":{"ratings":{"excellent":"Excellent","good":"Good","moderate":"Moderate","poor":"Poor","veryPoor":"Very Poor"},"interpretations":{"excellent":"Suitable for all platforms and continuous animations","good":"Works well on most platforms but may have issues on low-end devices","moderate":"May cause performance dips, especially with multiple instances","poor":"Performance issues likely on most devices","veryPoor":"Significant performance issues on all devices"}},"mesh":{"title":"Mesh Statistics","statistics":{"totalMeshes":"Total meshes: {{count}}","totalVertices":"Total vertices: {{count}}","meshesWithDeformation":"Meshes with deformation: {{count}}","meshesWithBoneWeights":"Meshes with bone weights: {{count}}","meshesWithParentMesh":"Meshes with parent mesh: {{count}}"},"performanceScore":{"title":"Mesh Performance Score: {{score}}/100"},"formula":{"title":"Performance Impact Formula:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Slot","vertices":"Vertices","deformed":"Deformed","boneWeights":"Bone Weights","hasParentMesh":"Has Parent Mesh"},"values":{"yes":"Yes","no":"No"},"notes":{"title":"Mesh Performance Impact:","vertexCount":"Vertex Count: Each vertex requires memory and processing time. High vertex counts (>50) have significant impact.","deformation":"Deformation: Deforming meshes requires extra calculations per frame - {{factor}}× more costly than static meshes.","boneWeights":"Bone Weights: Each bone weight adds matrix multiplication operations - {{factor}}× more impact per weighted vertex.","optimizationTip":"Optimization Tip: Use fewer vertices for meshes that deform or have bone weights. Consider using Region attachments for simple shapes."}},"clipping":{"title":"Clipping Masks","statistics":{"totalMasks":"Total masks: {{count}}","totalVerticesInMasks":"Total vertices in masks: {{count}}","complexMasks":"Complex masks (>4 vertices): {{count}}"},"performanceScore":{"title":"Clipping Performance Score: {{score}}/100"},"formula":{"title":"Performance Impact Formula:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Slot Name","vertexCount":"Vertex Count","status":"Status"},"status":{"optimal":"Optimal","acceptable":"Acceptable","highVertexCount":"High Vertex Count"},"noMasks":"No clipping masks found in this skeleton.","notes":{"title":"Notes on Clipping Masks:","highImpact":"High Impact: Clipping masks are one of the most expensive operations in Spine rendering","vertexCount":"Vertex Count: Each vertex in a mask increases the computational cost","optimalConfiguration":"Optimal Configuration: Use triangular or quadrilateral masks (3-4 vertices) whenever possible","gpuCost":"GPU Cost: Each clipping mask requires additional GPU rendering passes (stencil buffer operations)","recommendation":"Recommendation: Limit to 2-3 masks per skeleton, with fewer than 6 vertices each"}},"blendMode":{"title":"Blend Modes","statistics":{"nonNormalBlendModes":"Non-normal blend modes: {{count}}","additiveBlendModes":"Additive blend modes: {{count}}","multiplyBlendModes":"Multiply blend modes: {{count}}"},"performanceScore":{"title":"Blend Mode Performance Score: {{score}}/100"},"formula":{"title":"Performance Impact Formula:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Blend Mode","count":"Count","slotName":"Slot Name"},"slotsWithNonNormalTitle":"Slots with Non-Normal Blend Modes:","notes":{"title":"Notes on Blend Modes:","normalBlendMode":"Normal Blend Mode: Most efficient, requires a single rendering pass","nonNormalBlendModes":"Non-Normal Blend Modes: Each requires a separate render pass or shader switch","renderingCost":"Rendering Cost: Each blend mode change forces a renderer \\"flush\\" operation","additiveBlend":"Additive Blend: Higher cost than normal blend due to blending calculations","multiplyBlend":"Multiply Blend: Similar to additive, requires additional GPU operations","recommendation":"Recommendation: Limit to 2 non-normal blend modes per skeleton"}},"skeleton":{"title":"Skeleton Structure","statistics":{"totalBones":"Total bones: {{count}}","rootBones":"Root bones: {{count}}","maxDepth":"Max depth: {{depth}}"},"performanceScore":{"title":"Bone Structure Performance Score: {{score}}/100"},"formula":{"title":"Performance Impact Formula:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Notes on Bone Structure:","boneCount":"Bone Count: Each bone requires matrix computations every frame","hierarchyDepth":"Hierarchy Depth: Deep hierarchies increase transformation complexity exponentially","recommendation":"Recommendation: Keep bone hierarchies under 5 levels deep when possible","optimalStructure":"Optimal Structure: Flat hierarchies with few parent-child relationships perform better"}},"physics":{"title":"Constraints Analysis","statistics":{"totalConstraints":"Total constraints: {{count}}"},"performanceScore":{"title":"Constraint Performance Score: {{score}}/100"},"formula":{"title":"Performance Impact Formula:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Where constraintImpact is a weighted sum of IK, transform, path, and physics constraint impacts"},"impactBreakdown":{"title":"Impact Breakdown:","tableHeaders":{"constraintType":"Constraint Type","count":"Count","impactLevel":"Impact Level","weightedImpact":"Weighted Impact"}},"constraintTypes":{"ik":"IK Constraints","transform":"Transform Constraints","path":"Path Constraints","physics":"Physics Constraints"},"constraintDetails":{"ikConstraints":{"title":"IK Constraints","tableHeaders":{"name":"Name","target":"Target","bones":"Bones","mix":"Mix","status":"Status"}},"transformConstraints":{"title":"Transform Constraints","tableHeaders":{"name":"Name","target":"Target","bones":"Bones","properties":"Properties","status":"Status"}},"pathConstraints":{"title":"Path Constraints","tableHeaders":{"name":"Name","target":"Target","bones":"Bones","modes":"Modes","status":"Status"}},"physicsConstraints":{"title":"Physics Constraints","tableHeaders":{"name":"Name","bone":"Bone","properties":"Properties","parameters":"Parameters","status":"Status"}}},"status":{"active":"Active","inactive":"Inactive"},"properties":{"x":"X","y":"Y","rotation":"Rotation","scale":"Scale","shear":"Shear","rotate":"Rotate","scaleX":"ScaleX","scaleY":"ScaleY","shearY":"ShearY"},"modes":{"rotate":{"tangent":"Tangent","chain":"Chain","chainScale":"ChainScale"},"spacing":{"length":"Length","fixed":"Fixed","percent":"Percent","proportional":"Proportional"}},"parameters":{"inertia":"Inertia","strength":"Strength","damping":"Damping","wind":"Wind","gravity":"Gravity"},"noConstraints":"No constraints found in this skeleton.","notes":{"title":"Notes on Constraints:","ikConstraints":"IK Constraints: Cost increases with bone chain length and iteration count","physicsConstraints":"Physics Constraints: Highest performance impact, especially with multiple affected properties","pathConstraints":"Path Constraints: Complex path curves and ChainScale rotate mode are more expensive","transformConstraints":"Transform Constraints: Each affected property (position, rotation, scale) adds calculation overhead","recommendation":"Recommendation: Use constraints sparingly and with minimal bone chains when possible"}}}'),WP={loadedFromUrl:"Successfully loaded Spine from URL"},$P={error:jP,ui:YP,commands:UP,commandPalette:VP,infoPanel:HP,warnings:XP,language:GP,analysis:qP,success:WP},KP={1001:"Ошибка чтения файла: {0}",1002:"Ошибка загрузки изображения {0}: {1}",1003:"Ошибка парсинга JSON файла скелета {0}: {1}",1004:"Неподдерживаемая версия Spine: {0}. Максимальная поддерживаемая версия: 4.1",1005:"Некорректная структура JSON файла скелета: {0}",1006:"Ошибка чтения бинарного файла скелета: {0}",1007:"Ошибка чтения файла атласа: {0}",1008:"Некорректная структура файла атласа: {0}",1009:"Текстура не найдена: {0}",1010:"Ошибка создания атласа: {0}",1011:"Скелет не содержит костей",1012:"Ошибка парсинга скелета: {0}",1013:"Ошибка создания экземпляра Spine: {0}",1014:"Критическая ошибка при создании ассета: {0}",1015:"Произошла ошибка при обработке файла {0}: {1}",1016:"Отсутствует файл скелета (.json или .skel). Загрузите файл скелета вместе с атласом.",1017:"Отсутствует атлас файл (.atlas). Загрузите его вместе со скелетом.",failedToInitialize:"Не удалось инициализировать графику: {0}",noFilesDropped:"Файлы не были перетащены",noValidFiles:"В перетащенных элементах не найдено допустимых файлов",processingError:"Ошибка обработки перетащенных файлов: {0}",loadingError:"Ошибка загрузки файлов Spine: {0}"},QP={dropArea:"Перетащите файлы или папки Spine сюда (JSON, Atlas и изображения)",loading:"Загрузка...",helpText:"Ctrl+K открывает панель",close:"Закрыть"},ZP={categories:{recentlyUsed:"Недавно использованные",debug:"Команды отладки",animation:"Команды анимации",skin:"Команды скинов",performance:"Команды производительности",language:"Команды языка"},debug:{showAttachmentDebug:"Показать отладку вложений",showAttachmentDebugDescription:"Отобразить визуализацию отладки вложений, показывающую границы и свойства вложений",hideAttachmentDebug:"Скрыть отладку вложений",hideAttachmentDebugDescription:"Скрыть визуализацию отладки вложений",showMeshDebug:"Показать отладку сетки",showMeshDebugDescription:"Отобразить визуализацию отладки сетки, показывающую вершины, треугольники и структуру сетки",hideMeshDebug:"Скрыть отладку сетки",hideMeshDebugDescription:"Скрыть визуализацию отладки сетки",showIkDebug:"Показать отладку IK контролов",showIkDebugDescription:"Отобразить визуализацию отладки IK контролов, показывающую цели ограничений и цепи костей",hideIkDebug:"Скрыть отладку IK контролов",hideIkDebugDescription:"Скрыть визуализацию отладки IK контролов",showPhysicsDebug:"Показать отладку физики",showPhysicsDebugDescription:"Отобразить визуализацию отладки физики, показывающую физические ограничения и данные симуляции",hidePhysicsDebug:"Скрыть отладку физики",hidePhysicsDebugDescription:"Скрыть визуализацию отладки физики"},animation:{playPause:"Воспроизвести/Пауза",playPauseDescription:"Переключить воспроизведение анимации",stop:"Остановить анимацию",stopDescription:"Остановить текущую анимацию",restart:"Перезапустить анимацию",restartDescription:"Перезапустить текущую анимацию с начала"},skin:{switchTo:"Переключиться на {0}",switchToDescription:"Применить скин {0}"},performance:{showBenchmark:"Показать информацию о бенчмарке",showBenchmarkDescription:"Показать панель бенчмарка производительности"},help:{documentation:"Открыть документацию",documentationDescription:"Открыть документацию GitHub README"},language:{switchTo:"Переключиться на {0}",switchToDescription:"Изменить язык интерфейса на {0}"},keywords:{animation:"анимация",play:"воспроизвести",pause:"пауза",toggle:"переключить",stop:"остановить",restart:"перезапустить",reset:"сбросить",skin:"скин",performance:"производительность",benchmark:"бенчмарк",info:"информация",stats:"статистика",show:"показать",help:"помощь",documentation:"документация",readme:"readme",github:"github",language:"язык",switch:"переключить"}},JP={placeholder:"Введите команду или поиск...",noCommands:"Команды не найдены",tryDifferent:"Попробуйте другой поисковый запрос",shortcuts:{navigate:"для навигации",select:"для выбора",close:"для закрытия"}},eB={title:"Анализ бенчмарка Spine",close:"Закрыть",tabs:{summary:"Сводка",meshAnalysis:"Анализ сетки",clipping:"Обрезка",blendModes:"Режимы смешивания",skeletonTree:"Дерево скелета",physicsAnalysis:"Физика/Ограничения"},content:{summaryTitle:"Сводка бенчмарка",meshAnalysisTitle:"Анализ сетки",clippingTitle:"Анализ обрезки",blendModesTitle:"Анализ режимов смешивания",skeletonTreeTitle:"Дерево скелета",noData:"Данные {0} недоступны",selectTab:"Выберите вкладку для просмотра информации о бенчмарке"}},tB={spineVersion:"Предупреждение: Этот файл использует Spine 4.1. Бенчмарк предназначен для Spine 4.2. Версия будет автоматически скорректирована."},sB={name:"Русский",selector:"Язык",modal:{title:"Выберите язык"},changeLanguage:"Изменить язык",changeLanguageDescription:"Открыть модальное окно выбора языка"},iB=JSON.parse('{"summary":{"title":"Анализ производительности Spine","skeletonLabel":"Скелет: {{name}}","performanceLabel":"{{rating}} производительность","componentScoresTitle":"Оценки компонентов","skeletonStatsTitle":"Статистика скелета","optimizationTitle":"Рекомендации по оптимизации","performanceExplanationTitle":"Интерпретация оценки производительности","components":{"boneStructure":"Структура костей","meshComplexity":"Сложность сетки","clippingMasks":"Маски обрезки","blendModes":"Режимы смешивания","constraints":"Ограничения"},"tableHeaders":{"component":"Компонент","score":"Оценка","weight":"Вес","meter":"Индикатор","scoreRange":"Диапазон оценок","rating":"Рейтинг","interpretation":"Интерпретация"},"statistics":{"totalBones":"Всего костей","maxBoneDepth":"Макс. глубина костей","totalMeshes":"Всего сеток","totalVertices":"Всего вершин","clippingMasks":"Маски обрезки","nonNormalBlendModes":"Не-нормальные режимы смешивания","totalConstraints":"Всего ограничений","animations":"Анимации","skins":"Скины"},"recommendations":{"reduceBoneDepth":"Уменьшите глубину иерархии костей, упростив структуру где возможно.","reduceTotalBones":"Рассмотрите уменьшение общего количества костей путем упрощения скелета.","reduceVertices":"Уменьшите общее количество вершин во всех сетках.","minimizeDeformedMeshes":"Минимизируйте количество деформируемых сеток, особенно с большим количеством вершин.","reduceWeightedMeshes":"Уменьшите количество сеток с весами костей, так как они требуют больше вычислений.","limitClippingMasks":"Ограничьте количество масок обрезки, так как они значительно влияют на производительность.","simplifyComplexMasks":"Упростите сложные маски обрезки, используя меньше вершин (4 или меньше оптимально).","reduceNonNormalBlendModes":"Уменьшите количество не-нормальных режимов смешивания для минимизации изменений состояния рендера.","minimizeAdditiveBlendModes":"Минимизируйте использование аддитивных режимов смешивания, так как они особенно затратны.","reducePhysicsConstraints":"Физические ограничения особенно затратны - рассмотрите уменьшение их количества или сложности.","simplifyIkConstraints":"Упростите IK ограничения, уменьшив длину цепи или количество затронутых костей.","optimizePathConstraints":"Оптимизируйте ограничения пути, упростив пути или уменьшив количество ограниченных костей."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Отлично","description":"Подходит для всех платформ и непрерывных анимаций"},"good":{"range":"70-84","rating":"Хорошо","description":"Хорошо работает на большинстве платформ, но могут быть проблемы на слабых устройствах"},"moderate":{"range":"55-69","rating":"Умеренно","description":"Может вызывать падения производительности, особенно с несколькими экземплярами"},"poor":{"range":"40-54","rating":"Плохо","description":"Проблемы с производительностью вероятны на большинстве устройств"}}},"scores":{"ratings":{"excellent":"Отлично","good":"Хорошо","moderate":"Умеренно","poor":"Плохо","veryPoor":"Очень плохо"},"interpretations":{"excellent":"Подходит для всех платформ и непрерывных анимаций","good":"Хорошо работает на большинстве платформ, но могут быть проблемы на слабых устройствах","moderate":"Может вызывать падения производительности, особенно с несколькими экземплярами","poor":"Проблемы с производительностью вероятны на большинстве устройств","veryPoor":"Значительные проблемы с производительностью на всех устройствах"}},"mesh":{"title":"Статистика сеток","statistics":{"totalMeshes":"Всего сеток: {{count}}","totalVertices":"Всего вершин: {{count}}","meshesWithDeformation":"Сетки с деформацией: {{count}}","meshesWithBoneWeights":"Сетки с весами костей: {{count}}","meshesWithParentMesh":"Сетки с родительской сеткой: {{count}}"},"performanceScore":{"title":"Оценка производительности сеток: {{score}}/100"},"formula":{"title":"Формула влияния на производительность:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Слот","vertices":"Вершины","deformed":"Деформированная","boneWeights":"Веса костей","hasParentMesh":"Имеет родительскую сетку"},"values":{"yes":"Да","no":"Нет"},"notes":{"title":"Влияние сеток на производительность:","vertexCount":"Количество вершин: Каждая вершина требует памяти и времени обработки. Большое количество вершин (>50) имеет значительное влияние.","deformation":"Деформация: Деформирующие сетки требуют дополнительных вычислений каждый кадр - в {{factor}}× раз дороже статических сеток.","boneWeights":"Веса костей: Каждый вес кости добавляет операции умножения матриц - в {{factor}}× раз больше влияния на взвешенную вершину.","optimizationTip":"Совет по оптимизации: Используйте меньше вершин для сеток, которые деформируются или имеют веса костей. Рассмотрите использование Region attachments для простых форм."}},"clipping":{"title":"Маски обрезки","statistics":{"totalMasks":"Всего масок: {{count}}","totalVerticesInMasks":"Всего вершин в масках: {{count}}","complexMasks":"Сложные маски (>4 вершин): {{count}}"},"performanceScore":{"title":"Оценка производительности обрезки: {{score}}/100"},"formula":{"title":"Формула влияния на производительность:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Имя слота","vertexCount":"Количество вершин","status":"Статус"},"status":{"optimal":"Оптимально","acceptable":"Приемлемо","highVertexCount":"Большое количество вершин"},"noMasks":"В этом скелете не найдено масок обрезки.","notes":{"title":"Заметки о масках обрезки:","highImpact":"Высокое влияние: Маски обрезки - одна из самых затратных операций в рендеринге Spine","vertexCount":"Количество вершин: Каждая вершина в маске увеличивает вычислительную стоимость","optimalConfiguration":"Оптимальная конфигурация: Используйте треугольные или четырехугольные маски (3-4 вершины) когда возможно","gpuCost":"Стоимость GPU: Каждая маска обрезки требует дополнительных проходов рендеринга GPU (операции stencil buffer)","recommendation":"Рекомендация: Ограничьтесь 2-3 масками на скелет, с менее чем 6 вершинами каждая"}},"blendMode":{"title":"Режимы смешивания","statistics":{"nonNormalBlendModes":"Не-нормальные режимы смешивания: {{count}}","additiveBlendModes":"Аддитивные режимы смешивания: {{count}}","multiplyBlendModes":"Мультипликативные режимы смешивания: {{count}}"},"performanceScore":{"title":"Оценка производительности режимов смешивания: {{score}}/100"},"formula":{"title":"Формула влияния на производительность:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Режим смешивания","count":"Количество","slotName":"Имя слота"},"slotsWithNonNormalTitle":"Слоты с не-нормальными режимами смешивания:","notes":{"title":"Заметки о режимах смешивания:","normalBlendMode":"Нормальный режим смешивания: Наиболее эффективный, требует одного прохода рендеринга","nonNormalBlendModes":"Не-нормальные режимы смешивания: Каждый требует отдельного прохода рендеринга или переключения шейдера","renderingCost":"Стоимость рендеринга: Каждое изменение режима смешивания вызывает операцию \\"flush\\" рендерера","additiveBlend":"Аддитивное смешивание: Более высокая стоимость чем нормальное смешивание из-за вычислений смешивания","multiplyBlend":"Мультипликативное смешивание: Похоже на аддитивное, требует дополнительных операций GPU","recommendation":"Рекомендация: Ограничьтесь 2 не-нормальными режимами смешивания на скелет"}},"skeleton":{"title":"Структура скелета","statistics":{"totalBones":"Всего костей: {{count}}","rootBones":"Корневые кости: {{count}}","maxDepth":"Макс. глубина: {{depth}}"},"performanceScore":{"title":"Оценка производительности структуры костей: {{score}}/100"},"formula":{"title":"Формула влияния на производительность:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Заметки о структуре костей:","boneCount":"Количество костей: Каждая кость требует вычислений матриц каждый кадр","hierarchyDepth":"Глубина иерархии: Глубокие иерархии экспоненциально увеличивают сложность трансформаций","recommendation":"Рекомендация: Держите иерархии костей под 5 уровнями глубины когда возможно","optimalStructure":"Оптимальная структура: Плоские иерархии с небольшим количеством отношений родитель-ребенок работают лучше"}},"physics":{"title":"Анализ ограничений","statistics":{"totalConstraints":"Всего ограничений: {{count}}"},"performanceScore":{"title":"Оценка производительности ограничений: {{score}}/100"},"formula":{"title":"Формула влияния на производительность:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Где constraintImpact - это взвешенная сумма влияний IK, трансформации, пути и физических ограничений"},"impactBreakdown":{"title":"Разбивка влияния:","tableHeaders":{"constraintType":"Тип ограничения","count":"Количество","impactLevel":"Уровень влияния","weightedImpact":"Взвешенное влияние"}},"constraintTypes":{"ik":"IK ограничения","transform":"Ограничения трансформации","path":"Ограничения пути","physics":"Физические ограничения"},"constraintDetails":{"ikConstraints":{"title":"IK ограничения","tableHeaders":{"name":"Имя","target":"Цель","bones":"Кости","mix":"Смешивание","status":"Статус"}},"transformConstraints":{"title":"Ограничения трансформации","tableHeaders":{"name":"Имя","target":"Цель","bones":"Кости","properties":"Свойства","status":"Статус"}},"pathConstraints":{"title":"Ограничения пути","tableHeaders":{"name":"Имя","target":"Цель","bones":"Кости","modes":"Режимы","status":"Статус"}},"physicsConstraints":{"title":"Физические ограничения","tableHeaders":{"name":"Имя","bone":"Кость","properties":"Свойства","parameters":"Параметры","status":"Статус"}}},"status":{"active":"Активно","inactive":"Неактивно"},"properties":{"x":"X","y":"Y","rotation":"Поворот","scale":"Масштаб","shear":"Сдвиг","rotate":"Поворот","scaleX":"МасштабX","scaleY":"МасштабY","shearY":"СдвигY"},"modes":{"rotate":{"tangent":"Касательная","chain":"Цепь","chainScale":"МасштабЦепи"},"spacing":{"length":"Длина","fixed":"Фиксированный","percent":"Процент","proportional":"Пропорциональный"}},"parameters":{"inertia":"Инерция","strength":"Сила","damping":"Затухание","wind":"Ветер","gravity":"Гравитация"},"noConstraints":"В этом скелете не найдено ограничений.","notes":{"title":"Заметки об ограничениях:","ikConstraints":"IK ограничения: Стоимость увеличивается с длиной цепи костей и количеством итераций","physicsConstraints":"Физические ограничения: Наивысшее влияние на производительность, особенно с несколькими затронутыми свойствами","pathConstraints":"Ограничения пути: Сложные кривые пути и режим поворота ChainScale более затратны","transformConstraints":"Ограничения трансформации: Каждое затронутое свойство (позиция, поворот, масштаб) добавляет накладные расходы вычислений","recommendation":"Рекомендация: Используйте ограничения экономно и с минимальными цепями костей когда возможно"}}}'),nB={error:KP,ui:QP,commands:ZP,commandPalette:JP,infoPanel:eB,warnings:tB,language:sB,analysis:iB},aB={1001:"檔案讀取錯誤：{0}",1002:"圖片載入錯誤 {0}：{1}",1003:"骨架檔案 {0} JSON 解析錯誤：{1}",1004:"不支援的 Spine 版本：{0}。最大支援版本：4.1",1005:"骨架 JSON 檔案結構不正確：{0}",1006:"讀取二進位骨架檔案錯誤：{0}",1007:"讀取圖集檔案錯誤：{0}",1008:"無效的圖集檔案結構：{0}",1009:"找不到材質：{0}",1010:"建立圖集錯誤：{0}",1011:"骨架不包含骨骼",1012:"骨架解析錯誤：{0}",1013:"建立 Spine 實例錯誤：{0}",1014:"建立資產時發生嚴重錯誤：{0}",1015:"檔案處理錯誤 {0}：{1}",1016:"缺少骨架檔案（.json 或 .skel）。請與圖集一起上傳骨架檔案。",1017:"缺少圖集檔案（.atlas）。請與骨架一起上傳。",failedToInitialize:"初始化圖形失敗：{0}",noFilesDropped:"沒有拖放檔案",noValidFiles:"在拖放的項目中找不到有效檔案",processingError:"處理拖放檔案錯誤：{0}",loadingError:"載入 Spine 檔案錯誤：{0}"},rB={dropArea:"將 Spine 檔案或資料夾拖放到此處（JSON、Atlas 和圖片）",loading:"載入中...",helpText:"Ctrl+K 開啟面板",close:"關閉"},oB={categories:{recentlyUsed:"最近使用",debug:"除錯指令",animation:"動畫指令",skin:"外觀指令",performance:"效能指令",language:"語言指令"},debug:{showAttachmentDebug:"顯示附件除錯",showAttachmentDebugDescription:"顯示附件除錯視覺化，顯示附件邊界和屬性",hideAttachmentDebug:"隱藏附件除錯",hideAttachmentDebugDescription:"隱藏附件除錯視覺化",showMeshDebug:"顯示網格除錯",showMeshDebugDescription:"顯示網格除錯視覺化，顯示頂點、三角形和網格結構",hideMeshDebug:"隱藏網格除錯",hideMeshDebugDescription:"隱藏網格除錯視覺化",showIkDebug:"顯示 IK 控制除錯",showIkDebugDescription:"顯示 IK 控制除錯視覺化，顯示約束目標和骨骼鏈",hideIkDebug:"隱藏 IK 控制除錯",hideIkDebugDescription:"隱藏 IK 控制除錯視覺化",showPhysicsDebug:"顯示物理除錯",showPhysicsDebugDescription:"顯示物理除錯視覺化，顯示物理約束和模擬資料",hidePhysicsDebug:"隱藏物理除錯",hidePhysicsDebugDescription:"隱藏物理除錯視覺化"},animation:{playPause:"播放/暫停動畫",playPauseDescription:"切換動畫播放",stop:"停止動畫",stopDescription:"停止目前動畫",restart:"重新開始動畫",restartDescription:"從頭重新開始目前動畫"},skin:{switchTo:"切換到 {0}",switchToDescription:"套用 {0} 外觀"},performance:{showBenchmark:"顯示基準測試資訊",showBenchmarkDescription:"顯示效能基準測試面板"},help:{documentation:"開啟說明文件",documentationDescription:"開啟 GitHub README 說明文件"},language:{switchTo:"切換到 {0}",switchToDescription:"將介面語言變更為 {0}"},keywords:{animation:"動畫",play:"播放",pause:"暫停",toggle:"切換",stop:"停止",restart:"重新開始",reset:"重設",skin:"外觀",performance:"效能",benchmark:"基準測試",info:"資訊",stats:"統計",show:"顯示",help:"說明",documentation:"說明文件",readme:"readme",github:"github",language:"語言",switch:"切換"}},lB={placeholder:"輸入指令或搜尋...",noCommands:"找不到指令",tryDifferent:"嘗試不同的搜尋詞",shortcuts:{navigate:"導航",select:"選擇",close:"關閉"}},cB={title:"Spine 基準測試分析",close:"關閉",tabs:{summary:"摘要",meshAnalysis:"網格分析",clipping:"裁剪",blendModes:"混合模式",skeletonTree:"骨架樹",physicsAnalysis:"物理/約束"},content:{summaryTitle:"基準測試摘要",meshAnalysisTitle:"網格分析",clippingTitle:"裁剪分析",blendModesTitle:"混合模式分析",skeletonTreeTitle:"骨架樹",noData:"沒有 {0} 資料可用",selectTab:"選擇標籤以檢視基準測試資訊"}},uB={spineVersion:"警告：此檔案使用 Spine 4.1。基準測試是為 Spine 4.2 設計的。版本將自動調整。"},hB={name:"繁體中文",selector:"語言",modal:{title:"選擇語言"},changeLanguage:"變更語言",changeLanguageDescription:"開啟語言選擇模態視窗"},dB={summary:{title:"Spine 效能分析",skeletonLabel:"骨架：{{name}}",performanceLabel:"{{rating}} 效能",componentScoresTitle:"組件評分",skeletonStatsTitle:"骨架統計",optimizationTitle:"最佳化建議",performanceExplanationTitle:"效能評分解釋",components:{boneStructure:"骨骼結構",meshComplexity:"網格複雜度",clippingMasks:"裁剪遮罩",blendModes:"混合模式",constraints:"約束"},tableHeaders:{component:"組件",score:"評分",weight:"權重",meter:"指標",scoreRange:"評分範圍",rating:"評級",interpretation:"解釋"},statistics:{totalBones:"總骨骼數",maxBoneDepth:"最大骨骼深度",totalMeshes:"總網格數",totalVertices:"總頂點數",clippingMasks:"裁剪遮罩",nonNormalBlendModes:"非正常混合模式",totalConstraints:"總約束數",animations:"動畫",skins:"外觀"},recommendations:{reduceBoneDepth:"盡可能簡化結構以減少骨骼階層深度。",reduceTotalBones:"考慮透過簡化骨架來減少骨骼總數。",reduceVertices:"減少所有網格的頂點總數。",minimizeDeformedMeshes:"最小化變形網格的數量，特別是高頂點數的網格。",reduceWeightedMeshes:"減少具有骨骼權重的網格數量，因為它們需要更多計算。",limitClippingMasks:"限制裁剪遮罩的數量，因為它們會顯著影響效能。",simplifyComplexMasks:"簡化複雜的裁剪遮罩，使用更少的頂點（4個或更少是最佳的）。",reduceNonNormalBlendModes:"減少非正常混合模式的數量以最小化渲染狀態變更。",minimizeAdditiveBlendModes:"最小化加法混合模式的使用，因為它們特別昂貴。",reducePhysicsConstraints:"物理約束特別昂貴 - 考慮減少它們的數量或複雜度。",simplifyIkConstraints:"透過減少鏈長度或受影響的骨骼數量來簡化 IK 約束。",optimizePathConstraints:"透過簡化路徑或減少受約束的骨骼數量來最佳化路徑約束。"},performanceRanges:{excellent:{range:"85-100",rating:"優秀",description:"適用於所有平台和連續動畫"},good:{range:"70-84",rating:"良好",description:"在大多數平台上運作良好，但在低階設備上可能有問題"},moderate:{range:"55-69",rating:"中等",description:"可能造成效能下降，特別是多個實例時"},poor:{range:"40-54",rating:"差",description:"在大多數設備上可能出現效能問題"}}},scores:{ratings:{excellent:"優秀",good:"良好",moderate:"中等",poor:"差",veryPoor:"很差"},interpretations:{excellent:"適用於所有平台和連續動畫",good:"在大多數平台上運作良好，但在低階設備上可能有問題",moderate:"可能造成效能下降，特別是多個實例時",poor:"在大多數設備上可能出現效能問題",veryPoor:"在所有設備上都有顯著的效能問題"}},mesh:{title:"網格統計",statistics:{totalMeshes:"總網格數：{{count}}",totalVertices:"總頂點數：{{count}}",meshesWithDeformation:"具有變形的網格：{{count}}",meshesWithBoneWeights:"具有骨骼權重的網格：{{count}}",meshesWithParentMesh:"具有父網格的網格：{{count}}"},performanceScore:{title:"網格效能評分：{{score}}/100"},formula:{title:"效能影響公式：",description:"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},tableHeaders:{slot:"插槽",vertices:"頂點",deformed:"變形",boneWeights:"骨骼權重",hasParentMesh:"有父網格"},values:{yes:"是",no:"否"},notes:{title:"網格效能影響：",vertexCount:"頂點數量：每個頂點都需要記憶體和處理時間。高頂點數（>50）有顯著影響。",deformation:"變形：變形網格每幀需要額外計算 - 比靜態網格昂貴 {{factor}} 倍。",boneWeights:"骨骼權重：每個骨骼權重增加矩陣乘法運算 - 每個加權頂點的影響增加 {{factor}} 倍。",optimizationTip:"最佳化提示：對於變形或具有骨骼權重的網格使用較少的頂點。考慮對簡單形狀使用 Region attachments。"}},clipping:{title:"裁剪遮罩",statistics:{totalMasks:"總遮罩數：{{count}}",totalVerticesInMasks:"遮罩中的總頂點數：{{count}}",complexMasks:"複雜遮罩（>4 頂點）：{{count}}"},performanceScore:{title:"裁剪效能評分：{{score}}/100"},formula:{title:"效能影響公式：",description:"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},tableHeaders:{slotName:"插槽名稱",vertexCount:"頂點數量",status:"狀態"},status:{optimal:"最佳",acceptable:"可接受",highVertexCount:"高頂點數"},noMasks:"此骨架中未找到裁剪遮罩。",notes:{title:"裁剪遮罩注意事項：",highImpact:"高影響：裁剪遮罩是 Spine 渲染中最昂貴的操作之一",vertexCount:"頂點數量：遮罩中的每個頂點都會增加計算成本",optimalConfiguration:"最佳配置：盡可能使用三角形或四邊形遮罩（3-4 個頂點）",gpuCost:"GPU 成本：每個裁剪遮罩需要額外的 GPU 渲染通道（模板緩衝區操作）",recommendation:"建議：每個骨架限制 2-3 個遮罩，每個遮罩少於 6 個頂點"}},blendMode:{title:"混合模式",statistics:{nonNormalBlendModes:"非正常混合模式：{{count}}",additiveBlendModes:"加法混合模式：{{count}}",multiplyBlendModes:"乘法混合模式：{{count}}"},performanceScore:{title:"混合模式效能評分：{{score}}/100"},formula:{title:"效能影響公式：",description:"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},tableHeaders:{blendMode:"混合模式",count:"數量",slotName:"插槽名稱"},slotsWithNonNormalTitle:"具有非正常混合模式的插槽：",notes:{title:"混合模式注意事項：",normalBlendMode:"正常混合模式：最有效率，需要單一渲染通道",nonNormalBlendModes:"非正常混合模式：每個都需要單獨的渲染通道或著色器切換",renderingCost:"渲染成本：每次混合模式變更都會強制渲染器「刷新」操作",additiveBlend:"加法混合：由於混合計算，成本比正常混合高",multiplyBlend:"乘法混合：類似於加法，需要額外的 GPU 操作",recommendation:"建議：每個骨架限制 2 個非正常混合模式"}},skeleton:{title:"骨架結構",statistics:{totalBones:"總骨骼數：{{count}}",rootBones:"根骨骼：{{count}}",maxDepth:"最大深度：{{depth}}"},performanceScore:{title:"骨骼結構效能評分：{{score}}/100"},formula:{title:"效能影響公式：",description:"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},nodeLabel:"{{name}} (x: {{x}}, y: {{y}})",notes:{title:"骨骼結構注意事項：",boneCount:"骨骼數量：每個骨骼每幀都需要矩陣計算",hierarchyDepth:"階層深度：深層階層會指數級增加變換複雜度",recommendation:"建議：盡可能將骨骼階層保持在 5 層以下",optimalStructure:"最佳結構：具有少量父子關係的扁平階層效能更好"}},physics:{title:"約束分析",statistics:{totalConstraints:"總約束數：{{count}}"},performanceScore:{title:"約束效能評分：{{score}}/100"},formula:{title:"效能影響公式：",description:"constraintScore = 100 - (constraintImpact × 0.5)",explanation:"其中 constraintImpact 是 IK、變換、路徑和物理約束影響的加權總和"},impactBreakdown:{title:"影響分解：",tableHeaders:{constraintType:"約束類型",count:"數量",impactLevel:"影響等級",weightedImpact:"加權影響"}},constraintTypes:{ik:"IK 約束",transform:"變換約束",path:"路徑約束",physics:"物理約束"},constraintDetails:{ikConstraints:{title:"IK 約束",tableHeaders:{name:"名稱",target:"目標",bones:"骨骼",mix:"混合",status:"狀態"}},transformConstraints:{title:"變換約束",tableHeaders:{name:"名稱",target:"目標",bones:"骨骼",properties:"屬性",status:"狀態"}},pathConstraints:{title:"路徑約束",tableHeaders:{name:"名稱",target:"目標",bones:"骨骼",modes:"模式",status:"狀態"}},physicsConstraints:{title:"物理約束",tableHeaders:{name:"名稱",bone:"骨骼",properties:"屬性",parameters:"參數",status:"狀態"}}},status:{active:"啟用",inactive:"停用"},properties:{x:"X",y:"Y",rotation:"旋轉",scale:"縮放",shear:"剪切",rotate:"旋轉",scaleX:"縮放X",scaleY:"縮放Y",shearY:"剪切Y"},modes:{rotate:{tangent:"切線",chain:"鏈",chainScale:"鏈縮放"},spacing:{length:"長度",fixed:"固定",percent:"百分比",proportional:"比例"}},parameters:{inertia:"慣性",strength:"強度",damping:"阻尼",wind:"風",gravity:"重力"},noConstraints:"此骨架中未找到約束。",notes:{title:"約束注意事項：",ikConstraints:"IK 約束：成本隨骨骼鏈長度和迭代次數增加",physicsConstraints:"物理約束：最高效能影響，特別是具有多個受影響屬性時",pathConstraints:"路徑約束：複雜的路徑曲線和 ChainScale 旋轉模式更昂貴",transformConstraints:"變換約束：每個受影響的屬性（位置、旋轉、縮放）都會增加計算開銷",recommendation:"建議：盡可能謹慎使用約束，並在可能時使用最小的骨骼鏈"}}},fB={error:aB,ui:rB,commands:oB,commandPalette:lB,infoPanel:cB,warnings:uB,language:hB,analysis:dB},mB={1001:"Помилка читання файлу: {0}",1002:"Помилка завантаження зображення {0}: {1}",1003:"Помилка парсингу JSON файлу скелета {0}: {1}",1004:"Непідтримувана версія Spine: {0}. Максимальна підтримувана версія: 4.1",1005:"Некоректна структура JSON файлу скелета: {0}",1006:"Помилка читання бінарного файлу скелета: {0}",1007:"Помилка читання файлу атласу: {0}",1008:"Некоректна структура файлу атласу: {0}",1009:"Текстуру не знайдено: {0}",1010:"Помилка створення атласу: {0}",1011:"Скелет не містить кісток",1012:"Помилка парсингу скелета: {0}",1013:"Помилка створення екземпляра Spine: {0}",1014:"Критична помилка при створенні ресурсу: {0}",1015:"Сталася помилка при обробці файлу {0}: {1}",1016:"Відсутній файл скелета (.json або .skel). Завантажте файл скелета разом з атласом.",1017:"Відсутній файл атласу (.atlas). Завантажте його разом зі скелетом.",failedToInitialize:"Не вдалося ініціалізувати графіку: {0}",noFilesDropped:"Файли не були перетягнуті",noValidFiles:"У перетягнутих елементах не знайдено допустимих файлів",processingError:"Помилка обробки перетягнутих файлів: {0}",loadingError:"Помилка завантаження файлів Spine: {0}"},gB={dropArea:"Перетягніть файли або папки Spine сюди (JSON, Atlas та зображення)",loading:"Завантаження...",helpText:"Ctrl+K відкриває панель",close:"Закрити"},pB={categories:{recentlyUsed:"Нещодавно використані",debug:"Команди налагодження",animation:"Команди анімації",skin:"Команди скінів",performance:"Команди продуктивності",language:"Команди мови"},debug:{showAttachmentDebug:"Показати налагодження вкладень",showAttachmentDebugDescription:"Відобразити візуалізацію налагодження вкладень, що показує межі та властивості вкладень",hideAttachmentDebug:"Приховати налагодження вкладень",hideAttachmentDebugDescription:"Приховати візуалізацію налагодження вкладень",showMeshDebug:"Показати налагодження сітки",showMeshDebugDescription:"Відобразити візуалізацію налагодження сітки, що показує вершини, трикутники та структуру сітки",hideMeshDebug:"Приховати налагодження сітки",hideMeshDebugDescription:"Приховати візуалізацію налагодження сітки",showIkDebug:"Показати налагодження IK контролів",showIkDebugDescription:"Відобразити візуалізацію налагодження IK контролів, що показує цілі обмежень та ланцюги кісток",hideIkDebug:"Приховати налагодження IK контролів",hideIkDebugDescription:"Приховати візуалізацію налагодження IK контролів",showPhysicsDebug:"Показати налагодження фізики",showPhysicsDebugDescription:"Відобразити візуалізацію налагодження фізики, що показує фізичні обмеження та дані симуляції",hidePhysicsDebug:"Приховати налагодження фізики",hidePhysicsDebugDescription:"Приховати візуалізацію налагодження фізики"},animation:{playPause:"Відтворити/Пауза",playPauseDescription:"Перемкнути відтворення анімації",stop:"Зупинити анімацію",stopDescription:"Зупинити поточну анімацію",restart:"Перезапустити анімацію",restartDescription:"Перезапустити поточну анімацію з початку"},skin:{switchTo:"Перемкнутися на {0}",switchToDescription:"Застосувати скін {0}"},performance:{showBenchmark:"Показати інформацію про бенчмарк",showBenchmarkDescription:"Показати панель бенчмарку продуктивності"},help:{documentation:"Відкрити документацію",documentationDescription:"Відкрити документацію GitHub README"},language:{switchTo:"Перемкнутися на {0}",switchToDescription:"Змінити мову інтерфейсу на {0}"},keywords:{animation:"анімація",play:"відтворити",pause:"пауза",toggle:"перемкнути",stop:"зупинити",restart:"перезапустити",reset:"скинути",skin:"скін",performance:"продуктивність",benchmark:"бенчмарк",info:"інформація",stats:"статистика",show:"показати",help:"допомога",documentation:"документація",readme:"readme",github:"github",language:"мова",switch:"перемкнути"}},yB={placeholder:"Введіть команду або пошук...",noCommands:"Команди не знайдено",tryDifferent:"Спробуйте інший пошуковий запит",shortcuts:{navigate:"для навігації",select:"для вибору",close:"для закриття"}},xB={title:"Аналіз бенчмарку Spine",close:"Закрити",tabs:{summary:"Зведення",meshAnalysis:"Аналіз сітки",clipping:"Обрізання",blendModes:"Режими змішування",skeletonTree:"Дерево скелета",physicsAnalysis:"Фізика/Обмеження"},content:{summaryTitle:"Зведення бенчмарку",meshAnalysisTitle:"Аналіз сітки",clippingTitle:"Аналіз обрізання",blendModesTitle:"Аналіз режимів змішування",skeletonTreeTitle:"Дерево скелета",noData:"Дані {0} недоступні",selectTab:"Виберіть вкладку для перегляду інформації про бенчмарк"}},bB={spineVersion:"Попередження: Цей файл використовує Spine 4.1. Бенчмарк призначений для Spine 4.2. Версія буде автоматично скоригована."},vB={name:"Українська",selector:"Мова",modal:{title:"Оберіть мову"},changeLanguage:"Змінити мову",changeLanguageDescription:"Відкрити модальне вікно вибору мови"},_B=JSON.parse(`{"summary":{"title":"Аналіз продуктивності Spine","skeletonLabel":"Скелет: {{name}}","performanceLabel":"{{rating}} продуктивність","componentScoresTitle":"Оцінки компонентів","skeletonStatsTitle":"Статистика скелета","optimizationTitle":"Рекомендації з оптимізації","performanceExplanationTitle":"Інтерпретація оцінки продуктивності","components":{"boneStructure":"Структура кісток","meshComplexity":"Складність сітки","clippingMasks":"Маски обрізання","blendModes":"Режими змішування","constraints":"Обмеження"},"tableHeaders":{"component":"Компонент","score":"Оцінка","weight":"Вага","meter":"Індикатор","scoreRange":"Діапазон оцінок","rating":"Рейтинг","interpretation":"Інтерпретація"},"statistics":{"totalBones":"Загалом кісток","maxBoneDepth":"Макс. глибина кісток","totalMeshes":"Загалом сіток","totalVertices":"Загалом вершин","clippingMasks":"Маски обрізання","nonNormalBlendModes":"Не-нормальні режими змішування","totalConstraints":"Загалом обмежень","animations":"Анімації","skins":"Скіни"},"recommendations":{"reduceBoneDepth":"Зменшіть глибину ієрархії кісток, спростивши структуру де можливо.","reduceTotalBones":"Розгляньте зменшення загальної кількості кісток шляхом спрощення скелета.","reduceVertices":"Зменшіть загальну кількість вершин у всіх сітках.","minimizeDeformedMeshes":"Мінімізуйте кількість деформованих сіток, особливо з великою кількістю вершин.","reduceWeightedMeshes":"Зменшіть кількість сіток з вагами кісток, оскільки вони потребують більше обчислень.","limitClippingMasks":"Обмежте кількість масок обрізання, оскільки вони значно впливають на продуктивність.","simplifyComplexMasks":"Спростіть складні маски обрізання, використовуючи менше вершин (4 або менше оптимально).","reduceNonNormalBlendModes":"Зменшіть кількість не-нормальних режимів змішування для мінімізації змін стану рендера.","minimizeAdditiveBlendModes":"Мінімізуйте використання адитивних режимів змішування, оскільки вони особливо витратні.","reducePhysicsConstraints":"Фізичні обмеження особливо витратні - розгляньте зменшення їх кількості або складності.","simplifyIkConstraints":"Спростіть IK обмеження, зменшивши довжину ланцюга або кількість залучених кісток.","optimizePathConstraints":"Оптимізуйте обмеження шляху, спростивши шляхи або зменшивши кількість обмежених кісток."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Відмінно","description":"Підходить для всіх платформ і безперервних анімацій"},"good":{"range":"70-84","rating":"Добре","description":"Добре працює на більшості платформ, але можуть бути проблеми на слабких пристроях"},"moderate":{"range":"55-69","rating":"Помірно","description":"Може викликати падіння продуктивності, особливо з кількома екземплярами"},"poor":{"range":"40-54","rating":"Погано","description":"Проблеми з продуктивністю ймовірні на більшості пристроїв"}}},"scores":{"ratings":{"excellent":"Відмінно","good":"Добре","moderate":"Помірно","poor":"Погано","veryPoor":"Дуже погано"},"interpretations":{"excellent":"Підходить для всіх платформ і безперервних анімацій","good":"Добре працює на більшості платформ, але можуть бути проблеми на слабких пристроях","moderate":"Може викликати падіння продуктивності, особливо з кількома екземплярами","poor":"Проблеми з продуктивністю ймовірні на більшості пристроїв","veryPoor":"Значні проблеми з продуктивністю на всіх пристроях"}},"mesh":{"title":"Статистика сіток","statistics":{"totalMeshes":"Загалом сіток: {{count}}","totalVertices":"Загалом вершин: {{count}}","meshesWithDeformation":"Сітки з деформацією: {{count}}","meshesWithBoneWeights":"Сітки з вагами кісток: {{count}}","meshesWithParentMesh":"Сітки з батьківською сіткою: {{count}}"},"performanceScore":{"title":"Оцінка продуктивності сіток: {{score}}/100"},"formula":{"title":"Формула впливу на продуктивність:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Слот","vertices":"Вершини","deformed":"Деформована","boneWeights":"Ваги кісток","hasParentMesh":"Має батьківську сітку"},"values":{"yes":"Так","no":"Ні"},"notes":{"title":"Вплив сіток на продуктивність:","vertexCount":"Кількість вершин: Кожна вершина потребує пам'яті та часу обробки. Велика кількість вершин (>50) має значний вплив.","deformation":"Деформація: Деформуючі сітки потребують додаткових обчислень кожен кадр - у {{factor}}× разів дорожче статичних сіток.","boneWeights":"Ваги кісток: Кожна вага кістки додає операції множення матриць - у {{factor}}× разів більше впливу на зважену вершину.","optimizationTip":"Порада з оптимізації: Використовуйте менше вершин для сіток, які деформуються або мають ваги кісток. Розгляньте використання Region attachments для простих форм."}},"clipping":{"title":"Маски обрізання","statistics":{"totalMasks":"Загалом масок: {{count}}","totalVerticesInMasks":"Загалом вершин у масках: {{count}}","complexMasks":"Складні маски (>4 вершин): {{count}}"},"performanceScore":{"title":"Оцінка продуктивності обрізання: {{score}}/100"},"formula":{"title":"Формула впливу на продуктивність:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Ім'я слота","vertexCount":"Кількість вершин","status":"Статус"},"status":{"optimal":"Оптимально","acceptable":"Прийнятно","highVertexCount":"Велика кількість вершин"},"noMasks":"У цьому скелеті не знайдено масок обрізання.","notes":{"title":"Примітки про маски обрізання:","highImpact":"Високий вплив: Маски обрізання - одна з найдорожчих операцій у рендерингу Spine","vertexCount":"Кількість вершин: Кожна вершина в масці збільшує обчислювальну вартість","optimalConfiguration":"Оптимальна конфігурація: Використовуйте трикутні або чотирикутні маски (3-4 вершини) коли можливо","gpuCost":"Вартість GPU: Кожна маска обрізання потребує додаткових проходів рендерингу GPU (операції stencil buffer)","recommendation":"Рекомендація: Обмежтеся 2-3 масками на скелет, з менш ніж 6 вершинами кожна"}},"blendMode":{"title":"Режими змішування","statistics":{"nonNormalBlendModes":"Не-нормальні режими змішування: {{count}}","additiveBlendModes":"Адитивні режими змішування: {{count}}","multiplyBlendModes":"Мультиплікативні режими змішування: {{count}}"},"performanceScore":{"title":"Оцінка продуктивності режимів змішування: {{score}}/100"},"formula":{"title":"Формула впливу на продуктивність:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Режим змішування","count":"Кількість","slotName":"Ім'я слота"},"slotsWithNonNormalTitle":"Слоти з не-нормальними режимами змішування:","notes":{"title":"Примітки про режими змішування:","normalBlendMode":"Нормальний режим змішування: Найефективніший, потребує одного проходу рендерингу","nonNormalBlendModes":"Не-нормальні режими змішування: Кожен потребує окремого проходу рендерингу або переключення шейдера","renderingCost":"Вартість рендерингу: Кожна зміна режиму змішування викликає операцію \\"flush\\" рендерера","additiveBlend":"Адитивне змішування: Вища вартість ніж нормальне змішування через обчислення змішування","multiplyBlend":"Мультиплікативне змішування: Схоже на адитивне, потребує додаткових операцій GPU","recommendation":"Рекомендація: Обмежтеся 2 не-нормальними режимами змішування на скелет"}},"skeleton":{"title":"Структура скелета","statistics":{"totalBones":"Загалом кісток: {{count}}","rootBones":"Кореневі кістки: {{count}}","maxDepth":"Макс. глибина: {{depth}}"},"performanceScore":{"title":"Оцінка продуктивності структури кісток: {{score}}/100"},"formula":{"title":"Формула впливу на продуктивність:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Примітки про структуру кісток:","boneCount":"Кількість кісток: Кожна кістка потребує обчислень матриць кожен кадр","hierarchyDepth":"Глибина ієрархії: Глибокі ієрархії експоненційно збільшують складність трансформацій","recommendation":"Рекомендація: Тримайте ієрархії кісток під 5 рівнями глибини коли можливо","optimalStructure":"Оптимальна структура: Плоскі ієрархії з невеликою кількістю відносин батько-дитина працюють краще"}},"physics":{"title":"Аналіз обмежень","statistics":{"totalConstraints":"Загалом обмежень: {{count}}"},"performanceScore":{"title":"Оцінка продуктивності обмежень: {{score}}/100"},"formula":{"title":"Формула впливу на продуктивність:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Де constraintImpact - це зважена сума впливів IK, трансформації, шляху та фізичних обмежень"},"impactBreakdown":{"title":"Розбивка впливу:","tableHeaders":{"constraintType":"Тип обмеження","count":"Кількість","impactLevel":"Рівень впливу","weightedImpact":"Зважений вплив"}},"constraintTypes":{"ik":"IK обмеження","transform":"Обмеження трансформації","path":"Обмеження шляху","physics":"Фізичні обмеження"},"constraintDetails":{"ikConstraints":{"title":"IK обмеження","tableHeaders":{"name":"Ім'я","target":"Ціль","bones":"Кістки","mix":"Змішування","status":"Статус"}},"transformConstraints":{"title":"Обмеження трансформації","tableHeaders":{"name":"Ім'я","target":"Ціль","bones":"Кістки","properties":"Властивості","status":"Статус"}},"pathConstraints":{"title":"Обмеження шляху","tableHeaders":{"name":"Ім'я","target":"Ціль","bones":"Кістки","modes":"Режими","status":"Статус"}},"physicsConstraints":{"title":"Фізичні обмеження","tableHeaders":{"name":"Ім'я","bone":"Кістка","properties":"Властивості","parameters":"Параметри","status":"Статус"}}},"status":{"active":"Активно","inactive":"Неактивно"},"properties":{"x":"X","y":"Y","rotation":"Поворот","scale":"Масштаб","shear":"Зсув","rotate":"Поворот","scaleX":"МасштабX","scaleY":"МасштабY","shearY":"ЗсувY"},"modes":{"rotate":{"tangent":"Дотична","chain":"Ланцюг","chainScale":"МасштабЛанцюга"},"spacing":{"length":"Довжина","fixed":"Фіксований","percent":"Відсоток","proportional":"Пропорційний"}},"parameters":{"inertia":"Інерція","strength":"Сила","damping":"Затухання","wind":"Вітер","gravity":"Гравітація"},"noConstraints":"У цьому скелеті не знайдено обмежень.","notes":{"title":"Примітки про обмеження:","ikConstraints":"IK обмеження: Вартість збільшується з довжиною ланцюга кісток і кількістю ітерацій","physicsConstraints":"Фізичні обмеження: Найвищий вплив на продуктивність, особливо з кількома залученими властивостями","pathConstraints":"Обмеження шляху: Складні криві шляху та режим повороту ChainScale більш витратні","transformConstraints":"Обмеження трансформації: Кожна залучена властивість (позиція, поворот, масштаб) додає накладні витрати обчислень","recommendation":"Рекомендація: Використовуйте обмеження економно і з мінімальними ланцюгами кісток коли можливо"}}}`),wB={error:mB,ui:gB,commands:pB,commandPalette:yB,infoPanel:xB,warnings:bB,language:vB,analysis:_B},SB={1001:"Erreur de lecture du fichier : {0}",1002:"Erreur de chargement de l'image {0} : {1}",1003:"Erreur d'analyse JSON du fichier squelette {0} : {1}",1004:"Version Spine non supportée : {0}. Version maximale supportée : 4.1",1005:"Structure incorrecte dans le fichier JSON du squelette : {0}",1006:"Erreur de lecture du fichier squelette binaire : {0}",1007:"Erreur de lecture du fichier atlas : {0}",1008:"Structure de fichier atlas invalide : {0}",1009:"Texture non trouvée : {0}",1010:"Erreur de création de l'atlas : {0}",1011:"Le squelette ne contient aucun os",1012:"Erreur d'analyse du squelette : {0}",1013:"Erreur de création de l'instance Spine : {0}",1014:"Erreur critique lors de la création de l'asset : {0}",1015:"Erreur de traitement du fichier {0} : {1}",1016:"Fichier squelette manquant (.json ou .skel). Veuillez télécharger le fichier squelette avec l'atlas.",1017:"Fichier atlas manquant (.atlas). Veuillez le télécharger avec le squelette.",failedToInitialize:"Échec de l'initialisation des graphiques : {0}",noFilesDropped:"Aucun fichier n'a été déposé",noValidFiles:"Aucun fichier valide trouvé dans les éléments déposés",processingError:"Erreur de traitement des fichiers déposés : {0}",loadingError:"Erreur de chargement des fichiers Spine : {0}"},CB={dropArea:"Déposez les fichiers ou dossiers Spine ici (JSON, Atlas et Images)",loading:"Chargement...",helpText:"Ctrl+K ouvre un panneau",close:"Fermer"},AB={categories:{recentlyUsed:"Récemment utilisées",debug:"Commandes de débogage",animation:"Commandes d'animation",skin:"Commandes de skin",performance:"Commandes de performance",language:"Commandes de langue"},debug:{showAttachmentDebug:"Afficher le débogage des attachements",showAttachmentDebugDescription:"Afficher la visualisation de débogage des attachements montrant les limites et propriétés des attachements",hideAttachmentDebug:"Masquer le débogage des attachements",hideAttachmentDebugDescription:"Masquer la visualisation de débogage des attachements",showMeshDebug:"Afficher le débogage du maillage",showMeshDebugDescription:"Afficher la visualisation de débogage du maillage montrant les sommets, triangles et structure du maillage",hideMeshDebug:"Masquer le débogage du maillage",hideMeshDebugDescription:"Masquer la visualisation de débogage du maillage",showIkDebug:"Afficher le débogage des contrôles IK",showIkDebugDescription:"Afficher la visualisation de débogage des contrôles IK montrant les cibles de contraintes et chaînes d'os",hideIkDebug:"Masquer le débogage des contrôles IK",hideIkDebugDescription:"Masquer la visualisation de débogage des contrôles IK",showPhysicsDebug:"Afficher le débogage de la physique",showPhysicsDebugDescription:"Afficher la visualisation de débogage de la physique montrant les contraintes physiques et données de simulation",hidePhysicsDebug:"Masquer le débogage de la physique",hidePhysicsDebugDescription:"Masquer la visualisation de débogage de la physique"},animation:{playPause:"Lecture/Pause de l'animation",playPauseDescription:"Basculer la lecture de l'animation",stop:"Arrêter l'animation",stopDescription:"Arrêter l'animation actuelle",restart:"Redémarrer l'animation",restartDescription:"Redémarrer l'animation actuelle depuis le début"},skin:{switchTo:"Basculer vers {0}",switchToDescription:"Appliquer le skin {0}"},performance:{showBenchmark:"Afficher les informations de benchmark",showBenchmarkDescription:"Afficher le panneau de benchmark de performance"},help:{documentation:"Ouvrir la documentation",documentationDescription:"Ouvrir la documentation GitHub README"},language:{switchTo:"Basculer vers {0}",switchToDescription:"Changer la langue de l'interface vers {0}"},keywords:{animation:"animation",play:"lecture",pause:"pause",toggle:"basculer",stop:"arrêter",restart:"redémarrer",reset:"réinitialiser",skin:"skin",performance:"performance",benchmark:"benchmark",info:"info",stats:"statistiques",show:"afficher",help:"aide",documentation:"documentation",readme:"readme",github:"github",language:"langue",switch:"basculer"}},TB={placeholder:"Tapez une commande ou recherchez...",noCommands:"Aucune commande trouvée",tryDifferent:"Essayez un terme de recherche différent",shortcuts:{navigate:"pour naviguer",select:"pour sélectionner",close:"pour fermer"}},MB={title:"Analyse de benchmark Spine",close:"Fermer",tabs:{summary:"Résumé",meshAnalysis:"Analyse de maillage",clipping:"Découpage",blendModes:"Modes de fusion",skeletonTree:"Arbre du squelette",physicsAnalysis:"Physique/Contraintes"},content:{summaryTitle:"Résumé du benchmark",meshAnalysisTitle:"Analyse de maillage",clippingTitle:"Analyse de découpage",blendModesTitle:"Analyse des modes de fusion",skeletonTreeTitle:"Arbre du squelette",noData:"Aucune donnée {0} disponible",selectTab:"Sélectionnez un onglet pour voir les informations de benchmark"}},kB={spineVersion:"Attention : Ce fichier utilise Spine 4.1. Le benchmark est conçu pour Spine 4.2. La version sera ajustée automatiquement."},EB={name:"Français",selector:"Langue",modal:{title:"Sélectionner la langue"},changeLanguage:"Changer de langue",changeLanguageDescription:"Ouvrir la fenêtre de sélection de langue"},RB=JSON.parse(`{"summary":{"title":"Analyse de performance Spine","skeletonLabel":"Squelette : {{name}}","performanceLabel":"Performance {{rating}}","componentScoresTitle":"Scores des composants","skeletonStatsTitle":"Statistiques du squelette","optimizationTitle":"Recommandations d'optimisation","performanceExplanationTitle":"Interprétation du score de performance","components":{"boneStructure":"Structure osseuse","meshComplexity":"Complexité du maillage","clippingMasks":"Masques de découpage","blendModes":"Modes de fusion","constraints":"Contraintes"},"tableHeaders":{"component":"Composant","score":"Score","weight":"Poids","meter":"Indicateur","scoreRange":"Plage de scores","rating":"Évaluation","interpretation":"Interprétation"},"statistics":{"totalBones":"Total des os","maxBoneDepth":"Profondeur max des os","totalMeshes":"Total des maillages","totalVertices":"Total des sommets","clippingMasks":"Masques de découpage","nonNormalBlendModes":"Modes de fusion non-normaux","totalConstraints":"Total des contraintes","animations":"Animations","skins":"Skins"},"recommendations":{"reduceBoneDepth":"Réduisez la profondeur de la hiérarchie osseuse en aplatissant la structure où possible.","reduceTotalBones":"Considérez réduire le nombre total d'os en simplifiant le squelette.","reduceVertices":"Réduisez le nombre total de sommets dans tous les maillages.","minimizeDeformedMeshes":"Minimisez le nombre de maillages déformés, surtout ceux avec un nombre élevé de sommets.","reduceWeightedMeshes":"Réduisez le nombre de maillages avec des poids d'os, car ils nécessitent plus de calculs.","limitClippingMasks":"Limitez le nombre de masques de découpage car ils impactent significativement les performances.","simplifyComplexMasks":"Simplifiez les masques de découpage complexes pour utiliser moins de sommets (4 ou moins est optimal).","reduceNonNormalBlendModes":"Réduisez le nombre de modes de fusion non-normaux pour minimiser les changements d'état de rendu.","minimizeAdditiveBlendModes":"Minimisez l'utilisation des modes de fusion additifs car ils sont particulièrement coûteux.","reducePhysicsConstraints":"Les contraintes physiques sont particulièrement coûteuses - considérez réduire leur nombre ou complexité.","simplifyIkConstraints":"Simplifiez les contraintes IK en réduisant la longueur de chaîne ou le nombre d'os affectés.","optimizePathConstraints":"Optimisez les contraintes de chemin en simplifiant les chemins ou en réduisant le nombre d'os contraints."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Excellent","description":"Convient à toutes les plateformes et animations continues"},"good":{"range":"70-84","rating":"Bon","description":"Fonctionne bien sur la plupart des plateformes mais peut avoir des problèmes sur les appareils bas de gamme"},"moderate":{"range":"55-69","rating":"Modéré","description":"Peut causer des chutes de performance, surtout avec plusieurs instances"},"poor":{"range":"40-54","rating":"Mauvais","description":"Problèmes de performance probables sur la plupart des appareils"}}},"scores":{"ratings":{"excellent":"Excellent","good":"Bon","moderate":"Modéré","poor":"Mauvais","veryPoor":"Très mauvais"},"interpretations":{"excellent":"Convient à toutes les plateformes et animations continues","good":"Fonctionne bien sur la plupart des plateformes mais peut avoir des problèmes sur les appareils bas de gamme","moderate":"Peut causer des chutes de performance, surtout avec plusieurs instances","poor":"Problèmes de performance probables sur la plupart des appareils","veryPoor":"Problèmes de performance significatifs sur tous les appareils"}},"mesh":{"title":"Statistiques de maillage","statistics":{"totalMeshes":"Total des maillages : {{count}}","totalVertices":"Total des sommets : {{count}}","meshesWithDeformation":"Maillages avec déformation : {{count}}","meshesWithBoneWeights":"Maillages avec poids d'os : {{count}}","meshesWithParentMesh":"Maillages avec maillage parent : {{count}}"},"performanceScore":{"title":"Score de performance du maillage : {{score}}/100"},"formula":{"title":"Formule d'impact sur les performances :","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Slot","vertices":"Sommets","deformed":"Déformé","boneWeights":"Poids d'os","hasParentMesh":"A un maillage parent"},"values":{"yes":"Oui","no":"Non"},"notes":{"title":"Impact du maillage sur les performances :","vertexCount":"Nombre de sommets : Chaque sommet nécessite de la mémoire et du temps de traitement. Un nombre élevé de sommets (>50) a un impact significatif.","deformation":"Déformation : Les maillages déformants nécessitent des calculs supplémentaires par image - {{factor}}× plus coûteux que les maillages statiques.","boneWeights":"Poids d'os : Chaque poids d'os ajoute des opérations de multiplication matricielle - {{factor}}× plus d'impact par sommet pondéré.","optimizationTip":"Conseil d'optimisation : Utilisez moins de sommets pour les maillages qui se déforment ou ont des poids d'os. Considérez utiliser des attachements Region pour les formes simples."}},"clipping":{"title":"Masques de découpage","statistics":{"totalMasks":"Total des masques : {{count}}","totalVerticesInMasks":"Total des sommets dans les masques : {{count}}","complexMasks":"Masques complexes (>4 sommets) : {{count}}"},"performanceScore":{"title":"Score de performance du découpage : {{score}}/100"},"formula":{"title":"Formule d'impact sur les performances :","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Nom du slot","vertexCount":"Nombre de sommets","status":"Statut"},"status":{"optimal":"Optimal","acceptable":"Acceptable","highVertexCount":"Nombre élevé de sommets"},"noMasks":"Aucun masque de découpage trouvé dans ce squelette.","notes":{"title":"Notes sur les masques de découpage :","highImpact":"Impact élevé : Les masques de découpage sont l'une des opérations les plus coûteuses dans le rendu Spine","vertexCount":"Nombre de sommets : Chaque sommet dans un masque augmente le coût computationnel","optimalConfiguration":"Configuration optimale : Utilisez des masques triangulaires ou quadrilatéraux (3-4 sommets) quand possible","gpuCost":"Coût GPU : Chaque masque de découpage nécessite des passes de rendu GPU supplémentaires (opérations stencil buffer)","recommendation":"Recommandation : Limitez à 2-3 masques par squelette, avec moins de 6 sommets chacun"}},"blendMode":{"title":"Modes de fusion","statistics":{"nonNormalBlendModes":"Modes de fusion non-normaux : {{count}}","additiveBlendModes":"Modes de fusion additifs : {{count}}","multiplyBlendModes":"Modes de fusion multiplicatifs : {{count}}"},"performanceScore":{"title":"Score de performance des modes de fusion : {{score}}/100"},"formula":{"title":"Formule d'impact sur les performances :","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Mode de fusion","count":"Nombre","slotName":"Nom du slot"},"slotsWithNonNormalTitle":"Slots avec modes de fusion non-normaux :","notes":{"title":"Notes sur les modes de fusion :","normalBlendMode":"Mode de fusion normal : Le plus efficace, nécessite une seule passe de rendu","nonNormalBlendModes":"Modes de fusion non-normaux : Chacun nécessite une passe de rendu séparée ou un changement de shader","renderingCost":"Coût de rendu : Chaque changement de mode de fusion force une opération \\"flush\\" du moteur de rendu","additiveBlend":"Fusion additive : Coût plus élevé que la fusion normale en raison des calculs de fusion","multiplyBlend":"Fusion multiplicative : Similaire à l'additif, nécessite des opérations GPU supplémentaires","recommendation":"Recommandation : Limitez à 2 modes de fusion non-normaux par squelette"}},"skeleton":{"title":"Structure du squelette","statistics":{"totalBones":"Total des os : {{count}}","rootBones":"Os racines : {{count}}","maxDepth":"Profondeur max : {{depth}}"},"performanceScore":{"title":"Score de performance de la structure osseuse : {{score}}/100"},"formula":{"title":"Formule d'impact sur les performances :","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Notes sur la structure osseuse :","boneCount":"Nombre d'os : Chaque os nécessite des calculs matriciels à chaque image","hierarchyDepth":"Profondeur de hiérarchie : Les hiérarchies profondes augmentent exponentiellement la complexité des transformations","recommendation":"Recommandation : Gardez les hiérarchies osseuses sous 5 niveaux de profondeur quand possible","optimalStructure":"Structure optimale : Les hiérarchies plates avec peu de relations parent-enfant performent mieux"}},"physics":{"title":"Analyse des contraintes","statistics":{"totalConstraints":"Total des contraintes : {{count}}"},"performanceScore":{"title":"Score de performance des contraintes : {{score}}/100"},"formula":{"title":"Formule d'impact sur les performances :","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Où constraintImpact est une somme pondérée des impacts des contraintes IK, de transformation, de chemin et physiques"},"impactBreakdown":{"title":"Répartition de l'impact :","tableHeaders":{"constraintType":"Type de contrainte","count":"Nombre","impactLevel":"Niveau d'impact","weightedImpact":"Impact pondéré"}},"constraintTypes":{"ik":"Contraintes IK","transform":"Contraintes de transformation","path":"Contraintes de chemin","physics":"Contraintes physiques"},"constraintDetails":{"ikConstraints":{"title":"Contraintes IK","tableHeaders":{"name":"Nom","target":"Cible","bones":"Os","mix":"Mélange","status":"Statut"}},"transformConstraints":{"title":"Contraintes de transformation","tableHeaders":{"name":"Nom","target":"Cible","bones":"Os","properties":"Propriétés","status":"Statut"}},"pathConstraints":{"title":"Contraintes de chemin","tableHeaders":{"name":"Nom","target":"Cible","bones":"Os","modes":"Modes","status":"Statut"}},"physicsConstraints":{"title":"Contraintes physiques","tableHeaders":{"name":"Nom","bone":"Os","properties":"Propriétés","parameters":"Paramètres","status":"Statut"}}},"status":{"active":"Actif","inactive":"Inactif"},"properties":{"x":"X","y":"Y","rotation":"Rotation","scale":"Échelle","shear":"Cisaillement","rotate":"Rotation","scaleX":"ÉchelleX","scaleY":"ÉchelleY","shearY":"CisaillementY"},"modes":{"rotate":{"tangent":"Tangente","chain":"Chaîne","chainScale":"ÉchelleChaîne"},"spacing":{"length":"Longueur","fixed":"Fixe","percent":"Pourcentage","proportional":"Proportionnel"}},"parameters":{"inertia":"Inertie","strength":"Force","damping":"Amortissement","wind":"Vent","gravity":"Gravité"},"noConstraints":"Aucune contrainte trouvée dans ce squelette.","notes":{"title":"Notes sur les contraintes :","ikConstraints":"Contraintes IK : Le coût augmente avec la longueur de chaîne d'os et le nombre d'itérations","physicsConstraints":"Contraintes physiques : Impact le plus élevé sur les performances, surtout avec plusieurs propriétés affectées","pathConstraints":"Contraintes de chemin : Les courbes de chemin complexes et le mode de rotation ChainScale sont plus coûteux","transformConstraints":"Contraintes de transformation : Chaque propriété affectée (position, rotation, échelle) ajoute une surcharge de calcul","recommendation":"Recommandation : Utilisez les contraintes avec parcimonie et avec des chaînes d'os minimales quand possible"}}}`),DB={error:SB,ui:CB,commands:AB,commandPalette:TB,infoPanel:MB,warnings:kB,language:EB,analysis:RB},PB={1001:"Datei-Lesefehler: {0}",1002:"Bild-Ladefehler {0}: {1}",1003:"JSON-Parsing-Fehler für Skelett-Datei {0}: {1}",1004:"Nicht unterstützte Spine-Version: {0}. Maximal unterstützte Version: 4.1",1005:"Falsche Struktur in Skelett-JSON-Datei: {0}",1006:"Fehler beim Lesen der binären Skelett-Datei: {0}",1007:"Fehler beim Lesen der Atlas-Datei: {0}",1008:"Ungültige Atlas-Dateistruktur: {0}",1009:"Textur nicht gefunden: {0}",1010:"Fehler beim Erstellen des Atlas: {0}",1011:"Skelett enthält keine Knochen",1012:"Skelett-Parsing-Fehler: {0}",1013:"Fehler beim Erstellen der Spine-Instanz: {0}",1014:"Kritischer Fehler beim Erstellen des Assets: {0}",1015:"Dateiverarbeitungsfehler {0}: {1}",1016:"Skelett-Datei fehlt (.json oder .skel). Bitte laden Sie die Skelett-Datei zusammen mit dem Atlas hoch.",1017:"Atlas-Datei fehlt (.atlas). Bitte laden Sie sie zusammen mit dem Skelett hoch.",failedToInitialize:"Grafik-Initialisierung fehlgeschlagen: {0}",noFilesDropped:"Keine Dateien wurden abgelegt",noValidFiles:"Keine gültigen Dateien in den abgelegten Elementen gefunden",processingError:"Fehler beim Verarbeiten der abgelegten Dateien: {0}",loadingError:"Fehler beim Laden der Spine-Dateien: {0}"},BB={dropArea:"Spine-Dateien oder -Ordner hier ablegen (JSON, Atlas und Bilder)",loading:"Lädt...",helpText:"Strg+K öffnet ein Panel",close:"Schließen"},OB={categories:{recentlyUsed:"Kürzlich verwendet",debug:"Debug-Befehle",animation:"Animations-Befehle",skin:"Skin-Befehle",performance:"Leistungs-Befehle",language:"Sprach-Befehle"},debug:{showAttachmentDebug:"Attachment-Debug anzeigen",showAttachmentDebugDescription:"Attachment-Debug-Visualisierung anzeigen, die Attachment-Grenzen und -Eigenschaften zeigt",hideAttachmentDebug:"Attachment-Debug ausblenden",hideAttachmentDebugDescription:"Attachment-Debug-Visualisierung ausblenden",showMeshDebug:"Mesh-Debug anzeigen",showMeshDebugDescription:"Mesh-Debug-Visualisierung anzeigen, die Vertices, Dreiecke und Mesh-Struktur zeigt",hideMeshDebug:"Mesh-Debug ausblenden",hideMeshDebugDescription:"Mesh-Debug-Visualisierung ausblenden",showIkDebug:"IK-Controls-Debug anzeigen",showIkDebugDescription:"IK-Controls-Debug-Visualisierung anzeigen, die Constraint-Ziele und Knochenketten zeigt",hideIkDebug:"IK-Controls-Debug ausblenden",hideIkDebugDescription:"IK-Controls-Debug-Visualisierung ausblenden",showPhysicsDebug:"Physik-Debug anzeigen",showPhysicsDebugDescription:"Physik-Debug-Visualisierung anzeigen, die Physik-Constraints und Simulationsdaten zeigt",hidePhysicsDebug:"Physik-Debug ausblenden",hidePhysicsDebugDescription:"Physik-Debug-Visualisierung ausblenden"},animation:{playPause:"Animation abspielen/pausieren",playPauseDescription:"Animations-Wiedergabe umschalten",stop:"Animation stoppen",stopDescription:"Aktuelle Animation stoppen",restart:"Animation neu starten",restartDescription:"Aktuelle Animation von Anfang an neu starten"},skin:{switchTo:"Zu {0} wechseln",switchToDescription:"Skin {0} anwenden"},performance:{showBenchmark:"Benchmark-Informationen anzeigen",showBenchmarkDescription:"Leistungs-Benchmark-Panel anzeigen"},help:{documentation:"Dokumentation öffnen",documentationDescription:"GitHub README-Dokumentation öffnen"},language:{switchTo:"Zu {0} wechseln",switchToDescription:"Interface-Sprache zu {0} ändern"},keywords:{animation:"animation",play:"abspielen",pause:"pausieren",toggle:"umschalten",stop:"stoppen",restart:"neu starten",reset:"zurücksetzen",skin:"skin",performance:"leistung",benchmark:"benchmark",info:"info",stats:"statistiken",show:"anzeigen",help:"hilfe",documentation:"dokumentation",readme:"readme",github:"github",language:"sprache",switch:"wechseln"}},NB={placeholder:"Befehl eingeben oder suchen...",noCommands:"Keine Befehle gefunden",tryDifferent:"Versuchen Sie einen anderen Suchbegriff",shortcuts:{navigate:"zum Navigieren",select:"zum Auswählen",close:"zum Schließen"}},LB={title:"Spine Benchmark-Analyse",close:"Schließen",tabs:{summary:"Zusammenfassung",meshAnalysis:"Mesh-Analyse",clipping:"Clipping",blendModes:"Blend-Modi",skeletonTree:"Skelett-Baum",physicsAnalysis:"Physik/Constraints"},content:{summaryTitle:"Benchmark-Zusammenfassung",meshAnalysisTitle:"Mesh-Analyse",clippingTitle:"Clipping-Analyse",blendModesTitle:"Blend-Modi-Analyse",skeletonTreeTitle:"Skelett-Baum",noData:"Keine {0}-Daten verfügbar",selectTab:"Wählen Sie einen Tab, um Benchmark-Informationen anzuzeigen"}},IB={spineVersion:"Warnung: Diese Datei verwendet Spine 4.1. Der Benchmark ist für Spine 4.2 konzipiert. Die Version wird automatisch angepasst."},zB={name:"Deutsch",selector:"Sprache",modal:{title:"Sprache auswählen"},changeLanguage:"Sprache ändern",changeLanguageDescription:"Sprachauswahl-Modal öffnen"},FB=JSON.parse('{"summary":{"title":"Spine Leistungsanalyse","skeletonLabel":"Skelett: {{name}}","performanceLabel":"{{rating}} Leistung","componentScoresTitle":"Komponenten-Bewertungen","skeletonStatsTitle":"Skelett-Statistiken","optimizationTitle":"Optimierungsempfehlungen","performanceExplanationTitle":"Leistungsbewertung Interpretation","components":{"boneStructure":"Knochenstruktur","meshComplexity":"Mesh-Komplexität","clippingMasks":"Clipping-Masken","blendModes":"Blend-Modi","constraints":"Constraints"},"tableHeaders":{"component":"Komponente","score":"Bewertung","weight":"Gewicht","meter":"Anzeige","scoreRange":"Bewertungsbereich","rating":"Einstufung","interpretation":"Interpretation"},"statistics":{"totalBones":"Gesamte Knochen","maxBoneDepth":"Max. Knochentiefe","totalMeshes":"Gesamte Meshes","totalVertices":"Gesamte Vertices","clippingMasks":"Clipping-Masken","nonNormalBlendModes":"Nicht-normale Blend-Modi","totalConstraints":"Gesamte Constraints","animations":"Animationen","skins":"Skins"},"recommendations":{"reduceBoneDepth":"Reduzieren Sie die Knochenhierarchie-Tiefe durch Vereinfachung der Struktur wo möglich.","reduceTotalBones":"Erwägen Sie eine Reduzierung der Gesamtanzahl der Knochen durch Vereinfachung des Skeletts.","reduceVertices":"Reduzieren Sie die Gesamtanzahl der Vertices in allen Meshes.","minimizeDeformedMeshes":"Minimieren Sie die Anzahl deformierter Meshes, besonders solche mit hoher Vertex-Anzahl.","reduceWeightedMeshes":"Reduzieren Sie die Anzahl der Meshes mit Knochengewichten, da sie mehr Berechnungen erfordern.","limitClippingMasks":"Begrenzen Sie die Anzahl der Clipping-Masken, da sie die Leistung erheblich beeinträchtigen.","simplifyComplexMasks":"Vereinfachen Sie komplexe Clipping-Masken, um weniger Vertices zu verwenden (4 oder weniger ist optimal).","reduceNonNormalBlendModes":"Reduzieren Sie die Anzahl nicht-normaler Blend-Modi, um Render-Zustandsänderungen zu minimieren.","minimizeAdditiveBlendModes":"Minimieren Sie die Verwendung additiver Blend-Modi, da sie besonders teuer sind.","reducePhysicsConstraints":"Physik-Constraints sind besonders teuer - erwägen Sie eine Reduzierung ihrer Anzahl oder Komplexität.","simplifyIkConstraints":"Vereinfachen Sie IK-Constraints durch Reduzierung der Kettenlänge oder Anzahl betroffener Knochen.","optimizePathConstraints":"Optimieren Sie Pfad-Constraints durch Vereinfachung der Pfade oder Reduzierung der Anzahl eingeschränkter Knochen."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Ausgezeichnet","description":"Geeignet für alle Plattformen und kontinuierliche Animationen"},"good":{"range":"70-84","rating":"Gut","description":"Funktioniert gut auf den meisten Plattformen, aber kann Probleme auf schwachen Geräten haben"},"moderate":{"range":"55-69","rating":"Mäßig","description":"Kann Leistungseinbußen verursachen, besonders bei mehreren Instanzen"},"poor":{"range":"40-54","rating":"Schlecht","description":"Leistungsprobleme wahrscheinlich auf den meisten Geräten"}}},"scores":{"ratings":{"excellent":"Ausgezeichnet","good":"Gut","moderate":"Mäßig","poor":"Schlecht","veryPoor":"Sehr schlecht"},"interpretations":{"excellent":"Geeignet für alle Plattformen und kontinuierliche Animationen","good":"Funktioniert gut auf den meisten Plattformen, aber kann Probleme auf schwachen Geräten haben","moderate":"Kann Leistungseinbußen verursachen, besonders bei mehreren Instanzen","poor":"Leistungsprobleme wahrscheinlich auf den meisten Geräten","veryPoor":"Erhebliche Leistungsprobleme auf allen Geräten"}},"mesh":{"title":"Mesh-Statistiken","statistics":{"totalMeshes":"Gesamte Meshes: {{count}}","totalVertices":"Gesamte Vertices: {{count}}","meshesWithDeformation":"Meshes mit Deformation: {{count}}","meshesWithBoneWeights":"Meshes mit Knochengewichten: {{count}}","meshesWithParentMesh":"Meshes mit Parent-Mesh: {{count}}"},"performanceScore":{"title":"Mesh-Leistungsbewertung: {{score}}/100"},"formula":{"title":"Leistungsauswirkung-Formel:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Slot","vertices":"Vertices","deformed":"Deformiert","boneWeights":"Knochengewichte","hasParentMesh":"Hat Parent-Mesh"},"values":{"yes":"Ja","no":"Nein"},"notes":{"title":"Mesh-Leistungsauswirkung:","vertexCount":"Vertex-Anzahl: Jeder Vertex benötigt Speicher und Verarbeitungszeit. Hohe Vertex-Anzahlen (>50) haben erhebliche Auswirkungen.","deformation":"Deformation: Deformierende Meshes benötigen zusätzliche Berechnungen pro Frame - {{factor}}× teurer als statische Meshes.","boneWeights":"Knochengewichte: Jedes Knochengewicht fügt Matrixmultiplikations-Operationen hinzu - {{factor}}× mehr Auswirkung pro gewichtetem Vertex.","optimizationTip":"Optimierungstipp: Verwenden Sie weniger Vertices für Meshes, die sich deformieren oder Knochengewichte haben. Erwägen Sie Region-Attachments für einfache Formen."}},"clipping":{"title":"Clipping-Masken","statistics":{"totalMasks":"Gesamte Masken: {{count}}","totalVerticesInMasks":"Gesamte Vertices in Masken: {{count}}","complexMasks":"Komplexe Masken (>4 Vertices): {{count}}"},"performanceScore":{"title":"Clipping-Leistungsbewertung: {{score}}/100"},"formula":{"title":"Leistungsauswirkung-Formel:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Slot-Name","vertexCount":"Vertex-Anzahl","status":"Status"},"status":{"optimal":"Optimal","acceptable":"Akzeptabel","highVertexCount":"Hohe Vertex-Anzahl"},"noMasks":"Keine Clipping-Masken in diesem Skelett gefunden.","notes":{"title":"Hinweise zu Clipping-Masken:","highImpact":"Hohe Auswirkung: Clipping-Masken sind eine der teuersten Operationen im Spine-Rendering","vertexCount":"Vertex-Anzahl: Jeder Vertex in einer Maske erhöht die Berechnungskosten","optimalConfiguration":"Optimale Konfiguration: Verwenden Sie dreieckige oder viereckige Masken (3-4 Vertices) wenn möglich","gpuCost":"GPU-Kosten: Jede Clipping-Maske erfordert zusätzliche GPU-Rendering-Durchgänge (Stencil-Buffer-Operationen)","recommendation":"Empfehlung: Begrenzen Sie auf 2-3 Masken pro Skelett, mit weniger als 6 Vertices jeweils"}},"blendMode":{"title":"Blend-Modi","statistics":{"nonNormalBlendModes":"Nicht-normale Blend-Modi: {{count}}","additiveBlendModes":"Additive Blend-Modi: {{count}}","multiplyBlendModes":"Multiplikative Blend-Modi: {{count}}"},"performanceScore":{"title":"Blend-Modi-Leistungsbewertung: {{score}}/100"},"formula":{"title":"Leistungsauswirkung-Formel:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Blend-Modus","count":"Anzahl","slotName":"Slot-Name"},"slotsWithNonNormalTitle":"Slots mit nicht-normalen Blend-Modi:","notes":{"title":"Hinweise zu Blend-Modi:","normalBlendMode":"Normaler Blend-Modus: Am effizientesten, erfordert einen einzigen Rendering-Durchgang","nonNormalBlendModes":"Nicht-normale Blend-Modi: Jeder erfordert einen separaten Render-Durchgang oder Shader-Wechsel","renderingCost":"Rendering-Kosten: Jeder Blend-Modi-Wechsel erzwingt eine Renderer-\\"Flush\\"-Operation","additiveBlend":"Additives Blending: Höhere Kosten als normales Blending aufgrund von Blending-Berechnungen","multiplyBlend":"Multiplikatives Blending: Ähnlich wie additiv, erfordert zusätzliche GPU-Operationen","recommendation":"Empfehlung: Begrenzen Sie auf 2 nicht-normale Blend-Modi pro Skelett"}},"skeleton":{"title":"Skelett-Struktur","statistics":{"totalBones":"Gesamte Knochen: {{count}}","rootBones":"Wurzel-Knochen: {{count}}","maxDepth":"Max. Tiefe: {{depth}}"},"performanceScore":{"title":"Knochenstruktur-Leistungsbewertung: {{score}}/100"},"formula":{"title":"Leistungsauswirkung-Formel:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Hinweise zur Knochenstruktur:","boneCount":"Knochenanzahl: Jeder Knochen erfordert Matrixberechnungen pro Frame","hierarchyDepth":"Hierarchietiefe: Tiefe Hierarchien erhöhen die Transformationskomplexität exponentiell","recommendation":"Empfehlung: Halten Sie Knochenhierarchien unter 5 Ebenen Tiefe wenn möglich","optimalStructure":"Optimale Struktur: Flache Hierarchien mit wenigen Eltern-Kind-Beziehungen funktionieren besser"}},"physics":{"title":"Constraint-Analyse","statistics":{"totalConstraints":"Gesamte Constraints: {{count}}"},"performanceScore":{"title":"Constraint-Leistungsbewertung: {{score}}/100"},"formula":{"title":"Leistungsauswirkung-Formel:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Wobei constraintImpact eine gewichtete Summe der IK-, Transform-, Pfad- und Physik-Constraint-Auswirkungen ist"},"impactBreakdown":{"title":"Auswirkungsaufschlüsselung:","tableHeaders":{"constraintType":"Constraint-Typ","count":"Anzahl","impactLevel":"Auswirkungsgrad","weightedImpact":"Gewichtete Auswirkung"}},"constraintTypes":{"ik":"IK-Constraints","transform":"Transform-Constraints","path":"Pfad-Constraints","physics":"Physik-Constraints"},"constraintDetails":{"ikConstraints":{"title":"IK-Constraints","tableHeaders":{"name":"Name","target":"Ziel","bones":"Knochen","mix":"Mix","status":"Status"}},"transformConstraints":{"title":"Transform-Constraints","tableHeaders":{"name":"Name","target":"Ziel","bones":"Knochen","properties":"Eigenschaften","status":"Status"}},"pathConstraints":{"title":"Pfad-Constraints","tableHeaders":{"name":"Name","target":"Ziel","bones":"Knochen","modes":"Modi","status":"Status"}},"physicsConstraints":{"title":"Physik-Constraints","tableHeaders":{"name":"Name","bone":"Knochen","properties":"Eigenschaften","parameters":"Parameter","status":"Status"}}},"status":{"active":"Aktiv","inactive":"Inaktiv"},"properties":{"x":"X","y":"Y","rotation":"Rotation","scale":"Skalierung","shear":"Scherung","rotate":"Rotation","scaleX":"SkalierungX","scaleY":"SkalierungY","shearY":"ScherungY"},"modes":{"rotate":{"tangent":"Tangente","chain":"Kette","chainScale":"KettenSkalierung"},"spacing":{"length":"Länge","fixed":"Fest","percent":"Prozent","proportional":"Proportional"}},"parameters":{"inertia":"Trägheit","strength":"Stärke","damping":"Dämpfung","wind":"Wind","gravity":"Schwerkraft"},"noConstraints":"Keine Constraints in diesem Skelett gefunden.","notes":{"title":"Hinweise zu Constraints:","ikConstraints":"IK-Constraints: Kosten steigen mit Knochenkettenlänge und Iterationsanzahl","physicsConstraints":"Physik-Constraints: Höchste Leistungsauswirkung, besonders bei mehreren betroffenen Eigenschaften","pathConstraints":"Pfad-Constraints: Komplexe Pfadkurven und ChainScale-Rotationsmodus sind teurer","transformConstraints":"Transform-Constraints: Jede betroffene Eigenschaft (Position, Rotation, Skalierung) fügt Berechnungsoverhead hinzu","recommendation":"Empfehlung: Verwenden Sie Constraints sparsam und mit minimalen Knochenketten wenn möglich"}}}'),jB={error:PB,ui:BB,commands:OB,commandPalette:NB,infoPanel:LB,warnings:IB,language:zB,analysis:FB},YB={1001:"Erro de leitura do arquivo: {0}",1002:"Erro de carregamento da imagem {0}: {1}",1003:"Erro de análise JSON do arquivo de esqueleto {0}: {1}",1004:"Versão do Spine não suportada: {0}. Versão máxima suportada: 4.1",1005:"Estrutura incorreta no arquivo JSON do esqueleto: {0}",1006:"Erro ao ler arquivo binário do esqueleto: {0}",1007:"Erro ao ler arquivo do atlas: {0}",1008:"Estrutura de arquivo do atlas inválida: {0}",1009:"Textura não encontrada: {0}",1010:"Erro ao criar atlas: {0}",1011:"Esqueleto não contém ossos",1012:"Erro de análise do esqueleto: {0}",1013:"Erro ao criar instância do Spine: {0}",1014:"Erro crítico ao criar asset: {0}",1015:"Erro de processamento do arquivo {0}: {1}",1016:"Arquivo de esqueleto ausente (.json ou .skel). Por favor, envie o arquivo de esqueleto junto com o atlas.",1017:"Arquivo de atlas ausente (.atlas). Por favor, envie-o junto com o esqueleto.",failedToInitialize:"Falha ao inicializar gráficos: {0}",noFilesDropped:"Nenhum arquivo foi solto",noValidFiles:"Nenhum arquivo válido encontrado nos itens soltos",processingError:"Erro ao processar arquivos soltos: {0}",loadingError:"Erro ao carregar arquivos do Spine: {0}"},UB={dropArea:"Solte arquivos ou pastas do Spine aqui (JSON, Atlas e Imagens)",loading:"Carregando...",helpText:"Ctrl+K abre um painel",close:"Fechar"},VB={categories:{recentlyUsed:"Usados recentemente",debug:"Comandos de depuração",animation:"Comandos de animação",skin:"Comandos de skin",performance:"Comandos de performance",language:"Comandos de idioma"},debug:{showAttachmentDebug:"Mostrar debug de anexos",showAttachmentDebugDescription:"Exibir visualização de debug de anexos mostrando limites e propriedades dos anexos",hideAttachmentDebug:"Ocultar debug de anexos",hideAttachmentDebugDescription:"Ocultar visualização de debug de anexos",showMeshDebug:"Mostrar debug de malha",showMeshDebugDescription:"Exibir visualização de debug de malha mostrando vértices, triângulos e estrutura da malha",hideMeshDebug:"Ocultar debug de malha",hideMeshDebugDescription:"Ocultar visualização de debug de malha",showIkDebug:"Mostrar debug de controles IK",showIkDebugDescription:"Exibir visualização de debug de controles IK mostrando alvos de restrições e cadeias ósseas",hideIkDebug:"Ocultar debug de controles IK",hideIkDebugDescription:"Ocultar visualização de debug de controles IK",showPhysicsDebug:"Mostrar debug de física",showPhysicsDebugDescription:"Exibir visualização de debug de física mostrando restrições físicas e dados de simulação",hidePhysicsDebug:"Ocultar debug de física",hidePhysicsDebugDescription:"Ocultar visualização de debug de física"},animation:{playPause:"Reproduzir/Pausar animação",playPauseDescription:"Alternar reprodução da animação",stop:"Parar animação",stopDescription:"Parar animação atual",restart:"Reiniciar animação",restartDescription:"Reiniciar animação atual do início"},skin:{switchTo:"Mudar para {0}",switchToDescription:"Aplicar skin {0}"},performance:{showBenchmark:"Mostrar informações de benchmark",showBenchmarkDescription:"Mostrar painel de benchmark de performance"},help:{documentation:"Abrir documentação",documentationDescription:"Abrir documentação do GitHub README"},language:{switchTo:"Mudar para {0}",switchToDescription:"Alterar idioma da interface para {0}"},keywords:{animation:"animação",play:"reproduzir",pause:"pausar",toggle:"alternar",stop:"parar",restart:"reiniciar",reset:"resetar",skin:"skin",performance:"performance",benchmark:"benchmark",info:"info",stats:"estatísticas",show:"mostrar",help:"ajuda",documentation:"documentação",readme:"readme",github:"github",language:"idioma",switch:"mudar"}},HB={placeholder:"Digite um comando ou pesquise...",noCommands:"Nenhum comando encontrado",tryDifferent:"Tente um termo de pesquisa diferente",shortcuts:{navigate:"para navegar",select:"para selecionar",close:"para fechar"}},XB={title:"Análise de Benchmark Spine",close:"Fechar",tabs:{summary:"Resumo",meshAnalysis:"Análise de malha",clipping:"Recorte",blendModes:"Modos de mistura",skeletonTree:"Árvore do esqueleto",physicsAnalysis:"Física/Restrições"},content:{summaryTitle:"Resumo do benchmark",meshAnalysisTitle:"Análise de malha",clippingTitle:"Análise de recorte",blendModesTitle:"Análise de modos de mistura",skeletonTreeTitle:"Árvore do esqueleto",noData:"Nenhum dado de {0} disponível",selectTab:"Selecione uma aba para ver informações do benchmark"}},GB={spineVersion:"Aviso: Este arquivo usa Spine 4.1. O benchmark é projetado para Spine 4.2. A versão será ajustada automaticamente."},qB={name:"Português (Brasil)",selector:"Idioma",modal:{title:"Selecionar idioma"},changeLanguage:"Alterar idioma",changeLanguageDescription:"Abrir modal de seleção de idioma"},WB=JSON.parse('{"summary":{"title":"Análise de Performance do Spine","skeletonLabel":"Esqueleto: {{name}}","performanceLabel":"Performance {{rating}}","componentScoresTitle":"Pontuações dos Componentes","skeletonStatsTitle":"Estatísticas do Esqueleto","optimizationTitle":"Recomendações de Otimização","performanceExplanationTitle":"Interpretação da Pontuação de Performance","components":{"boneStructure":"Estrutura Óssea","meshComplexity":"Complexidade da Malha","clippingMasks":"Máscaras de Recorte","blendModes":"Modos de Mistura","constraints":"Restrições"},"tableHeaders":{"component":"Componente","score":"Pontuação","weight":"Peso","meter":"Medidor","scoreRange":"Faixa de Pontuação","rating":"Classificação","interpretation":"Interpretação"},"statistics":{"totalBones":"Total de Ossos","maxBoneDepth":"Profundidade Máx. dos Ossos","totalMeshes":"Total de Malhas","totalVertices":"Total de Vértices","clippingMasks":"Máscaras de Recorte","nonNormalBlendModes":"Modos de Mistura Não-Normais","totalConstraints":"Total de Restrições","animations":"Animações","skins":"Skins"},"recommendations":{"reduceBoneDepth":"Reduza a profundidade da hierarquia óssea achatando a estrutura onde possível.","reduceTotalBones":"Considere reduzir o número total de ossos simplificando o esqueleto.","reduceVertices":"Reduza o número total de vértices em todas as malhas.","minimizeDeformedMeshes":"Minimize o número de malhas deformadas, especialmente aquelas com alta contagem de vértices.","reduceWeightedMeshes":"Reduza o número de malhas com pesos ósseos, pois elas requerem mais cálculos.","limitClippingMasks":"Limite o número de máscaras de recorte, pois elas impactam significativamente a performance.","simplifyComplexMasks":"Simplifique máscaras de recorte complexas para usar menos vértices (4 ou menos é ideal).","reduceNonNormalBlendModes":"Reduza o número de modos de mistura não-normais para minimizar mudanças de estado de renderização.","minimizeAdditiveBlendModes":"Minimize o uso de modos de mistura aditivos, pois são particularmente caros.","reducePhysicsConstraints":"Restrições físicas são particularmente caras - considere reduzir seu número ou complexidade.","simplifyIkConstraints":"Simplifique restrições IK reduzindo o comprimento da cadeia ou número de ossos afetados.","optimizePathConstraints":"Otimize restrições de caminho simplificando caminhos ou reduzindo o número de ossos restringidos."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Excelente","description":"Adequado para todas as plataformas e animações contínuas"},"good":{"range":"70-84","rating":"Bom","description":"Funciona bem na maioria das plataformas, mas pode ter problemas em dispositivos de baixo desempenho"},"moderate":{"range":"55-69","rating":"Moderado","description":"Pode causar quedas de performance, especialmente com múltiplas instâncias"},"poor":{"range":"40-54","rating":"Ruim","description":"Problemas de performance prováveis na maioria dos dispositivos"}}},"scores":{"ratings":{"excellent":"Excelente","good":"Bom","moderate":"Moderado","poor":"Ruim","veryPoor":"Muito Ruim"},"interpretations":{"excellent":"Adequado para todas as plataformas e animações contínuas","good":"Funciona bem na maioria das plataformas, mas pode ter problemas em dispositivos de baixo desempenho","moderate":"Pode causar quedas de performance, especialmente com múltiplas instâncias","poor":"Problemas de performance prováveis na maioria dos dispositivos","veryPoor":"Problemas significativos de performance em todos os dispositivos"}},"mesh":{"title":"Estatísticas de Malha","statistics":{"totalMeshes":"Total de malhas: {{count}}","totalVertices":"Total de vértices: {{count}}","meshesWithDeformation":"Malhas com deformação: {{count}}","meshesWithBoneWeights":"Malhas com pesos ósseos: {{count}}","meshesWithParentMesh":"Malhas com malha pai: {{count}}"},"performanceScore":{"title":"Pontuação de Performance da Malha: {{score}}/100"},"formula":{"title":"Fórmula de Impacto na Performance:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Slot","vertices":"Vértices","deformed":"Deformada","boneWeights":"Pesos Ósseos","hasParentMesh":"Tem Malha Pai"},"values":{"yes":"Sim","no":"Não"},"notes":{"title":"Impacto da Malha na Performance:","vertexCount":"Contagem de Vértices: Cada vértice requer memória e tempo de processamento. Altas contagens de vértices (>50) têm impacto significativo.","deformation":"Deformação: Malhas deformantes requerem cálculos extras por frame - {{factor}}× mais caras que malhas estáticas.","boneWeights":"Pesos Ósseos: Cada peso ósseo adiciona operações de multiplicação de matriz - {{factor}}× mais impacto por vértice ponderado.","optimizationTip":"Dica de Otimização: Use menos vértices para malhas que deformam ou têm pesos ósseos. Considere usar anexos Region para formas simples."}},"clipping":{"title":"Máscaras de Recorte","statistics":{"totalMasks":"Total de máscaras: {{count}}","totalVerticesInMasks":"Total de vértices nas máscaras: {{count}}","complexMasks":"Máscaras complexas (>4 vértices): {{count}}"},"performanceScore":{"title":"Pontuação de Performance do Recorte: {{score}}/100"},"formula":{"title":"Fórmula de Impacto na Performance:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Nome do Slot","vertexCount":"Contagem de Vértices","status":"Status"},"status":{"optimal":"Ideal","acceptable":"Aceitável","highVertexCount":"Alta Contagem de Vértices"},"noMasks":"Nenhuma máscara de recorte encontrada neste esqueleto.","notes":{"title":"Notas sobre Máscaras de Recorte:","highImpact":"Alto Impacto: Máscaras de recorte são uma das operações mais caras na renderização do Spine","vertexCount":"Contagem de Vértices: Cada vértice em uma máscara aumenta o custo computacional","optimalConfiguration":"Configuração Ideal: Use máscaras triangulares ou quadrilaterais (3-4 vértices) quando possível","gpuCost":"Custo da GPU: Cada máscara de recorte requer passadas adicionais de renderização da GPU (operações de stencil buffer)","recommendation":"Recomendação: Limite a 2-3 máscaras por esqueleto, com menos de 6 vértices cada"}},"blendMode":{"title":"Modos de Mistura","statistics":{"nonNormalBlendModes":"Modos de mistura não-normais: {{count}}","additiveBlendModes":"Modos de mistura aditivos: {{count}}","multiplyBlendModes":"Modos de mistura multiplicativos: {{count}}"},"performanceScore":{"title":"Pontuação de Performance dos Modos de Mistura: {{score}}/100"},"formula":{"title":"Fórmula de Impacto na Performance:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Modo de Mistura","count":"Contagem","slotName":"Nome do Slot"},"slotsWithNonNormalTitle":"Slots com Modos de Mistura Não-Normais:","notes":{"title":"Notas sobre Modos de Mistura:","normalBlendMode":"Modo de Mistura Normal: Mais eficiente, requer uma única passada de renderização","nonNormalBlendModes":"Modos de Mistura Não-Normais: Cada um requer uma passada de renderização separada ou troca de shader","renderingCost":"Custo de Renderização: Cada mudança de modo de mistura força uma operação de \\"flush\\" do renderizador","additiveBlend":"Mistura Aditiva: Custo mais alto que mistura normal devido a cálculos de mistura","multiplyBlend":"Mistura Multiplicativa: Similar ao aditivo, requer operações adicionais da GPU","recommendation":"Recomendação: Limite a 2 modos de mistura não-normais por esqueleto"}},"skeleton":{"title":"Estrutura do Esqueleto","statistics":{"totalBones":"Total de ossos: {{count}}","rootBones":"Ossos raiz: {{count}}","maxDepth":"Profundidade máx.: {{depth}}"},"performanceScore":{"title":"Pontuação de Performance da Estrutura Óssea: {{score}}/100"},"formula":{"title":"Fórmula de Impacto na Performance:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Notas sobre Estrutura Óssea:","boneCount":"Contagem de Ossos: Cada osso requer cálculos de matriz a cada frame","hierarchyDepth":"Profundidade da Hierarquia: Hierarquias profundas aumentam a complexidade de transformação exponencialmente","recommendation":"Recomendação: Mantenha hierarquias ósseas abaixo de 5 níveis de profundidade quando possível","optimalStructure":"Estrutura Ideal: Hierarquias planas com poucas relações pai-filho performam melhor"}},"physics":{"title":"Análise de Restrições","statistics":{"totalConstraints":"Total de restrições: {{count}}"},"performanceScore":{"title":"Pontuação de Performance das Restrições: {{score}}/100"},"formula":{"title":"Fórmula de Impacto na Performance:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Onde constraintImpact é uma soma ponderada dos impactos das restrições IK, transformação, caminho e física"},"impactBreakdown":{"title":"Detalhamento do Impacto:","tableHeaders":{"constraintType":"Tipo de Restrição","count":"Contagem","impactLevel":"Nível de Impacto","weightedImpact":"Impacto Ponderado"}},"constraintTypes":{"ik":"Restrições IK","transform":"Restrições de Transformação","path":"Restrições de Caminho","physics":"Restrições Físicas"},"constraintDetails":{"ikConstraints":{"title":"Restrições IK","tableHeaders":{"name":"Nome","target":"Alvo","bones":"Ossos","mix":"Mistura","status":"Status"}},"transformConstraints":{"title":"Restrições de Transformação","tableHeaders":{"name":"Nome","target":"Alvo","bones":"Ossos","properties":"Propriedades","status":"Status"}},"pathConstraints":{"title":"Restrições de Caminho","tableHeaders":{"name":"Nome","target":"Alvo","bones":"Ossos","modes":"Modos","status":"Status"}},"physicsConstraints":{"title":"Restrições Físicas","tableHeaders":{"name":"Nome","bone":"Osso","properties":"Propriedades","parameters":"Parâmetros","status":"Status"}}},"status":{"active":"Ativo","inactive":"Inativo"},"properties":{"x":"X","y":"Y","rotation":"Rotação","scale":"Escala","shear":"Cisalhamento","rotate":"Rotação","scaleX":"EscalaX","scaleY":"EscalaY","shearY":"CisalhamentoY"},"modes":{"rotate":{"tangent":"Tangente","chain":"Cadeia","chainScale":"EscalaCadeia"},"spacing":{"length":"Comprimento","fixed":"Fixo","percent":"Porcentagem","proportional":"Proporcional"}},"parameters":{"inertia":"Inércia","strength":"Força","damping":"Amortecimento","wind":"Vento","gravity":"Gravidade"},"noConstraints":"Nenhuma restrição encontrada neste esqueleto.","notes":{"title":"Notas sobre Restrições:","ikConstraints":"Restrições IK: Custo aumenta com o comprimento da cadeia óssea e contagem de iterações","physicsConstraints":"Restrições Físicas: Maior impacto na performance, especialmente com múltiplas propriedades afetadas","pathConstraints":"Restrições de Caminho: Curvas de caminho complexas e modo de rotação ChainScale são mais caros","transformConstraints":"Restrições de Transformação: Cada propriedade afetada (posição, rotação, escala) adiciona sobrecarga de cálculo","recommendation":"Recomendação: Use restrições com parcimônia e com cadeias ósseas mínimas quando possível"}}}'),$B={error:YB,ui:UB,commands:VB,commandPalette:HB,infoPanel:XB,warnings:GB,language:qB,analysis:WB},KB={1001:"Error de lectura del archivo: {0}",1002:"Error de carga de imagen {0}: {1}",1003:"Error de análisis JSON del archivo de esqueleto {0}: {1}",1004:"Versión de Spine no soportada: {0}. Versión máxima soportada: 4.1",1005:"Estructura incorrecta en el archivo JSON del esqueleto: {0}",1006:"Error al leer archivo binario del esqueleto: {0}",1007:"Error al leer archivo del atlas: {0}",1008:"Estructura de archivo del atlas inválida: {0}",1009:"Textura no encontrada: {0}",1010:"Error al crear atlas: {0}",1011:"El esqueleto no contiene huesos",1012:"Error de análisis del esqueleto: {0}",1013:"Error al crear instancia de Spine: {0}",1014:"Error crítico al crear asset: {0}",1015:"Error de procesamiento del archivo {0}: {1}",1016:"Archivo de esqueleto faltante (.json o .skel). Por favor, suba el archivo de esqueleto junto con el atlas.",1017:"Archivo de atlas faltante (.atlas). Por favor, súbalo junto con el esqueleto.",failedToInitialize:"Error al inicializar gráficos: {0}",noFilesDropped:"No se soltaron archivos",noValidFiles:"No se encontraron archivos válidos en los elementos soltados",processingError:"Error al procesar archivos soltados: {0}",loadingError:"Error al cargar archivos de Spine: {0}"},QB={dropArea:"Suelta archivos o carpetas de Spine aquí (JSON, Atlas e Imágenes)",loading:"Cargando...",helpText:"Ctrl+K abre un panel",close:"Cerrar"},ZB={categories:{recentlyUsed:"Usados recientemente",debug:"Comandos de depuración",animation:"Comandos de animación",skin:"Comandos de skin",performance:"Comandos de rendimiento",language:"Comandos de idioma"},debug:{showAttachmentDebug:"Mostrar debug de adjuntos",showAttachmentDebugDescription:"Mostrar visualización de debug de adjuntos mostrando límites y propiedades de adjuntos",hideAttachmentDebug:"Ocultar debug de adjuntos",hideAttachmentDebugDescription:"Ocultar visualización de debug de adjuntos",showMeshDebug:"Mostrar debug de malla",showMeshDebugDescription:"Mostrar visualización de debug de malla mostrando vértices, triángulos y estructura de malla",hideMeshDebug:"Ocultar debug de malla",hideMeshDebugDescription:"Ocultar visualización de debug de malla",showIkDebug:"Mostrar debug de controles IK",showIkDebugDescription:"Mostrar visualización de debug de controles IK mostrando objetivos de restricciones y cadenas óseas",hideIkDebug:"Ocultar debug de controles IK",hideIkDebugDescription:"Ocultar visualización de debug de controles IK",showPhysicsDebug:"Mostrar debug de física",showPhysicsDebugDescription:"Mostrar visualización de debug de física mostrando restricciones físicas y datos de simulación",hidePhysicsDebug:"Ocultar debug de física",hidePhysicsDebugDescription:"Ocultar visualización de debug de física"},animation:{playPause:"Reproducir/Pausar animación",playPauseDescription:"Alternar reproducción de animación",stop:"Detener animación",stopDescription:"Detener animación actual",restart:"Reiniciar animación",restartDescription:"Reiniciar animación actual desde el principio"},skin:{switchTo:"Cambiar a {0}",switchToDescription:"Aplicar skin {0}"},performance:{showBenchmark:"Mostrar información de benchmark",showBenchmarkDescription:"Mostrar panel de benchmark de rendimiento"},help:{documentation:"Abrir documentación",documentationDescription:"Abrir documentación de GitHub README"},language:{switchTo:"Cambiar a {0}",switchToDescription:"Cambiar idioma de la interfaz a {0}"},keywords:{animation:"animación",play:"reproducir",pause:"pausar",toggle:"alternar",stop:"detener",restart:"reiniciar",reset:"resetear",skin:"skin",performance:"rendimiento",benchmark:"benchmark",info:"info",stats:"estadísticas",show:"mostrar",help:"ayuda",documentation:"documentación",readme:"readme",github:"github",language:"idioma",switch:"cambiar"}},JB={placeholder:"Escribe un comando o busca...",noCommands:"No se encontraron comandos",tryDifferent:"Prueba un término de búsqueda diferente",shortcuts:{navigate:"para navegar",select:"para seleccionar",close:"para cerrar"}},e3={title:"Análisis de Benchmark Spine",close:"Cerrar",tabs:{summary:"Resumen",meshAnalysis:"Análisis de malla",clipping:"Recorte",blendModes:"Modos de mezcla",skeletonTree:"Árbol del esqueleto",physicsAnalysis:"Física/Restricciones"},content:{summaryTitle:"Resumen del benchmark",meshAnalysisTitle:"Análisis de malla",clippingTitle:"Análisis de recorte",blendModesTitle:"Análisis de modos de mezcla",skeletonTreeTitle:"Árbol del esqueleto",noData:"No hay datos de {0} disponibles",selectTab:"Selecciona una pestaña para ver información del benchmark"}},t3={spineVersion:"Advertencia: Este archivo usa Spine 4.1. El benchmark está diseñado para Spine 4.2. La versión se ajustará automáticamente."},s3={name:"Español",selector:"Idioma",modal:{title:"Seleccionar idioma"},changeLanguage:"Cambiar idioma",changeLanguageDescription:"Abrir modal de selección de idioma"},i3=JSON.parse('{"summary":{"title":"Análisis de Rendimiento de Spine","skeletonLabel":"Esqueleto: {{name}}","performanceLabel":"Rendimiento {{rating}}","componentScoresTitle":"Puntuaciones de Componentes","skeletonStatsTitle":"Estadísticas del Esqueleto","optimizationTitle":"Recomendaciones de Optimización","performanceExplanationTitle":"Interpretación de la Puntuación de Rendimiento","components":{"boneStructure":"Estructura Ósea","meshComplexity":"Complejidad de Malla","clippingMasks":"Máscaras de Recorte","blendModes":"Modos de Mezcla","constraints":"Restricciones"},"tableHeaders":{"component":"Componente","score":"Puntuación","weight":"Peso","meter":"Medidor","scoreRange":"Rango de Puntuación","rating":"Calificación","interpretation":"Interpretación"},"statistics":{"totalBones":"Total de Huesos","maxBoneDepth":"Profundidad Máx. de Huesos","totalMeshes":"Total de Mallas","totalVertices":"Total de Vértices","clippingMasks":"Máscaras de Recorte","nonNormalBlendModes":"Modos de Mezcla No-Normales","totalConstraints":"Total de Restricciones","animations":"Animaciones","skins":"Skins"},"recommendations":{"reduceBoneDepth":"Reduzca la profundidad de la jerarquía ósea aplanando la estructura donde sea posible.","reduceTotalBones":"Considere reducir el número total de huesos simplificando el esqueleto.","reduceVertices":"Reduzca el número total de vértices en todas las mallas.","minimizeDeformedMeshes":"Minimice el número de mallas deformadas, especialmente aquellas con alto número de vértices.","reduceWeightedMeshes":"Reduzca el número de mallas con pesos óseos, ya que requieren más cálculos.","limitClippingMasks":"Limite el número de máscaras de recorte ya que impactan significativamente el rendimiento.","simplifyComplexMasks":"Simplifique las máscaras de recorte complejas para usar menos vértices (4 o menos es óptimo).","reduceNonNormalBlendModes":"Reduzca el número de modos de mezcla no-normales para minimizar cambios de estado de renderizado.","minimizeAdditiveBlendModes":"Minimice el uso de modos de mezcla aditivos ya que son particularmente costosos.","reducePhysicsConstraints":"Las restricciones físicas son particularmente costosas - considere reducir su número o complejidad.","simplifyIkConstraints":"Simplifique las restricciones IK reduciendo la longitud de la cadena o el número de huesos afectados.","optimizePathConstraints":"Optimice las restricciones de ruta simplificando rutas o reduciendo el número de huesos restringidos."},"performanceRanges":{"excellent":{"range":"85-100","rating":"Excelente","description":"Adecuado para todas las plataformas y animaciones continuas"},"good":{"range":"70-84","rating":"Bueno","description":"Funciona bien en la mayoría de plataformas pero puede tener problemas en dispositivos de gama baja"},"moderate":{"range":"55-69","rating":"Moderado","description":"Puede causar caídas de rendimiento, especialmente con múltiples instancias"},"poor":{"range":"40-54","rating":"Malo","description":"Problemas de rendimiento probables en la mayoría de dispositivos"}}},"scores":{"ratings":{"excellent":"Excelente","good":"Bueno","moderate":"Moderado","poor":"Malo","veryPoor":"Muy Malo"},"interpretations":{"excellent":"Adecuado para todas las plataformas y animaciones continuas","good":"Funciona bien en la mayoría de plataformas pero puede tener problemas en dispositivos de gama baja","moderate":"Puede causar caídas de rendimiento, especialmente con múltiples instancias","poor":"Problemas de rendimiento probables en la mayoría de dispositivos","veryPoor":"Problemas significativos de rendimiento en todos los dispositivos"}},"mesh":{"title":"Estadísticas de Malla","statistics":{"totalMeshes":"Total de mallas: {{count}}","totalVertices":"Total de vértices: {{count}}","meshesWithDeformation":"Mallas con deformación: {{count}}","meshesWithBoneWeights":"Mallas con pesos óseos: {{count}}","meshesWithParentMesh":"Mallas con malla padre: {{count}}"},"performanceScore":{"title":"Puntuación de Rendimiento de Malla: {{score}}/100"},"formula":{"title":"Fórmula de Impacto en el Rendimiento:","description":"meshScore = 100 - log₂(totalMeshes/{{idealMeshCount}} + 1) × 15 - log₂(totalVertices/{{idealVertexCount}} + 1) × 10 - (deformedMeshes × {{deformedFactor}}) - (weightedMeshes × {{weightedFactor}})"},"tableHeaders":{"slot":"Slot","vertices":"Vértices","deformed":"Deformada","boneWeights":"Pesos Óseos","hasParentMesh":"Tiene Malla Padre"},"values":{"yes":"Sí","no":"No"},"notes":{"title":"Impacto de la Malla en el Rendimiento:","vertexCount":"Número de Vértices: Cada vértice requiere memoria y tiempo de procesamiento. Altos números de vértices (>50) tienen impacto significativo.","deformation":"Deformación: Las mallas deformantes requieren cálculos extra por frame - {{factor}}× más costosas que las mallas estáticas.","boneWeights":"Pesos Óseos: Cada peso óseo añade operaciones de multiplicación de matrices - {{factor}}× más impacto por vértice ponderado.","optimizationTip":"Consejo de Optimización: Use menos vértices para mallas que se deforman o tienen pesos óseos. Considere usar adjuntos Region para formas simples."}},"clipping":{"title":"Máscaras de Recorte","statistics":{"totalMasks":"Total de máscaras: {{count}}","totalVerticesInMasks":"Total de vértices en máscaras: {{count}}","complexMasks":"Máscaras complejas (>4 vértices): {{count}}"},"performanceScore":{"title":"Puntuación de Rendimiento de Recorte: {{score}}/100"},"formula":{"title":"Fórmula de Impacto en el Rendimiento:","description":"clippingScore = 100 - log₂(maskCount/{{idealClippingCount}} + 1) × 20 - log₂(vertexCount + 1) × 5 - (complexMasks × 10)"},"tableHeaders":{"slotName":"Nombre del Slot","vertexCount":"Número de Vértices","status":"Estado"},"status":{"optimal":"Óptimo","acceptable":"Aceptable","highVertexCount":"Alto Número de Vértices"},"noMasks":"No se encontraron máscaras de recorte en este esqueleto.","notes":{"title":"Notas sobre Máscaras de Recorte:","highImpact":"Alto Impacto: Las máscaras de recorte son una de las operaciones más costosas en el renderizado de Spine","vertexCount":"Número de Vértices: Cada vértice en una máscara aumenta el costo computacional","optimalConfiguration":"Configuración Óptima: Use máscaras triangulares o cuadrilaterales (3-4 vértices) cuando sea posible","gpuCost":"Costo de GPU: Cada máscara de recorte requiere pasadas adicionales de renderizado de GPU (operaciones de stencil buffer)","recommendation":"Recomendación: Limite a 2-3 máscaras por esqueleto, con menos de 6 vértices cada una"}},"blendMode":{"title":"Modos de Mezcla","statistics":{"nonNormalBlendModes":"Modos de mezcla no-normales: {{count}}","additiveBlendModes":"Modos de mezcla aditivos: {{count}}","multiplyBlendModes":"Modos de mezcla multiplicativos: {{count}}"},"performanceScore":{"title":"Puntuación de Rendimiento de Modos de Mezcla: {{score}}/100"},"formula":{"title":"Fórmula de Impacto en el Rendimiento:","description":"blendModeScore = 100 - log₂(nonNormalCount/{{idealBlendModeCount}} + 1) × 20 - (additiveCount × 2)"},"tableHeaders":{"blendMode":"Modo de Mezcla","count":"Número","slotName":"Nombre del Slot"},"slotsWithNonNormalTitle":"Slots con Modos de Mezcla No-Normales:","notes":{"title":"Notas sobre Modos de Mezcla:","normalBlendMode":"Modo de Mezcla Normal: Más eficiente, requiere una sola pasada de renderizado","nonNormalBlendModes":"Modos de Mezcla No-Normales: Cada uno requiere una pasada de renderizado separada o cambio de shader","renderingCost":"Costo de Renderizado: Cada cambio de modo de mezcla fuerza una operación \\"flush\\" del renderizador","additiveBlend":"Mezcla Aditiva: Mayor costo que la mezcla normal debido a cálculos de mezcla","multiplyBlend":"Mezcla Multiplicativa: Similar al aditivo, requiere operaciones adicionales de GPU","recommendation":"Recomendación: Limite a 2 modos de mezcla no-normales por esqueleto"}},"skeleton":{"title":"Estructura del Esqueleto","statistics":{"totalBones":"Total de huesos: {{count}}","rootBones":"Huesos raíz: {{count}}","maxDepth":"Profundidad máx.: {{depth}}"},"performanceScore":{"title":"Puntuación de Rendimiento de Estructura Ósea: {{score}}/100"},"formula":{"title":"Fórmula de Impacto en el Rendimiento:","description":"boneScore = 100 - log₂(totalBones/{{idealBoneCount}} + 1) × 15 - (maxDepth × {{depthFactor}})"},"nodeLabel":"{{name}} (x: {{x}}, y: {{y}})","notes":{"title":"Notas sobre Estructura Ósea:","boneCount":"Número de Huesos: Cada hueso requiere cálculos de matriz cada frame","hierarchyDepth":"Profundidad de Jerarquía: Las jerarquías profundas aumentan la complejidad de transformación exponencialmente","recommendation":"Recomendación: Mantenga las jerarquías óseas bajo 5 niveles de profundidad cuando sea posible","optimalStructure":"Estructura Óptima: Las jerarquías planas con pocas relaciones padre-hijo funcionan mejor"}},"physics":{"title":"Análisis de Restricciones","statistics":{"totalConstraints":"Total de restricciones: {{count}}"},"performanceScore":{"title":"Puntuación de Rendimiento de Restricciones: {{score}}/100"},"formula":{"title":"Fórmula de Impacto en el Rendimiento:","description":"constraintScore = 100 - (constraintImpact × 0.5)","explanation":"Donde constraintImpact es una suma ponderada de los impactos de restricciones IK, transformación, ruta y física"},"impactBreakdown":{"title":"Desglose del Impacto:","tableHeaders":{"constraintType":"Tipo de Restricción","count":"Número","impactLevel":"Nivel de Impacto","weightedImpact":"Impacto Ponderado"}},"constraintTypes":{"ik":"Restricciones IK","transform":"Restricciones de Transformación","path":"Restricciones de Ruta","physics":"Restricciones Físicas"},"constraintDetails":{"ikConstraints":{"title":"Restricciones IK","tableHeaders":{"name":"Nombre","target":"Objetivo","bones":"Huesos","mix":"Mezcla","status":"Estado"}},"transformConstraints":{"title":"Restricciones de Transformación","tableHeaders":{"name":"Nombre","target":"Objetivo","bones":"Huesos","properties":"Propiedades","status":"Estado"}},"pathConstraints":{"title":"Restricciones de Ruta","tableHeaders":{"name":"Nombre","target":"Objetivo","bones":"Huesos","modes":"Modos","status":"Estado"}},"physicsConstraints":{"title":"Restricciones Físicas","tableHeaders":{"name":"Nombre","bone":"Hueso","properties":"Propiedades","parameters":"Parámetros","status":"Estado"}}},"status":{"active":"Activo","inactive":"Inactivo"},"properties":{"x":"X","y":"Y","rotation":"Rotación","scale":"Escala","shear":"Cizallamiento","rotate":"Rotación","scaleX":"EscalaX","scaleY":"EscalaY","shearY":"CizallamientoY"},"modes":{"rotate":{"tangent":"Tangente","chain":"Cadena","chainScale":"EscalaCadena"},"spacing":{"length":"Longitud","fixed":"Fijo","percent":"Porcentaje","proportional":"Proporcional"}},"parameters":{"inertia":"Inercia","strength":"Fuerza","damping":"Amortiguación","wind":"Viento","gravity":"Gravedad"},"noConstraints":"No se encontraron restricciones en este esqueleto.","notes":{"title":"Notas sobre Restricciones:","ikConstraints":"Restricciones IK: El costo aumenta con la longitud de la cadena ósea y el número de iteraciones","physicsConstraints":"Restricciones Físicas: Mayor impacto en el rendimiento, especialmente con múltiples propiedades afectadas","pathConstraints":"Restricciones de Ruta: Las curvas de ruta complejas y el modo de rotación ChainScale son más costosos","transformConstraints":"Restricciones de Transformación: Cada propiedad afectada (posición, rotación, escala) añade sobrecarga de cálculo","recommendation":"Recomendación: Use restricciones con moderación y con cadenas óseas mínimas cuando sea posible"}}}'),n3={error:KB,ui:QB,commands:ZB,commandPalette:JB,infoPanel:e3,warnings:t3,language:s3,analysis:i3},a3={en:{translation:$P},ru:{translation:nB},zh:{translation:fB},uk:{translation:wB},fr:{translation:DB},de:{translation:jB},pt:{translation:$B},es:{translation:n3}};ot.use(jw).use(VD).init({resources:a3,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"spine-benchmark-language"}});function Yw(n){const{totalMeshCount:e,totalVertices:t,deformedMeshCount:s,weightedMeshCount:i}=n,{IDEAL_MESH_COUNT:a,IDEAL_VERTEX_COUNT:o,MESH_DEFORMED_FACTOR:c,MESH_WEIGHTED_FACTOR:h}=St;let u=100;return e>0&&(u-=Math.log2(e/a+1)*15),t>0&&(u-=Math.log2(t/o+1)*10),u-=s*c,u-=i*h,Math.max(0,u)}function Uw(n,e,t){const{IDEAL_CLIPPING_COUNT:s}=St;let i=100;return n>0&&(i-=Math.log2(n/s+1)*20),e>0&&(i-=Math.log2(e+1)*5),i-=t*10,Math.max(0,i)}function Vw(n,e){const{IDEAL_BLEND_MODE_COUNT:t}=St;let s=100;return n>0&&(s-=Math.log2(n/t+1)*20),s-=e*2,Math.max(0,s)}function r3(n,e){const{IDEAL_BONE_COUNT:t,BONE_DEPTH_FACTOR:s}=St;let i=100;return n>0&&(i-=Math.log2(n/t+1)*15),i-=e*s,Math.max(0,i)}function Hw(n){return!n||n.length===0?0:1+Math.max(...n.map(e=>e.children?Hw(e.children):0))}function o3(n){const{BONE_WEIGHT:e,MESH_WEIGHT:t,CLIPPING_WEIGHT:s,BLEND_MODE_WEIGHT:i,CONSTRAINT_WEIGHT:a}=St,o=n.boneScore*e+n.meshScore*t+n.clippingScore*s+n.blendModeScore*i+n.constraintScore*a;return Math.max(40,Math.round(o))}function Ci(n){return n>=85?"#4caf50":n>=70?"#8bc34a":n>=55?"#ffb300":n>=40?"#f57c00":"#e53935"}function l3(n){return n>=85?ot.t("analysis.scores.ratings.excellent"):n>=70?ot.t("analysis.scores.ratings.good"):n>=55?ot.t("analysis.scores.ratings.moderate"):n>=40?ot.t("analysis.scores.ratings.poor"):ot.t("analysis.scores.ratings.veryPoor")}function c3(n){return n>=85?ot.t("analysis.scores.interpretations.excellent"):n>=70?ot.t("analysis.scores.interpretations.good"):n>=55?ot.t("analysis.scores.interpretations.moderate"):n>=40?ot.t("analysis.scores.interpretations.poor"):ot.t("analysis.scores.interpretations.veryPoor")}const u3=({data:n})=>{const{t:e}=at(),{medianScore:t,bestAnimation:s,worstAnimation:i,stats:a,skeleton:o}=n,c=l3(t),h=c3(t),u=Ci(t),d=[...n.animations].sort((m,y)=>y.overallScore-m.overallScore);return k.jsxs("div",{className:"benchmark-summary",children:[k.jsx("h2",{children:e("analysis.summary.title")}),k.jsx("p",{children:e("analysis.summary.skeletonLabel",{name:n.skeletonName})}),k.jsxs("div",{className:"score-container",children:[k.jsx("div",{className:"performance-score",style:{color:u},children:Math.round(t)}),k.jsx("div",{className:"score-label",children:e("analysis.summary.medianPerformanceLabel",{rating:c})}),k.jsx("p",{className:"score-interpretation",children:h})]}),k.jsx(h3,{data:n}),k.jsx(d3,{animations:d}),k.jsx(f3,{data:n}),k.jsx(m3,{data:n}),k.jsx(g3,{})]})},h3=({data:n})=>{const{bestAnimation:e,worstAnimation:t,stats:s}=n;return k.jsxs("div",{className:"animation-overview",children:[k.jsx("h3",{children:"Animation Performance Overview"}),k.jsxs("div",{className:"overview-stats",children:[k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"Total Animations:"}),k.jsx("span",{className:"stat-value",children:n.totalAnimations})]}),e&&k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"Best Performance:"}),k.jsxs("span",{className:"stat-value",children:[e.name," (",e.overallScore.toFixed(1),"%)"]})]}),t&&k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"Worst Performance:"}),k.jsxs("span",{className:"stat-value",children:[t.name," (",t.overallScore.toFixed(1),"%)"]})]}),k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"With Physics:"}),k.jsxs("span",{className:"stat-value",children:[s.animationsWithPhysics," animations"]})]}),k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"With Clipping:"}),k.jsxs("span",{className:"stat-value",children:[s.animationsWithClipping," animations"]})]}),k.jsxs("div",{className:"stat-item",children:[k.jsx("span",{className:"stat-label",children:"With Special Blend Modes:"}),k.jsxs("span",{className:"stat-value",children:[s.animationsWithBlendModes," animations"]})]})]})]})},d3=({animations:n})=>k.jsxs(k.Fragment,{children:[k.jsx("h3",{children:"Per-Animation Scores"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Animation"}),k.jsx("th",{children:"Duration"}),k.jsx("th",{children:"Overall Score"}),k.jsx("th",{children:"Active Features"}),k.jsx("th",{children:"Performance Impact"})]})}),k.jsx("tbody",{children:n.map(e=>{const t=[];e.activeComponents.hasPhysics&&t.push("Physics"),e.activeComponents.hasIK&&t.push("IK"),e.activeComponents.hasClipping&&t.push("Clipping"),e.activeComponents.hasBlendModes&&t.push("Blend");const s=e.overallScore<55?"row-danger":e.overallScore<70?"row-warning":"",i=e.overallScore>=85?"Minimal":e.overallScore>=70?"Low":e.overallScore>=55?"Moderate":e.overallScore>=40?"High":"Very High";return k.jsxs("tr",{className:s,children:[k.jsx("td",{children:e.name}),k.jsxs("td",{children:[e.duration.toFixed(2),"s"]}),k.jsx("td",{children:k.jsxs("div",{className:"inline-score",children:[k.jsxs("span",{children:[e.overallScore.toFixed(1),"%"]}),k.jsx("div",{className:"mini-progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${e.overallScore}%`,backgroundColor:Ci(e.overallScore)}})})]})}),k.jsx("td",{children:t.length>0?t.join(", "):"None"}),k.jsx("td",{children:i})]},e.name)})})]})]}),f3=({data:n})=>{const{t:e}=at(),{skeleton:t}=n;return k.jsxs(k.Fragment,{children:[k.jsx("h3",{children:"Global Skeleton Statistics"}),k.jsx("div",{className:"stats-container",children:k.jsx("table",{className:"stats-table",children:k.jsxs("tbody",{children:[k.jsxs("tr",{children:[k.jsx("td",{children:e("analysis.summary.statistics.totalBones")}),k.jsx("td",{children:t.metrics.totalBones})]}),k.jsxs("tr",{children:[k.jsx("td",{children:e("analysis.summary.statistics.maxBoneDepth")}),k.jsx("td",{children:t.metrics.maxDepth})]}),k.jsxs("tr",{children:[k.jsx("td",{children:e("analysis.summary.statistics.totalAnimations")}),k.jsx("td",{children:n.totalAnimations})]}),k.jsxs("tr",{children:[k.jsx("td",{children:e("analysis.summary.statistics.skins")}),k.jsx("td",{children:n.totalSkins})]})]})})})]})},m3=({data:n})=>{const{t:e}=at(),t=[],{skeleton:s,stats:i,animations:a}=n;if(s.metrics.maxDepth>5&&t.push(e("analysis.summary.recommendations.reduceBoneDepth")),s.metrics.totalBones>50&&t.push(e("analysis.summary.recommendations.reduceTotalBones")),i.animationsWithPhysics>n.totalAnimations*.5&&t.push(`Physics constraints are used in ${i.animationsWithPhysics} out of ${n.totalAnimations} animations. Consider baking physics simulation for static animations.`),i.animationsWithClipping>0){const c=a.filter(d=>d.activeComponents.hasClipping),h=c.slice(0,3).map(d=>d.name).join(", "),u=c.length>3?` and ${c.length-3} more`:"";t.push(`Clipping masks found in: ${h}${u}. Consider using alpha blending or pre-masked textures instead.`)}if(i.highVertexAnimations>0){const c=a.filter(h=>h.meshMetrics.totalVertices>500);t.push(`${i.highVertexAnimations} animations have high vertex counts (>500). Consider simplifying meshes for: ${c.slice(0,3).map(h=>h.name).join(", ")}`)}if(i.poorPerformingAnimations>0){const c=a.filter(h=>h.overallScore<55);t.push(`Focus optimization on these poor-performing animations: ${c.slice(0,3).map(h=>`${h.name} (${h.overallScore.toFixed(0)}%)`).join(", ")}`)}const o=a.filter(c=>{let h=0;return c.activeComponents.hasPhysics&&h++,c.activeComponents.hasClipping&&h++,c.meshMetrics.deformedMeshCount>3&&h++,c.blendModeMetrics.activeNonNormalCount>2&&h++,h>=2});return o.length>0&&t.push(`${o.length} animations combine multiple expensive features. Consider simplifying: ${o.slice(0,2).map(c=>c.name).join(", ")}`),t.length===0&&t.push("Performance is generally good across all animations. Minor optimizations may still be possible in specific areas."),k.jsxs("div",{className:"optimization-tips",children:[k.jsx("h3",{children:e("analysis.summary.optimizationTitle")}),k.jsx("ul",{children:t.map((c,h)=>k.jsx("li",{children:c},h))})]})},g3=()=>{const{t:n}=at();return k.jsxs("div",{className:"performance-explanation",children:[k.jsx("h3",{children:n("analysis.summary.performanceExplanationTitle")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:n("analysis.summary.tableHeaders.scoreRange")}),k.jsx("th",{children:n("analysis.summary.tableHeaders.rating")}),k.jsx("th",{children:n("analysis.summary.tableHeaders.interpretation")})]})}),k.jsxs("tbody",{children:[k.jsxs("tr",{children:[k.jsx("td",{children:n("analysis.summary.performanceRanges.excellent.range")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.excellent.rating")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.excellent.description")})]}),k.jsxs("tr",{children:[k.jsx("td",{children:n("analysis.summary.performanceRanges.good.range")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.good.rating")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.good.description")})]}),k.jsxs("tr",{children:[k.jsx("td",{children:n("analysis.summary.performanceRanges.moderate.range")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.moderate.rating")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.moderate.description")})]}),k.jsxs("tr",{children:[k.jsx("td",{children:n("analysis.summary.performanceRanges.poor.range")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.poor.rating")}),k.jsx("td",{children:n("analysis.summary.performanceRanges.poor.description")})]})]})]})]})},p3=({data:n})=>{const{t:e}=at(),t=n.animations.map(i=>i.meshMetrics.score),s=t.sort((i,a)=>i-a)[Math.floor(t.length/2)]||100;return k.jsxs("div",{className:"mesh-analysis",children:[k.jsx("h3",{children:e("analysis.mesh.title")}),k.jsxs("div",{className:"median-score",children:[k.jsxs("h4",{children:["Median Performance Score: ",s.toFixed(1),"%"]}),k.jsx("div",{className:"progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${s}%`,backgroundColor:Ci(s)}})})]}),k.jsx("h4",{children:"Per-Animation Breakdown"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Animation"}),k.jsx("th",{children:"Active Meshes"}),k.jsx("th",{children:"Total Vertices"}),k.jsx("th",{children:"Deformed"}),k.jsx("th",{children:"Weighted"}),k.jsx("th",{children:"Score"})]})}),k.jsx("tbody",{children:n.animations.map(i=>{const a=i.meshMetrics,o=a.score<70?"row-warning":a.score<50?"row-danger":"";return k.jsxs("tr",{className:o,children:[k.jsx("td",{children:i.name}),k.jsx("td",{children:a.activeMeshCount}),k.jsx("td",{children:a.totalVertices}),k.jsx("td",{children:a.deformedMeshCount}),k.jsx("td",{children:a.weightedMeshCount}),k.jsx("td",{children:k.jsxs("div",{className:"inline-score",children:[k.jsxs("span",{children:[a.score.toFixed(1),"%"]}),k.jsx("div",{className:"mini-progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${a.score}%`,backgroundColor:Ci(a.score)}})})]})})]},i.name)})})]}),k.jsx(y3,{data:n}),k.jsxs("div",{className:"analysis-notes",children:[k.jsx("h4",{children:e("analysis.mesh.notes.title")}),k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx("strong",{children:e("analysis.mesh.notes.vertexCount")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.mesh.notes.deformation",{factor:St.MESH_DEFORMED_FACTOR})})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.mesh.notes.boneWeights",{factor:St.MESH_WEIGHTED_FACTOR})})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.mesh.notes.optimizationTip")})})]})]})]})},y3=({data:n})=>{const{t:e}=at(),{meshes:t}=n.globalMesh,s=[...t].sort((i,a)=>a.vertices-i.vertices);return k.jsxs(k.Fragment,{children:[k.jsx("h4",{children:"Global Mesh Details"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.mesh.tableHeaders.slot")}),k.jsx("th",{children:e("analysis.mesh.tableHeaders.vertices")}),k.jsx("th",{children:e("analysis.mesh.tableHeaders.deformed")}),k.jsx("th",{children:e("analysis.mesh.tableHeaders.boneWeights")}),k.jsx("th",{children:e("analysis.mesh.tableHeaders.hasParentMesh")})]})}),k.jsx("tbody",{children:s.slice(0,10).map(i=>{let a="";return i.vertices>100||i.vertices>50&&i.isDeformed?a="row-danger":(i.vertices>50||i.vertices>20&&i.isDeformed)&&(a="row-warning"),k.jsxs("tr",{className:a,children:[k.jsx("td",{children:i.slotName}),k.jsx("td",{children:i.vertices}),k.jsx("td",{children:i.isDeformed?e("analysis.mesh.values.yes"):e("analysis.mesh.values.no")}),k.jsx("td",{children:i.boneWeights}),k.jsx("td",{children:i.hasParentMesh?e("analysis.mesh.values.yes"):e("analysis.mesh.values.no")})]},i.slotName)})})]}),s.length>10&&k.jsxs("p",{className:"table-note",children:["Showing top 10 meshes by vertex count. Total: ",s.length," meshes"]})]})},x3=({data:n})=>{const{t:e}=at(),t=n.animations.map(i=>i.clippingMetrics.score),s=t.sort((i,a)=>i-a)[Math.floor(t.length/2)]||100;return k.jsxs("div",{className:"clipping-analysis",children:[k.jsx("h3",{children:e("analysis.clipping.title")}),k.jsxs("div",{className:"median-score",children:[k.jsxs("h4",{children:["Median Performance Score: ",s.toFixed(1),"%"]}),k.jsx("div",{className:"progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${s}%`,backgroundColor:Ci(s)}})})]}),k.jsx("h4",{children:"Per-Animation Breakdown"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Animation"}),k.jsx("th",{children:"Has Clipping"}),k.jsx("th",{children:"Active Masks"}),k.jsx("th",{children:"Total Vertices"}),k.jsx("th",{children:"Score"})]})}),k.jsx("tbody",{children:n.animations.map(i=>{const a=i.clippingMetrics,o=a.score<70?"row-warning":a.score<50?"row-danger":"";return k.jsxs("tr",{className:o,children:[k.jsx("td",{children:i.name}),k.jsx("td",{children:i.activeComponents.hasClipping?"Yes":"No"}),k.jsx("td",{children:a.activeMaskCount}),k.jsx("td",{children:a.totalVertices}),k.jsx("td",{children:k.jsxs("div",{className:"inline-score",children:[k.jsxs("span",{children:[a.score.toFixed(1),"%"]}),k.jsx("div",{className:"mini-progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${a.score}%`,backgroundColor:Ci(a.score)}})})]})})]},i.name)})})]}),k.jsx(b3,{data:n}),k.jsxs("div",{className:"analysis-notes",children:[k.jsx("h4",{children:e("analysis.clipping.notes.title")}),k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx("strong",{children:e("analysis.clipping.notes.highImpact")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.clipping.notes.vertexCount")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.clipping.notes.optimalConfiguration")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.clipping.notes.gpuCost")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.clipping.notes.recommendation")})})]})]})]})},b3=({data:n})=>{const{t:e}=at(),{masks:t}=n.globalClipping;return t.length===0?k.jsx("p",{children:e("analysis.clipping.noMasks")}):k.jsxs(k.Fragment,{children:[k.jsx("h4",{children:"Global Clipping Masks"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.clipping.tableHeaders.slotName")}),k.jsx("th",{children:e("analysis.clipping.tableHeaders.vertexCount")}),k.jsx("th",{children:e("analysis.clipping.tableHeaders.status")})]})}),k.jsx("tbody",{children:t.map(s=>{const i=s.vertexCount<=4?e("analysis.clipping.status.optimal"):s.vertexCount<=8?e("analysis.clipping.status.acceptable"):e("analysis.clipping.status.highVertexCount"),a=s.vertexCount<=4?"":s.vertexCount<=8?"row-warning":"row-danger";return k.jsxs("tr",{className:a,children:[k.jsx("td",{children:s.slotName}),k.jsx("td",{children:s.vertexCount}),k.jsx("td",{children:i})]},s.slotName)})})]})]})};if(typeof window<"u"&&window.PIXI){const n=window.require;window.require=e=>{if(n)return n(e);if(e.startsWith("@pixi/")||e.startsWith("pixi.js"))return window.PIXI}}class Xw{constructor(){M(this,"entries",{});M(this,"size",0)}add(e){let t=this.entries[e];return this.entries[e]=!0,t?!1:(this.size++,!0)}addAll(e){let t=this.size;for(var s=0,i=e.length;s<i;s++)this.add(e[s]);return t!=this.size}contains(e){return this.entries[e]}clear(){this.entries={},this.size=0}}const js=class js{constructor(e=0,t=0,s=0,i=0){M(this,"r");M(this,"g");M(this,"b");M(this,"a");this.r=e,this.g=t,this.b=s,this.a=i}set(e,t,s,i){return this.r=e,this.g=t,this.b=s,this.a=i,this.clamp()}setFromColor(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}setFromString(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this}add(e,t,s,i){return this.r+=e,this.g+=t,this.b+=s,this.a+=i,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(e,t){e.r=((t&4278190080)>>>24)/255,e.g=((t&16711680)>>>16)/255,e.b=((t&65280)>>>8)/255,e.a=(t&255)/255}static rgb888ToColor(e,t){e.r=((t&16711680)>>>16)/255,e.g=((t&65280)>>>8)/255,e.b=(t&255)/255}toRgb888(){const e=t=>("0"+(t*255).toString(16)).slice(-2);return+("0x"+e(this.r)+e(this.g)+e(this.b))}static fromString(e){return new js().setFromString(e)}};M(js,"WHITE",new js(1,1,1,1)),M(js,"RED",new js(1,0,0,1)),M(js,"GREEN",new js(0,1,0,1)),M(js,"BLUE",new js(0,0,1,1)),M(js,"MAGENTA",new js(1,0,1,1));let Ce=js;const Ft=class Ft{static clamp(e,t,s){return e<t?t:e>s?s:e}static cosDeg(e){return Math.cos(e*Ft.degRad)}static sinDeg(e){return Math.sin(e*Ft.degRad)}static atan2Deg(e,t){return Math.atan2(e,t)*Ft.degRad}static signum(e){return e>0?1:e<0?-1:0}static toInt(e){return e>0?Math.floor(e):Math.ceil(e)}static cbrt(e){let t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t}static randomTriangular(e,t){return Ft.randomTriangularWith(e,t,(e+t)*.5)}static randomTriangularWith(e,t,s){let i=Math.random(),a=t-e;return i<=(s-e)/a?e+Math.sqrt(i*a*(s-e)):t-Math.sqrt((1-i)*a*(t-s))}static isPowerOfTwo(e){return e&&(e&e-1)===0}};M(Ft,"PI",3.1415927),M(Ft,"PI2",Ft.PI*2),M(Ft,"invPI2",1/Ft.PI2),M(Ft,"radiansToDegrees",180/Ft.PI),M(Ft,"radDeg",Ft.radiansToDegrees),M(Ft,"degreesToRadians",Ft.PI/180),M(Ft,"degRad",Ft.degreesToRadians);let he=Ft;const $n=class $n{static arrayCopy(e,t,s,i,a){for(let o=t,c=i;o<t+a;o++,c++)s[c]=e[o]}static arrayFill(e,t,s,i){for(let a=t;a<s;a++)e[a]=i}static setArraySize(e,t,s=0){let i=e.length;if(i==t)return e;if(e.length=t,i<t)for(let a=i;a<t;a++)e[a]=s;return e}static ensureArrayCapacity(e,t,s=0){return e.length>=t?e:$n.setArraySize(e,t,s)}static newArray(e,t){let s=new Array(e);for(let i=0;i<e;i++)s[i]=t;return s}static newFloatArray(e){if($n.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);{let t=new Array(e);for(let s=0;s<t.length;s++)t[s]=0;return t}}static newShortArray(e){if($n.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);{let t=new Array(e);for(let s=0;s<t.length;s++)t[s]=0;return t}}static toFloatArray(e){return $n.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}static toSinglePrecision(e){return $n.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e}static webkit602BugfixHelper(e,t){}static contains(e,t,s=!0){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1}static enumValue(e,t){return e[t[0].toUpperCase()+t.slice(1)]}};M($n,"SUPPORTS_TYPED_ARRAYS",typeof Float32Array<"u");let de=$n;class Jl{constructor(e){M(this,"items",new Array);M(this,"instantiator");this.instantiator=e}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(e){e.reset&&e.reset(),this.items.push(e)}freeAll(e){for(let t=0;t<e.length;t++)this.free(e[t])}clear(){this.items.length=0}}class uh{constructor(e=0,t=0){M(this,"x");M(this,"y");this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}length(){let e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}normalize(){let e=this.length();return e!=0&&(this.x/=e,this.y/=e),this}}class Gw{constructor(e){M(this,"name");if(!e)throw new Error("name cannot be null.");this.name=e}}const Ch=class Ch extends Gw{constructor(t){super(t);M(this,"id",Ch.nextID++);M(this,"bones",null);M(this,"vertices",[]);M(this,"worldVerticesLength",0);M(this,"timelineAttachment",this)}computeWorldVertices(t,s,i,a,o,c){i=o+(i>>1)*c;let h=t.bone.skeleton,u=t.deform,d=this.vertices,m=this.bones;if(!m){u.length>0&&(d=u);let v=t.bone,_=v.worldX,A=v.worldY,S=v.a,w=v.b,T=v.c,R=v.d;for(let E=s,D=o;D<i;E+=2,D+=c){let B=d[E],O=d[E+1];a[D]=B*S+O*w+_,a[D+1]=B*T+O*R+A}return}let y=0,p=0;for(let v=0;v<s;v+=2){let _=m[y];y+=_+1,p+=_}let x=h.bones;if(u.length==0)for(let v=o,_=p*3;v<i;v+=c){let A=0,S=0,w=m[y++];for(w+=y;y<w;y++,_+=3){let T=x[m[y]],R=d[_],E=d[_+1],D=d[_+2];A+=(R*T.a+E*T.b+T.worldX)*D,S+=(R*T.c+E*T.d+T.worldY)*D}a[v]=A,a[v+1]=S}else{let v=u;for(let _=o,A=p*3,S=p<<1;_<i;_+=c){let w=0,T=0,R=m[y++];for(R+=y;y<R;y++,A+=3,S+=2){let E=x[m[y]],D=d[A]+v[S],B=d[A+1]+v[S+1],O=d[A+2];w+=(D*E.a+B*E.b+E.worldX)*O,T+=(D*E.c+B*E.d+E.worldY)*O}a[_]=w,a[_+1]=T}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),de.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=de.newFloatArray(this.vertices.length),de.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}};M(Ch,"nextID",0);let Ai=Ch;const Jr=class Jr{constructor(e){M(this,"id",Jr.nextID());M(this,"regions");M(this,"start",0);M(this,"digits",0);M(this,"setupIndex",0);this.regions=new Array(e)}copy(){let e=new Jr(this.regions.length);return de.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e}apply(e,t){let s=e.sequenceIndex;s==-1&&(s=this.setupIndex),s>=this.regions.length&&(s=this.regions.length-1);let i=this.regions[s];t.region!=i&&(t.region=i,t.updateRegion())}getPath(e,t){let s=e,i=(this.start+t).toString();for(let a=this.digits-i.length;a>0;a--)s+="0";return s+=i,s}static nextID(){return Jr._nextID++}};M(Jr,"_nextID",0);let hh=Jr;var es;(function(n){n[n.hold=0]="hold",n[n.once=1]="once",n[n.loop=2]="loop",n[n.pingpong=3]="pingpong",n[n.onceReverse=4]="onceReverse",n[n.loopReverse=5]="loopReverse",n[n.pingpongReverse=6]="pingpongReverse"})(es||(es={}));const qw=[es.hold,es.once,es.loop,es.pingpong,es.onceReverse,es.loopReverse,es.pingpongReverse];let hp=class{constructor(e,t,s){M(this,"name");M(this,"timelines",[]);M(this,"timelineIds",new Xw);M(this,"duration");if(!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(t),this.duration=s}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}hasTimeline(e){for(let t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}apply(e,t,s,i,a,o,c,h){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(s%=this.duration,t>0&&(t%=this.duration));let u=this.timelines;for(let d=0,m=u.length;d<m;d++)u[d].apply(e,t,s,a,o,c,h)}};var oe;(function(n){n[n.setup=0]="setup",n[n.first=1]="first",n[n.replace=2]="replace",n[n.add=3]="add"})(oe||(oe={}));var ls;(function(n){n[n.mixIn=0]="mixIn",n[n.mixOut=1]="mixOut"})(ls||(ls={}));const Te={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,inherit:7,rgb:8,alpha:9,rgb2:10,attachment:11,deform:12,event:13,drawOrder:14,ikConstraint:15,transformConstraint:16,pathConstraintPosition:17,pathConstraintSpacing:18,pathConstraintMix:19,physicsConstraintInertia:20,physicsConstraintStrength:21,physicsConstraintDamping:22,physicsConstraintMass:23,physicsConstraintWind:24,physicsConstraintGravity:25,physicsConstraintMix:26,physicsConstraintReset:27,sequence:28};let ht=class{constructor(e,t){M(this,"propertyIds");M(this,"frames");this.propertyIds=t,this.frames=de.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(e,t){let s=e.length;for(let i=1;i<s;i++)if(e[i]>t)return i-1;return s-1}static search(e,t,s){let i=e.length;for(let a=s;a<i;a+=s)if(e[a]>t)return a-s;return i-s}};class Ki extends ht{constructor(t,s,i){super(t,i);M(this,"curves");this.curves=de.newFloatArray(t+s*18),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let s=this.getFrameCount()+t*18;if(this.curves.length>s){let i=de.newFloatArray(s);de.arrayCopy(this.curves,0,i,0,s),this.curves=i}}setBezier(t,s,i,a,o,c,h,u,d,m,y){let p=this.curves,x=this.getFrameCount()+t*18;i==0&&(p[s]=2+x);let v=(a-c*2+u)*.03,_=(o-h*2+d)*.03,A=((c-u)*3-a+m)*.006,S=((h-d)*3-o+y)*.006,w=v*2+A,T=_*2+S,R=(c-a)*.3+v+A*.16666667,E=(h-o)*.3+_+S*.16666667,D=a+R,B=o+E;for(let O=x+18;x<O;x+=2)p[x]=D,p[x+1]=B,R+=w,E+=T,w+=A,T+=S,D+=R,B+=E}getBezierValue(t,s,i,a){let o=this.curves;if(o[a]>t){let d=this.frames[s],m=this.frames[s+i];return m+(t-d)/(o[a]-d)*(o[a+1]-m)}let c=a+18;for(a+=2;a<c;a+=2)if(o[a]>=t){let d=o[a-2],m=o[a-1];return m+(t-d)/(o[a]-d)*(o[a+1]-m)}s+=this.getFrameEntries();let h=o[c-2],u=o[c-1];return u+(t-h)/(this.frames[s]-h)*(this.frames[s+i]-u)}}class ki extends Ki{constructor(e,t,s){super(e,t,[s])}getFrameEntries(){return 2}setFrame(e,t,s){e<<=1,this.frames[e]=t,this.frames[e+1]=s}getCurveValue(e){let t=this.frames,s=t.length-2;for(let a=2;a<=s;a+=2)if(t[a]>e){s=a-2;break}let i=this.curves[s>>1];switch(i){case 0:let a=t[s],o=t[s+1];return o+(e-a)/(t[s+2]-a)*(t[s+2+1]-o);case 1:return t[s+1]}return this.getBezierValue(e,s,1,i-2)}getRelativeValue(e,t,s,i,a){if(e<this.frames[0]){switch(s){case oe.setup:return a;case oe.first:return i+(a-i)*t}return i}let o=this.getCurveValue(e);switch(s){case oe.setup:return a+o*t;case oe.first:case oe.replace:o+=a-i}return i+o*t}getAbsoluteValue(e,t,s,i,a){if(e<this.frames[0]){switch(s){case oe.setup:return a;case oe.first:return i+(a-i)*t}return i}let o=this.getCurveValue(e);return s==oe.setup?a+(o-a)*t:i+(o-i)*t}getAbsoluteValue2(e,t,s,i,a,o){if(e<this.frames[0]){switch(s){case oe.setup:return a;case oe.first:return i+(a-i)*t}return i}return s==oe.setup?a+(o-a)*t:i+(o-i)*t}getScaleValue(e,t,s,i,a,o){const c=this.frames;if(e<c[0]){switch(s){case oe.setup:return o;case oe.first:return a+(o-a)*t}return a}let h=this.getCurveValue(e)*o;if(t==1)return s==oe.add?a+h-o:h;if(i==ls.mixOut)switch(s){case oe.setup:return o+(Math.abs(h)*he.signum(o)-o)*t;case oe.first:case oe.replace:return a+(Math.abs(h)*he.signum(a)-a)*t}else{let u=0;switch(s){case oe.setup:return u=Math.abs(o)*he.signum(h),u+(h-u)*t;case oe.first:case oe.replace:return u=Math.abs(a)*he.signum(h),u+(h-u)*t}}return a+(h-o)*t}}class dp extends Ki{constructor(e,t,s,i){super(e,t,[s,i])}getFrameEntries(){return 3}setFrame(e,t,s,i){e*=3,this.frames[e]=t,this.frames[e+1]=s,this.frames[e+2]=i}}class dh extends ki{constructor(t,s,i){super(t,s,Te.rotate+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.rotation=this.getRelativeValue(i,o,c,u.rotation,u.data.rotation))}}class Ww extends dp{constructor(t,s,i){super(t,s,Te.x+"|"+i,Te.y+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){switch(c){case oe.setup:u.x=u.data.x,u.y=u.data.y;return;case oe.first:u.x+=(u.data.x-u.x)*o,u.y+=(u.data.y-u.y)*o}return}let m=0,y=0,p=ht.search(d,i,3),x=this.curves[p/3];switch(x){case 0:let v=d[p];m=d[p+1],y=d[p+2];let _=(i-v)/(d[p+3]-v);m+=(d[p+3+1]-m)*_,y+=(d[p+3+2]-y)*_;break;case 1:m=d[p+1],y=d[p+2];break;default:m=this.getBezierValue(i,p,1,x-2),y=this.getBezierValue(i,p,2,x+18-2)}switch(c){case oe.setup:u.x=u.data.x+m*o,u.y=u.data.y+y*o;break;case oe.first:case oe.replace:u.x+=(u.data.x+m-u.x)*o,u.y+=(u.data.y+y-u.y)*o;break;case oe.add:u.x+=m*o,u.y+=y*o}}}class $w extends ki{constructor(t,s,i){super(t,s,Te.x+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.x=this.getRelativeValue(i,o,c,u.x,u.data.x))}}class Kw extends ki{constructor(t,s,i){super(t,s,Te.y+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.y=this.getRelativeValue(i,o,c,u.y,u.data.y))}}class Qw extends dp{constructor(t,s,i){super(t,s,Te.scaleX+"|"+i,Te.scaleY+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){switch(c){case oe.setup:u.scaleX=u.data.scaleX,u.scaleY=u.data.scaleY;return;case oe.first:u.scaleX+=(u.data.scaleX-u.scaleX)*o,u.scaleY+=(u.data.scaleY-u.scaleY)*o}return}let m,y,p=ht.search(d,i,3),x=this.curves[p/3];switch(x){case 0:let v=d[p];m=d[p+1],y=d[p+2];let _=(i-v)/(d[p+3]-v);m+=(d[p+3+1]-m)*_,y+=(d[p+3+2]-y)*_;break;case 1:m=d[p+1],y=d[p+2];break;default:m=this.getBezierValue(i,p,1,x-2),y=this.getBezierValue(i,p,2,x+18-2)}if(m*=u.data.scaleX,y*=u.data.scaleY,o==1)c==oe.add?(u.scaleX+=m-u.data.scaleX,u.scaleY+=y-u.data.scaleY):(u.scaleX=m,u.scaleY=y);else{let v=0,_=0;if(h==ls.mixOut)switch(c){case oe.setup:v=u.data.scaleX,_=u.data.scaleY,u.scaleX=v+(Math.abs(m)*he.signum(v)-v)*o,u.scaleY=_+(Math.abs(y)*he.signum(_)-_)*o;break;case oe.first:case oe.replace:v=u.scaleX,_=u.scaleY,u.scaleX=v+(Math.abs(m)*he.signum(v)-v)*o,u.scaleY=_+(Math.abs(y)*he.signum(_)-_)*o;break;case oe.add:u.scaleX+=(m-u.data.scaleX)*o,u.scaleY+=(y-u.data.scaleY)*o}else switch(c){case oe.setup:v=Math.abs(u.data.scaleX)*he.signum(m),_=Math.abs(u.data.scaleY)*he.signum(y),u.scaleX=v+(m-v)*o,u.scaleY=_+(y-_)*o;break;case oe.first:case oe.replace:v=Math.abs(u.scaleX)*he.signum(m),_=Math.abs(u.scaleY)*he.signum(y),u.scaleX=v+(m-v)*o,u.scaleY=_+(y-_)*o;break;case oe.add:u.scaleX+=(m-u.data.scaleX)*o,u.scaleY+=(y-u.data.scaleY)*o}}}}class Zw extends ki{constructor(t,s,i){super(t,s,Te.scaleX+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.scaleX=this.getScaleValue(i,o,c,h,u.scaleX,u.data.scaleX))}}class Jw extends ki{constructor(t,s,i){super(t,s,Te.scaleY+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.scaleY=this.getScaleValue(i,o,c,h,u.scaleY,u.data.scaleY))}}class eS extends dp{constructor(t,s,i){super(t,s,Te.shearX+"|"+i,Te.shearY+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){switch(c){case oe.setup:u.shearX=u.data.shearX,u.shearY=u.data.shearY;return;case oe.first:u.shearX+=(u.data.shearX-u.shearX)*o,u.shearY+=(u.data.shearY-u.shearY)*o}return}let m=0,y=0,p=ht.search(d,i,3),x=this.curves[p/3];switch(x){case 0:let v=d[p];m=d[p+1],y=d[p+2];let _=(i-v)/(d[p+3]-v);m+=(d[p+3+1]-m)*_,y+=(d[p+3+2]-y)*_;break;case 1:m=d[p+1],y=d[p+2];break;default:m=this.getBezierValue(i,p,1,x-2),y=this.getBezierValue(i,p,2,x+18-2)}switch(c){case oe.setup:u.shearX=u.data.shearX+m*o,u.shearY=u.data.shearY+y*o;break;case oe.first:case oe.replace:u.shearX+=(u.data.shearX+m-u.shearX)*o,u.shearY+=(u.data.shearY+y-u.shearY)*o;break;case oe.add:u.shearX+=m*o,u.shearY+=y*o}}}class tS extends ki{constructor(t,s,i){super(t,s,Te.shearX+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.shearX=this.getRelativeValue(i,o,c,u.shearX,u.data.shearX))}}class sS extends ki{constructor(t,s,i){super(t,s,Te.shearY+"|"+i);M(this,"boneIndex",0);this.boneIndex=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];u.active&&(u.shearY=this.getRelativeValue(i,o,c,u.shearY,u.data.shearY))}}class iS extends ht{constructor(t,s){super(t,[Te.inherit+"|"+s]);M(this,"boneIndex",0);this.boneIndex=s}getFrameEntries(){return 2}setFrame(t,s,i){t*=2,this.frames[t]=s,this.frames[t+1]=i}apply(t,s,i,a,o,c,h){let u=t.bones[this.boneIndex];if(!u.active)return;if(h==ls.mixOut){c==oe.setup&&(u.inherit=u.data.inherit);return}let d=this.frames;if(i<d[0]){(c==oe.setup||c==oe.first)&&(u.inherit=u.data.inherit);return}u.inherit=this.frames[ht.search(d,i,2)+1]}}class nS extends Ki{constructor(t,s,i){super(t,s,[Te.rgb+"|"+i,Te.alpha+"|"+i]);M(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,s,i,a,o,c){t*=5,this.frames[t]=s,this.frames[t+1]=i,this.frames[t+2]=a,this.frames[t+3]=o,this.frames[t+4]=c}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=this.frames,m=u.color;if(i<d[0]){let S=u.data.color;switch(c){case oe.setup:m.setFromColor(S);return;case oe.first:m.add((S.r-m.r)*o,(S.g-m.g)*o,(S.b-m.b)*o,(S.a-m.a)*o)}return}let y=0,p=0,x=0,v=0,_=ht.search(d,i,5),A=this.curves[_/5];switch(A){case 0:let S=d[_];y=d[_+1],p=d[_+2],x=d[_+3],v=d[_+4];let w=(i-S)/(d[_+5]-S);y+=(d[_+5+1]-y)*w,p+=(d[_+5+2]-p)*w,x+=(d[_+5+3]-x)*w,v+=(d[_+5+4]-v)*w;break;case 1:y=d[_+1],p=d[_+2],x=d[_+3],v=d[_+4];break;default:y=this.getBezierValue(i,_,1,A-2),p=this.getBezierValue(i,_,2,A+18-2),x=this.getBezierValue(i,_,3,A+18*2-2),v=this.getBezierValue(i,_,4,A+18*3-2)}o==1?m.set(y,p,x,v):(c==oe.setup&&m.setFromColor(u.data.color),m.add((y-m.r)*o,(p-m.g)*o,(x-m.b)*o,(v-m.a)*o))}}class aS extends Ki{constructor(t,s,i){super(t,s,[Te.rgb+"|"+i]);M(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,s,i,a,o){t<<=2,this.frames[t]=s,this.frames[t+1]=i,this.frames[t+2]=a,this.frames[t+3]=o}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=this.frames,m=u.color;if(i<d[0]){let A=u.data.color;switch(c){case oe.setup:m.r=A.r,m.g=A.g,m.b=A.b;return;case oe.first:m.r+=(A.r-m.r)*o,m.g+=(A.g-m.g)*o,m.b+=(A.b-m.b)*o}return}let y=0,p=0,x=0,v=ht.search(d,i,4),_=this.curves[v>>2];switch(_){case 0:let A=d[v];y=d[v+1],p=d[v+2],x=d[v+3];let S=(i-A)/(d[v+4]-A);y+=(d[v+4+1]-y)*S,p+=(d[v+4+2]-p)*S,x+=(d[v+4+3]-x)*S;break;case 1:y=d[v+1],p=d[v+2],x=d[v+3];break;default:y=this.getBezierValue(i,v,1,_-2),p=this.getBezierValue(i,v,2,_+18-2),x=this.getBezierValue(i,v,3,_+18*2-2)}if(o==1)m.r=y,m.g=p,m.b=x;else{if(c==oe.setup){let A=u.data.color;m.r=A.r,m.g=A.g,m.b=A.b}m.r+=(y-m.r)*o,m.g+=(p-m.g)*o,m.b+=(x-m.b)*o}}}class rS extends ki{constructor(t,s,i){super(t,s,Te.alpha+"|"+i);M(this,"slotIndex",0);this.slotIndex=i}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=u.color;if(i<this.frames[0]){let y=u.data.color;switch(c){case oe.setup:d.a=y.a;return;case oe.first:d.a+=(y.a-d.a)*o}return}let m=this.getCurveValue(i);o==1?d.a=m:(c==oe.setup&&(d.a=u.data.color.a),d.a+=(m-d.a)*o)}}class oS extends Ki{constructor(t,s,i){super(t,s,[Te.rgb+"|"+i,Te.alpha+"|"+i,Te.rgb2+"|"+i]);M(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,s,i,a,o,c,h,u,d){t<<=3,this.frames[t]=s,this.frames[t+1]=i,this.frames[t+2]=a,this.frames[t+3]=o,this.frames[t+4]=c,this.frames[t+5]=h,this.frames[t+6]=u,this.frames[t+7]=d}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=this.frames,m=u.color,y=u.darkColor;if(i<d[0]){let E=u.data.color,D=u.data.darkColor;switch(c){case oe.setup:m.setFromColor(E),y.r=D.r,y.g=D.g,y.b=D.b;return;case oe.first:m.add((E.r-m.r)*o,(E.g-m.g)*o,(E.b-m.b)*o,(E.a-m.a)*o),y.r+=(D.r-y.r)*o,y.g+=(D.g-y.g)*o,y.b+=(D.b-y.b)*o}return}let p=0,x=0,v=0,_=0,A=0,S=0,w=0,T=ht.search(d,i,8),R=this.curves[T>>3];switch(R){case 0:let E=d[T];p=d[T+1],x=d[T+2],v=d[T+3],_=d[T+4],A=d[T+5],S=d[T+6],w=d[T+7];let D=(i-E)/(d[T+8]-E);p+=(d[T+8+1]-p)*D,x+=(d[T+8+2]-x)*D,v+=(d[T+8+3]-v)*D,_+=(d[T+8+4]-_)*D,A+=(d[T+8+5]-A)*D,S+=(d[T+8+6]-S)*D,w+=(d[T+8+7]-w)*D;break;case 1:p=d[T+1],x=d[T+2],v=d[T+3],_=d[T+4],A=d[T+5],S=d[T+6],w=d[T+7];break;default:p=this.getBezierValue(i,T,1,R-2),x=this.getBezierValue(i,T,2,R+18-2),v=this.getBezierValue(i,T,3,R+18*2-2),_=this.getBezierValue(i,T,4,R+18*3-2),A=this.getBezierValue(i,T,5,R+18*4-2),S=this.getBezierValue(i,T,6,R+18*5-2),w=this.getBezierValue(i,T,7,R+18*6-2)}if(o==1)m.set(p,x,v,_),y.r=A,y.g=S,y.b=w;else{if(c==oe.setup){m.setFromColor(u.data.color);let E=u.data.darkColor;y.r=E.r,y.g=E.g,y.b=E.b}m.add((p-m.r)*o,(x-m.g)*o,(v-m.b)*o,(_-m.a)*o),y.r+=(A-y.r)*o,y.g+=(S-y.g)*o,y.b+=(w-y.b)*o}}}class lS extends Ki{constructor(t,s,i){super(t,s,[Te.rgb+"|"+i,Te.rgb2+"|"+i]);M(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,s,i,a,o,c,h,u){t*=7,this.frames[t]=s,this.frames[t+1]=i,this.frames[t+2]=a,this.frames[t+3]=o,this.frames[t+4]=c,this.frames[t+5]=h,this.frames[t+6]=u}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=this.frames,m=u.color,y=u.darkColor;if(i<d[0]){let R=u.data.color,E=u.data.darkColor;switch(c){case oe.setup:m.r=R.r,m.g=R.g,m.b=R.b,y.r=E.r,y.g=E.g,y.b=E.b;return;case oe.first:m.r+=(R.r-m.r)*o,m.g+=(R.g-m.g)*o,m.b+=(R.b-m.b)*o,y.r+=(E.r-y.r)*o,y.g+=(E.g-y.g)*o,y.b+=(E.b-y.b)*o}return}let p=0,x=0,v=0,_=0,A=0,S=0,w=ht.search(d,i,7),T=this.curves[w/7];switch(T){case 0:let R=d[w];p=d[w+1],x=d[w+2],v=d[w+3],_=d[w+4],A=d[w+5],S=d[w+6];let E=(i-R)/(d[w+7]-R);p+=(d[w+7+1]-p)*E,x+=(d[w+7+2]-x)*E,v+=(d[w+7+3]-v)*E,_+=(d[w+7+4]-_)*E,A+=(d[w+7+5]-A)*E,S+=(d[w+7+6]-S)*E;break;case 1:p=d[w+1],x=d[w+2],v=d[w+3],_=d[w+4],A=d[w+5],S=d[w+6];break;default:p=this.getBezierValue(i,w,1,T-2),x=this.getBezierValue(i,w,2,T+18-2),v=this.getBezierValue(i,w,3,T+18*2-2),_=this.getBezierValue(i,w,4,T+18*3-2),A=this.getBezierValue(i,w,5,T+18*4-2),S=this.getBezierValue(i,w,6,T+18*5-2)}if(o==1)m.r=p,m.g=x,m.b=v,y.r=_,y.g=A,y.b=S;else{if(c==oe.setup){let R=u.data.color,E=u.data.darkColor;m.r=R.r,m.g=R.g,m.b=R.b,y.r=E.r,y.g=E.g,y.b=E.b}m.r+=(p-m.r)*o,m.g+=(x-m.g)*o,m.b+=(v-m.b)*o,y.r+=(_-y.r)*o,y.g+=(A-y.g)*o,y.b+=(S-y.b)*o}}}class Kr extends ht{constructor(t,s){super(t,[Te.attachment+"|"+s]);M(this,"slotIndex",0);M(this,"attachmentNames");this.slotIndex=s,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,s,i){this.frames[t]=s,this.attachmentNames[t]=i}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(u.bone.active){if(h==ls.mixOut){c==oe.setup&&this.setAttachment(t,u,u.data.attachmentName);return}if(i<this.frames[0]){(c==oe.setup||c==oe.first)&&this.setAttachment(t,u,u.data.attachmentName);return}this.setAttachment(t,u,this.attachmentNames[ht.search1(this.frames,i)])}}setAttachment(t,s,i){s.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}}class fc extends Ki{constructor(t,s,i,a){super(t,s,[Te.deform+"|"+i+"|"+a.id]);M(this,"slotIndex",0);M(this,"attachment");M(this,"vertices");this.slotIndex=i,this.attachment=a,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,s,i){this.frames[t]=s,this.vertices[t]=i}setBezier(t,s,i,a,o,c,h,u,d,m,y){let p=this.curves,x=this.getFrameCount()+t*18;i==0&&(p[s]=2+x);let v=(a-c*2+u)*.03,_=d*.03-h*.06,A=((c-u)*3-a+m)*.006,S=(h-d+.33333333)*.018,w=v*2+A,T=_*2+S,R=(c-a)*.3+v+A*.16666667,E=h*.3+_+S*.16666667,D=a+R,B=E;for(let O=x+18;x<O;x+=2)p[x]=D,p[x+1]=B,R+=w,E+=T,w+=A,T+=S,D+=R,B+=E}getCurvePercent(t,s){let i=this.curves,a=i[s];switch(a){case 0:let u=this.frames[s];return(t-u)/(this.frames[s+this.getFrameEntries()]-u);case 1:return 0}if(a-=2,i[a]>t){let u=this.frames[s];return i[a+1]*(t-u)/(i[a]-u)}let o=a+18;for(a+=2;a<o;a+=2)if(i[a]>=t){let u=i[a-2],d=i[a-1];return d+(t-u)/(i[a]-u)*(i[a+1]-d)}let c=i[o-2],h=i[o-1];return h+(1-h)*(t-c)/(this.frames[s+this.getFrameEntries()]-c)}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=u.getAttachment();if(!d||!(d instanceof Ai)||d.timelineAttachment!=this.attachment)return;let m=u.deform;m.length==0&&(c=oe.setup);let y=this.vertices,p=y[0].length,x=this.frames;if(i<x[0]){switch(c){case oe.setup:m.length=0;return;case oe.first:if(o==1){m.length=0;return}m.length=p;let T=d;if(T.bones){o=1-o;for(var v=0;v<p;v++)m[v]*=o}else{let R=T.vertices;for(var v=0;v<p;v++)m[v]+=(R[v]-m[v])*o}}return}if(m.length=p,i>=x[x.length-1]){let T=y[x.length-1];if(o==1)if(c==oe.add){let R=d;if(R.bones)for(let E=0;E<p;E++)m[E]+=T[E];else{let E=R.vertices;for(let D=0;D<p;D++)m[D]+=T[D]-E[D]}}else de.arrayCopy(T,0,m,0,p);else switch(c){case oe.setup:{let E=d;if(E.bones)for(let D=0;D<p;D++)m[D]=T[D]*o;else{let D=E.vertices;for(let B=0;B<p;B++){let O=D[B];m[B]=O+(T[B]-O)*o}}break}case oe.first:case oe.replace:for(let E=0;E<p;E++)m[E]+=(T[E]-m[E])*o;break;case oe.add:let R=d;if(R.bones)for(let E=0;E<p;E++)m[E]+=T[E]*o;else{let E=R.vertices;for(let D=0;D<p;D++)m[D]+=(T[D]-E[D])*o}}return}let _=ht.search1(x,i),A=this.getCurvePercent(i,_),S=y[_],w=y[_+1];if(o==1)if(c==oe.add){let T=d;if(T.bones)for(let R=0;R<p;R++){let E=S[R];m[R]+=E+(w[R]-E)*A}else{let R=T.vertices;for(let E=0;E<p;E++){let D=S[E];m[E]+=D+(w[E]-D)*A-R[E]}}}else for(let T=0;T<p;T++){let R=S[T];m[T]=R+(w[T]-R)*A}else switch(c){case oe.setup:{let R=d;if(R.bones)for(let E=0;E<p;E++){let D=S[E];m[E]=(D+(w[E]-D)*A)*o}else{let E=R.vertices;for(let D=0;D<p;D++){let B=S[D],O=E[D];m[D]=O+(B+(w[D]-B)*A-O)*o}}break}case oe.first:case oe.replace:for(let R=0;R<p;R++){let E=S[R];m[R]+=(E+(w[R]-E)*A-m[R])*o}break;case oe.add:let T=d;if(T.bones)for(let R=0;R<p;R++){let E=S[R];m[R]+=(E+(w[R]-E)*A)*o}else{let R=T.vertices;for(let E=0;E<p;E++){let D=S[E];m[E]+=(D+(w[E]-D)*A-R[E])*o}}}}}const Ah=class Ah extends ht{constructor(t){super(t,Ah.propertyIds);M(this,"events");this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,s){this.frames[t]=s.time,this.events[t]=s}apply(t,s,i,a,o,c,h){if(!a)return;let u=this.frames,d=this.frames.length;if(s>i)this.apply(t,s,Number.MAX_VALUE,a,o,c,h),s=-1;else if(s>=u[d-1])return;if(i<u[0])return;let m=0;if(s<u[0])m=0;else{m=ht.search1(u,s)+1;let y=u[m];for(;m>0&&u[m-1]==y;)m--}for(;m<d&&i>=u[m];m++)a.push(this.events[m])}};M(Ah,"propertyIds",[""+Te.event]);let ec=Ah;const Th=class Th extends ht{constructor(t){super(t,Th.propertyIds);M(this,"drawOrders");this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,s,i){this.frames[t]=s,this.drawOrders[t]=i}apply(t,s,i,a,o,c,h){if(h==ls.mixOut){c==oe.setup&&de.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}if(i<this.frames[0]){(c==oe.setup||c==oe.first)&&de.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}let u=ht.search1(this.frames,i),d=this.drawOrders[u];if(!d)de.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{let m=t.drawOrder,y=t.slots;for(let p=0,x=d.length;p<x;p++)m[p]=y[d[p]]}}};M(Th,"propertyIds",[""+Te.drawOrder]);let Fa=Th;class fp extends Ki{constructor(t,s,i){super(t,s,[Te.ikConstraint+"|"+i]);M(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 6}setFrame(t,s,i,a,o,c,h){t*=6,this.frames[t]=s,this.frames[t+1]=i,this.frames[t+2]=a,this.frames[t+3]=o,this.frames[t+4]=c?1:0,this.frames[t+5]=h?1:0}apply(t,s,i,a,o,c,h){let u=t.ikConstraints[this.constraintIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){switch(c){case oe.setup:u.mix=u.data.mix,u.softness=u.data.softness,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch;return;case oe.first:u.mix+=(u.data.mix-u.mix)*o,u.softness+=(u.data.softness-u.softness)*o,u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch}return}let m=0,y=0,p=ht.search(d,i,6),x=this.curves[p/6];switch(x){case 0:let v=d[p];m=d[p+1],y=d[p+2];let _=(i-v)/(d[p+6]-v);m+=(d[p+6+1]-m)*_,y+=(d[p+6+2]-y)*_;break;case 1:m=d[p+1],y=d[p+2];break;default:m=this.getBezierValue(i,p,1,x-2),y=this.getBezierValue(i,p,2,x+18-2)}c==oe.setup?(u.mix=u.data.mix+(m-u.data.mix)*o,u.softness=u.data.softness+(y-u.data.softness)*o,h==ls.mixOut?(u.bendDirection=u.data.bendDirection,u.compress=u.data.compress,u.stretch=u.data.stretch):(u.bendDirection=d[p+3],u.compress=d[p+4]!=0,u.stretch=d[p+5]!=0)):(u.mix+=(m-u.mix)*o,u.softness+=(y-u.softness)*o,h==ls.mixIn&&(u.bendDirection=d[p+3],u.compress=d[p+4]!=0,u.stretch=d[p+5]!=0))}}class mp extends Ki{constructor(t,s,i){super(t,s,[Te.transformConstraint+"|"+i]);M(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 7}setFrame(t,s,i,a,o,c,h,u){let d=this.frames;t*=7,d[t]=s,d[t+1]=i,d[t+2]=a,d[t+3]=o,d[t+4]=c,d[t+5]=h,d[t+6]=u}apply(t,s,i,a,o,c,h){let u=t.transformConstraints[this.constraintIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){let w=u.data;switch(c){case oe.setup:u.mixRotate=w.mixRotate,u.mixX=w.mixX,u.mixY=w.mixY,u.mixScaleX=w.mixScaleX,u.mixScaleY=w.mixScaleY,u.mixShearY=w.mixShearY;return;case oe.first:u.mixRotate+=(w.mixRotate-u.mixRotate)*o,u.mixX+=(w.mixX-u.mixX)*o,u.mixY+=(w.mixY-u.mixY)*o,u.mixScaleX+=(w.mixScaleX-u.mixScaleX)*o,u.mixScaleY+=(w.mixScaleY-u.mixScaleY)*o,u.mixShearY+=(w.mixShearY-u.mixShearY)*o}return}let m,y,p,x,v,_,A=ht.search(d,i,7),S=this.curves[A/7];switch(S){case 0:let w=d[A];m=d[A+1],y=d[A+2],p=d[A+3],x=d[A+4],v=d[A+5],_=d[A+6];let T=(i-w)/(d[A+7]-w);m+=(d[A+7+1]-m)*T,y+=(d[A+7+2]-y)*T,p+=(d[A+7+3]-p)*T,x+=(d[A+7+4]-x)*T,v+=(d[A+7+5]-v)*T,_+=(d[A+7+6]-_)*T;break;case 1:m=d[A+1],y=d[A+2],p=d[A+3],x=d[A+4],v=d[A+5],_=d[A+6];break;default:m=this.getBezierValue(i,A,1,S-2),y=this.getBezierValue(i,A,2,S+18-2),p=this.getBezierValue(i,A,3,S+18*2-2),x=this.getBezierValue(i,A,4,S+18*3-2),v=this.getBezierValue(i,A,5,S+18*4-2),_=this.getBezierValue(i,A,6,S+18*5-2)}if(c==oe.setup){let w=u.data;u.mixRotate=w.mixRotate+(m-w.mixRotate)*o,u.mixX=w.mixX+(y-w.mixX)*o,u.mixY=w.mixY+(p-w.mixY)*o,u.mixScaleX=w.mixScaleX+(x-w.mixScaleX)*o,u.mixScaleY=w.mixScaleY+(v-w.mixScaleY)*o,u.mixShearY=w.mixShearY+(_-w.mixShearY)*o}else u.mixRotate+=(m-u.mixRotate)*o,u.mixX+=(y-u.mixX)*o,u.mixY+=(p-u.mixY)*o,u.mixScaleX+=(x-u.mixScaleX)*o,u.mixScaleY+=(v-u.mixScaleY)*o,u.mixShearY+=(_-u.mixShearY)*o}}class gp extends ki{constructor(t,s,i){super(t,s,Te.pathConstraintPosition+"|"+i);M(this,"constraintIndex",0);this.constraintIndex=i}apply(t,s,i,a,o,c,h){let u=t.pathConstraints[this.constraintIndex];u.active&&(u.position=this.getAbsoluteValue(i,o,c,u.position,u.data.position))}}class pp extends ki{constructor(t,s,i){super(t,s,Te.pathConstraintSpacing+"|"+i);M(this,"constraintIndex",0);this.constraintIndex=i}apply(t,s,i,a,o,c,h){let u=t.pathConstraints[this.constraintIndex];u.active&&(u.spacing=this.getAbsoluteValue(i,o,c,u.spacing,u.data.spacing))}}class yp extends Ki{constructor(t,s,i){super(t,s,[Te.pathConstraintMix+"|"+i]);M(this,"constraintIndex",0);this.constraintIndex=i}getFrameEntries(){return 4}setFrame(t,s,i,a,o){let c=this.frames;t<<=2,c[t]=s,c[t+1]=i,c[t+2]=a,c[t+3]=o}apply(t,s,i,a,o,c,h){let u=t.pathConstraints[this.constraintIndex];if(!u.active)return;let d=this.frames;if(i<d[0]){switch(c){case oe.setup:u.mixRotate=u.data.mixRotate,u.mixX=u.data.mixX,u.mixY=u.data.mixY;return;case oe.first:u.mixRotate+=(u.data.mixRotate-u.mixRotate)*o,u.mixX+=(u.data.mixX-u.mixX)*o,u.mixY+=(u.data.mixY-u.mixY)*o}return}let m,y,p,x=ht.search(d,i,4),v=this.curves[x>>2];switch(v){case 0:let _=d[x];m=d[x+1],y=d[x+2],p=d[x+3];let A=(i-_)/(d[x+4]-_);m+=(d[x+4+1]-m)*A,y+=(d[x+4+2]-y)*A,p+=(d[x+4+3]-p)*A;break;case 1:m=d[x+1],y=d[x+2],p=d[x+3];break;default:m=this.getBezierValue(i,x,1,v-2),y=this.getBezierValue(i,x,2,v+18-2),p=this.getBezierValue(i,x,3,v+18*2-2)}if(c==oe.setup){let _=u.data;u.mixRotate=_.mixRotate+(m-_.mixRotate)*o,u.mixX=_.mixX+(y-_.mixX)*o,u.mixY=_.mixY+(p-_.mixY)*o}else u.mixRotate+=(m-u.mixRotate)*o,u.mixX+=(y-u.mixX)*o,u.mixY+=(p-u.mixY)*o}}class ra extends ki{constructor(t,s,i,a){super(t,s,a+"|"+i);M(this,"constraintIndex",0);this.constraintIndex=i}apply(t,s,i,a,o,c,h){let u;if(this.constraintIndex==-1){const d=i>=this.frames[0]?this.getCurveValue(i):0;for(const m of t.physicsConstraints)m.active&&this.global(m.data)&&this.set(m,this.getAbsoluteValue2(i,o,c,this.get(m),this.setup(m),d))}else u=t.physicsConstraints[this.constraintIndex],u.active&&this.set(u,this.getAbsoluteValue(i,o,c,this.get(u),this.setup(u)))}}class cS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintInertia)}setup(e){return e.data.inertia}get(e){return e.inertia}set(e,t){e.inertia=t}global(e){return e.inertiaGlobal}}class uS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintStrength)}setup(e){return e.data.strength}get(e){return e.strength}set(e,t){e.strength=t}global(e){return e.strengthGlobal}}class hS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintDamping)}setup(e){return e.data.damping}get(e){return e.damping}set(e,t){e.damping=t}global(e){return e.dampingGlobal}}class dS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintMass)}setup(e){return 1/e.data.massInverse}get(e){return 1/e.massInverse}set(e,t){e.massInverse=1/t}global(e){return e.massGlobal}}class fS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintWind)}setup(e){return e.data.wind}get(e){return e.wind}set(e,t){e.wind=t}global(e){return e.windGlobal}}class mS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintGravity)}setup(e){return e.data.gravity}get(e){return e.gravity}set(e,t){e.gravity=t}global(e){return e.gravityGlobal}}class gS extends ra{constructor(e,t,s){super(e,t,s,Te.physicsConstraintMix)}setup(e){return e.data.mix}get(e){return e.mix}set(e,t){e.mix=t}global(e){return e.mixGlobal}}const Mh=class Mh extends ht{constructor(t,s){super(t,Mh.propertyIds);M(this,"constraintIndex");this.constraintIndex=s}getFrameCount(){return this.frames.length}setFrame(t,s){this.frames[t]=s}apply(t,s,i,a,o,c,h){let u;if(this.constraintIndex!=-1&&(u=t.physicsConstraints[this.constraintIndex],!u.active))return;const d=this.frames;if(s>i)this.apply(t,s,Number.MAX_VALUE,[],o,c,h),s=-1;else if(s>=d[d.length-1])return;if(!(i<d[0])&&(s<d[0]||i>=d[ht.search1(d,s)+1]))if(u!=null)u.reset();else for(const m of t.physicsConstraints)m.active&&m.reset()}};M(Mh,"propertyIds",[Te.physicsConstraintReset.toString()]);let fh=Mh;const ri=class ri extends ht{constructor(t,s,i){super(t,[Te.sequence+"|"+s+"|"+i.sequence.id]);M(this,"slotIndex");M(this,"attachment");this.slotIndex=s,this.attachment=i}getFrameEntries(){return ri.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,s,i,a,o){let c=this.frames;t*=ri.ENTRIES,c[t]=s,c[t+ri.MODE]=i|a<<4,c[t+ri.DELAY]=o}apply(t,s,i,a,o,c,h){let u=t.slots[this.slotIndex];if(!u.bone.active)return;let d=u.attachment,m=this.attachment;if(d!=m&&(!(d instanceof Ai)||d.timelineAttachment!=m))return;if(h==ls.mixOut){c==oe.setup&&(u.sequenceIndex=-1);return}let y=this.frames;if(i<y[0]){(c==oe.setup||c==oe.first)&&(u.sequenceIndex=-1);return}let p=ht.search(y,i,ri.ENTRIES),x=y[p],v=y[p+ri.MODE],_=y[p+ri.DELAY];if(!this.attachment.sequence)return;let A=v>>4,S=this.attachment.sequence.regions.length,w=qw[v&15];if(w!=es.hold)switch(A+=(i-x)/_+1e-5|0,w){case es.once:A=Math.min(S-1,A);break;case es.loop:A%=S;break;case es.pingpong:{let T=(S<<1)-2;A=T==0?0:A%T,A>=S&&(A=T-A);break}case es.onceReverse:A=Math.max(S-1-A,0);break;case es.loopReverse:A=S-1-A%S;break;case es.pingpongReverse:{let T=(S<<1)-2;A=T==0?0:(A+S-1)%T,A>=S&&(A=T-A)}}u.sequenceIndex=A}};M(ri,"ENTRIES",3),M(ri,"MODE",1),M(ri,"DELAY",2);let mh=ri;const eo=class eo{constructor(e){M(this,"data");M(this,"tracks",new Array);M(this,"timeScale",1);M(this,"unkeyedState",0);M(this,"events",new Array);M(this,"listeners",new Array);M(this,"queue",new _3(this));M(this,"propertyIDs",new Xw);M(this,"animationsChanged",!1);M(this,"trackEntryPool",new Jl(()=>new v3));this.data=e}static emptyAnimation(){return eo._emptyAnimation}update(e){e*=this.timeScale;let t=this.tracks;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(!a)continue;a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;let o=e*a.timeScale;if(a.delay>0){if(a.delay-=o,a.delay>0)continue;o=-a.delay,a.delay=0}let c=a.next;if(c){let h=a.trackLast-c.delay;if(h>=0){for(c.delay=0,c.trackTime+=a.timeScale==0?0:(h/a.timeScale+e)*c.timeScale,a.trackTime+=o,this.setCurrent(s,c,!0);c.mixingFrom;)c.mixTime+=e,c=c.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&!a.mixingFrom){t[s]=null,this.queue.end(a),this.clearNext(a);continue}if(a.mixingFrom&&this.updateMixingFrom(a,e)){let h=a.mixingFrom;for(a.mixingFrom=null,h&&(h.mixingTo=null);h;)this.queue.end(h),h=h.mixingFrom}a.trackTime+=o}this.queue.drain()}updateMixingFrom(e,t){let s=e.mixingFrom;if(!s)return!0;let i=this.updateMixingFrom(s,t);return s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast,e.nextTrackLast!=-1&&e.mixTime>=e.mixDuration?((s.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=s.mixingFrom,s.mixingFrom!=null&&(s.mixingFrom.mixingTo=e),e.interruptAlpha=s.interruptAlpha,this.queue.end(s)),i):(s.trackTime+=t*s.timeScale,e.mixTime+=t,!1)}apply(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let t=this.events,s=this.tracks,i=!1;for(let y=0,p=s.length;y<p;y++){let x=s[y];if(!x||x.delay>0)continue;i=!0;let v=y==0?oe.first:x.mixBlend,_=x.alpha;x.mixingFrom?_*=this.applyMixingFrom(x,e,v):x.trackTime>=x.trackEnd&&!x.next&&(_=0);let A=_>=x.alphaAttachmentThreshold,S=x.animationLast,w=x.getAnimationTime(),T=w,R=t;x.reverse&&(T=x.animation.duration-T,R=null);let E=x.animation.timelines,D=E.length;if(y==0&&_==1||v==oe.add){y==0&&(A=!0);for(let B=0;B<D;B++){var a=E[B];a instanceof Kr?this.applyAttachmentTimeline(a,e,T,v,A):a.apply(e,S,T,R,_,v,ls.mixIn)}}else{let B=x.timelineMode,O=x.shortestRotation,L=!O&&x.timelinesRotation.length!=D<<1;L&&(x.timelinesRotation.length=D<<1);for(let z=0;z<D;z++){let H=E[z],X=B[z]==Lm?v:oe.setup;!O&&H instanceof dh?this.applyRotateTimeline(H,e,T,_,X,x.timelinesRotation,z<<1,L):H instanceof Kr?this.applyAttachmentTimeline(H,e,T,v,A):H.apply(e,S,T,R,_,X,ls.mixIn)}}this.queueEvents(x,w),t.length=0,x.nextAnimationLast=w,x.nextTrackLast=x.trackTime}for(var o=this.unkeyedState+yv,c=e.slots,h=0,u=e.slots.length;h<u;h++){var d=c[h];if(d.attachmentState==o){var m=d.data.attachmentName;d.setAttachment(m?e.getAttachment(d.data.index,m):null)}}return this.unkeyedState+=2,this.queue.drain(),i}applyMixingFrom(e,t,s){let i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,t,s);let a=0;e.mixDuration==0?(a=1,s==oe.first&&(s=oe.setup)):(a=e.mixTime/e.mixDuration,a>1&&(a=1),s!=oe.first&&(s=i.mixBlend));let o=a<i.mixAttachmentThreshold,c=a<i.mixDrawOrderThreshold,h=i.animation.timelines,u=h.length,d=i.alpha*e.interruptAlpha,m=d*(1-a),y=i.animationLast,p=i.getAnimationTime(),x=p,v=null;if(i.reverse?x=i.animation.duration-x:a<i.eventThreshold&&(v=this.events),s==oe.add)for(let _=0;_<u;_++)h[_].apply(t,y,x,v,m,s,ls.mixOut);else{let _=i.timelineMode,A=i.timelineHoldMix,S=i.shortestRotation,w=!S&&i.timelinesRotation.length!=u<<1;w&&(i.timelinesRotation.length=u<<1),i.totalAlpha=0;for(let T=0;T<u;T++){let R=h[T],E=ls.mixOut,D,B=0;switch(_[T]){case Lm:if(!c&&R instanceof Fa)continue;D=s,B=m;break;case gv:D=oe.setup,B=m;break;case pv:D=s,B=d;break;case Im:D=oe.setup,B=d;break;default:D=oe.setup;let O=A[T];B=d*Math.max(0,1-O.mixTime/O.mixDuration);break}i.totalAlpha+=B,!S&&R instanceof dh?this.applyRotateTimeline(R,t,x,B,D,i.timelinesRotation,T<<1,w):R instanceof Kr?this.applyAttachmentTimeline(R,t,x,D,o&&B>=i.alphaAttachmentThreshold):(c&&R instanceof Fa&&D==oe.setup&&(E=ls.mixIn),R.apply(t,y,x,v,B,D,E))}}return e.mixDuration>0&&this.queueEvents(i,p),this.events.length=0,i.nextAnimationLast=p,i.nextTrackLast=i.trackTime,a}applyAttachmentTimeline(e,t,s,i,a){var o=t.slots[e.slotIndex];o.bone.active&&(s<e.frames[0]?(i==oe.setup||i==oe.first)&&this.setAttachment(t,o,o.data.attachmentName,a):this.setAttachment(t,o,e.attachmentNames[ht.search1(e.frames,s)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+yv))}setAttachment(e,t,s,i){t.setAttachment(s?e.getAttachment(t.data.index,s):null),i&&(t.attachmentState=this.unkeyedState+S3)}applyRotateTimeline(e,t,s,i,a,o,c,h){if(h&&(o[c]=0),i==1){e.apply(t,0,s,null,1,a,ls.mixIn);return}let u=t.bones[e.boneIndex];if(!u.active)return;let d=e.frames,m=0,y=0;if(s<d[0])switch(a){case oe.setup:u.rotation=u.data.rotation;default:return;case oe.first:m=u.rotation,y=u.data.rotation}else m=a==oe.setup?u.data.rotation:u.rotation,y=u.data.rotation+e.getCurveValue(s);let p=0,x=y-m;if(x-=Math.ceil(x/360-.5)*360,x==0)p=o[c];else{let v=0,_=0;h?(v=0,_=x):(v=o[c],_=o[c+1]);let A=v-v%360;p=x+A;let S=x>=0,w=v>=0;Math.abs(_)<=90&&he.signum(_)!=he.signum(x)&&(Math.abs(v-A)>180?(p+=360*he.signum(v),w=S):A!=0?p-=360*he.signum(v):w=S),w!=S&&(p+=360*he.signum(v)),o[c]=p}o[c+1]=x,u.rotation=m+p*i}queueEvents(e,t){let s=e.animationStart,i=e.animationEnd,a=i-s,o=e.trackLast%a,c=this.events,h=0,u=c.length;for(;h<u;h++){let m=c[h];if(m.time<o)break;m.time>i||this.queue.event(e,m)}let d=!1;if(e.loop)if(a==0)d=!0;else{const m=Math.floor(e.trackTime/a);d=m>0&&m>Math.floor(e.trackLast/a)}else d=t>=i&&e.animationLast<i;for(d&&this.queue.complete(e);h<u;h++){let m=c[h];m.time<s||this.queue.event(e,m)}}clearTracks(){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,s=this.tracks.length;t<s;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}clearTrack(e){if(e>=this.tracks.length)return;let t=this.tracks[e];if(!t)return;this.queue.end(t),this.clearNext(t);let s=t;for(;;){let i=s.mixingFrom;if(!i)break;this.queue.end(i),s.mixingFrom=null,s.mixingTo=null,s=i}this.tracks[t.trackIndex]=null,this.queue.drain()}setCurrent(e,t,s){let i=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,i&&(s&&this.queue.interrupt(i),t.mixingFrom=i,i.mixingTo=t,t.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(t.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(t)}setAnimation(e,t,s=!1){let i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,i,s)}setAnimationWith(e,t,s=!1){if(!t)throw new Error("animation cannot be null.");let i=!0,a=this.expandToIndex(e);a&&(a.nextTrackLast==-1?(this.tracks[e]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.clearNext(a),a=a.mixingFrom,i=!1):this.clearNext(a));let o=this.trackEntry(e,t,s,a);return this.setCurrent(e,o,i),this.queue.drain(),o}addAnimation(e,t,s=!1,i=0){let a=this.data.skeletonData.findAnimation(t);if(!a)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,a,s,i)}addAnimationWith(e,t,s=!1,i=0){if(!t)throw new Error("animation cannot be null.");let a=this.expandToIndex(e);if(a)for(;a.next;)a=a.next;let o=this.trackEntry(e,t,s,a);return a?(a.next=o,o.previous=a,i<=0&&(i=Math.max(i+a.getTrackComplete()-o.mixDuration,0))):(this.setCurrent(e,o,!0),this.queue.drain(),i<0&&(i=0)),o.delay=i,o}setEmptyAnimation(e,t=0){let s=this.setAnimationWith(e,eo.emptyAnimation(),!1);return s.mixDuration=t,s.trackEnd=t,s}addEmptyAnimation(e,t=0,s=0){let i=this.addAnimationWith(e,eo.emptyAnimation(),!1,s);return s<=0&&(i.delay=Math.max(i.delay+i.mixDuration-t,0)),i.mixDuration=t,i.trackEnd=t,i}setEmptyAnimations(e=0){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let s=0,i=this.tracks.length;s<i;s++){let a=this.tracks[s];a&&this.setEmptyAnimation(a.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}expandToIndex(e){return e<this.tracks.length?this.tracks[e]:(de.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}trackEntry(e,t,s,i){let a=this.trackEntryPool.obtain();return a.reset(),a.trackIndex=e,a.animation=t,a.loop=s,a.holdPrevious=!1,a.reverse=!1,a.shortestRotation=!1,a.eventThreshold=0,a.alphaAttachmentThreshold=0,a.mixAttachmentThreshold=0,a.mixDrawOrderThreshold=0,a.animationStart=0,a.animationEnd=t.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.mixTime=0,a.mixDuration=i?this.data.getMix(i.animation,t):0,a.interruptAlpha=1,a.totalAlpha=0,a.mixBlend=oe.replace,a}clearNext(e){let t=e.next;for(;t;)this.queue.dispose(t),t=t.next;e.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let e=this.tracks;for(let t=0,s=e.length;t<s;t++){let i=e[t];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=oe.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}}computeHold(e){let t=e.mixingTo,s=e.animation.timelines,i=e.animation.timelines.length,a=e.timelineMode;a.length=i;let o=e.timelineHoldMix;o.length=0;let c=this.propertyIDs;if(t&&t.holdPrevious){for(let h=0;h<i;h++)a[h]=c.addAll(s[h].getPropertyIds())?Im:pv;return}e:for(let h=0;h<i;h++){let u=s[h],d=u.getPropertyIds();if(!c.addAll(d))a[h]=Lm;else if(!t||u instanceof Kr||u instanceof Fa||u instanceof ec||!t.animation.hasTimeline(d))a[h]=gv;else{for(let m=t.mixingTo;m;m=m.mixingTo)if(!m.animation.hasTimeline(d)){if(e.mixDuration>0){a[h]=w3,o[h]=m;continue e}break}a[h]=Im}}}getCurrent(e){return e>=this.tracks.length?null:this.tracks[e]}addListener(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}removeListener(e){let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}};M(eo,"_emptyAnimation",new hp("<empty>",[],0));let Tg=eo;class v3{constructor(){M(this,"animation",null);M(this,"previous",null);M(this,"next",null);M(this,"mixingFrom",null);M(this,"mixingTo",null);M(this,"listener",null);M(this,"trackIndex",0);M(this,"loop",!1);M(this,"holdPrevious",!1);M(this,"reverse",!1);M(this,"shortestRotation",!1);M(this,"eventThreshold",0);M(this,"mixAttachmentThreshold",0);M(this,"alphaAttachmentThreshold",0);M(this,"mixDrawOrderThreshold",0);M(this,"animationStart",0);M(this,"animationEnd",0);M(this,"animationLast",0);M(this,"nextAnimationLast",0);M(this,"delay",0);M(this,"trackTime",0);M(this,"trackLast",0);M(this,"nextTrackLast",0);M(this,"trackEnd",0);M(this,"timeScale",0);M(this,"alpha",0);M(this,"mixTime",0);M(this,"_mixDuration",0);M(this,"interruptAlpha",0);M(this,"totalAlpha",0);M(this,"mixBlend",oe.replace);M(this,"timelineMode",new Array);M(this,"timelineHoldMix",new Array);M(this,"timelinesRotation",new Array)}get mixDuration(){return this._mixDuration}set mixDuration(e){this._mixDuration=e}setMixDurationWithDelay(e,t){this._mixDuration=e,t<=0&&(this.previous!=null?t=Math.max(t+this.previous.getTrackComplete()-e,0):t=0),this.delay=t}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(e){this.animationLast=e,this.nextAnimationLast=e}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}wasApplied(){return this.nextTrackLast!=-1}isNextReady(){return this.next!=null&&this.nextTrackLast-this.next.delay>=0}}class _3{constructor(e){M(this,"objects",[]);M(this,"drainDisabled",!1);M(this,"animState");this.animState=e}start(e){this.objects.push(Ss.start),this.objects.push(e),this.animState.animationsChanged=!0}interrupt(e){this.objects.push(Ss.interrupt),this.objects.push(e)}end(e){this.objects.push(Ss.end),this.objects.push(e),this.animState.animationsChanged=!0}dispose(e){this.objects.push(Ss.dispose),this.objects.push(e)}complete(e){this.objects.push(Ss.complete),this.objects.push(e)}event(e,t){this.objects.push(Ss.event),this.objects.push(e),this.objects.push(t)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let e=this.objects,t=this.animState.listeners;for(let s=0;s<e.length;s+=2){let i=e[s],a=e[s+1];switch(i){case Ss.start:a.listener&&a.listener.start&&a.listener.start(a);for(let c=0;c<t.length;c++){let h=t[c];h.start&&h.start(a)}break;case Ss.interrupt:a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(let c=0;c<t.length;c++){let h=t[c];h.interrupt&&h.interrupt(a)}break;case Ss.end:a.listener&&a.listener.end&&a.listener.end(a);for(let c=0;c<t.length;c++){let h=t[c];h.end&&h.end(a)}case Ss.dispose:a.listener&&a.listener.dispose&&a.listener.dispose(a);for(let c=0;c<t.length;c++){let h=t[c];h.dispose&&h.dispose(a)}this.animState.trackEntryPool.free(a);break;case Ss.complete:a.listener&&a.listener.complete&&a.listener.complete(a);for(let c=0;c<t.length;c++){let h=t[c];h.complete&&h.complete(a)}break;case Ss.event:let o=e[s+++2];a.listener&&a.listener.event&&a.listener.event(a,o);for(let c=0;c<t.length;c++){let h=t[c];h.event&&h.event(a,o)}break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var Ss;(function(n){n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event"})(Ss||(Ss={}));const Lm=0,gv=1,pv=2,Im=3,w3=4,yv=1,S3=2;class C3{constructor(e){M(this,"skeletonData");M(this,"animationToMixTime",{});M(this,"defaultMix",0);if(!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}setMix(e,t,s){let i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);let a=this.skeletonData.findAnimation(t);if(!a)throw new Error("Animation not found: "+t);this.setMixWith(i,a,s)}setMixWith(e,t,s){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");let i=e.name+"."+t.name;this.animationToMixTime[i]=s}getMix(e,t){let s=e.name+"."+t.name,i=this.animationToMixTime[s];return i===void 0?this.defaultMix:i}}class Fh extends Ai{constructor(t){super(t);M(this,"color",new Ce(1,1,1,1))}copy(){let t=new Fh(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class Xi extends Ai{constructor(t){super(t);M(this,"endSlot",null);M(this,"color",new Ce(.2275,.2275,.8078,1))}copy(){let t=new Xi(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class A3{constructor(e){M(this,"_image");this._image=e}getImage(){return this._image}}var Xt;(function(n){n[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear"})(Xt||(Xt={}));var vn;(function(n){n[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat"})(vn||(vn={}));class T3{constructor(){M(this,"texture");M(this,"u",0);M(this,"v",0);M(this,"u2",0);M(this,"v2",0);M(this,"width",0);M(this,"height",0);M(this,"degrees",0);M(this,"offsetX",0);M(this,"offsetY",0);M(this,"originalWidth",0);M(this,"originalHeight",0)}}class Mg{constructor(e){M(this,"pages",new Array);M(this,"regions",new Array);let t=new M3(e),s=new Array(4),i={};i.size=d=>{d.width=parseInt(s[1]),d.height=parseInt(s[2])},i.format=()=>{},i.filter=d=>{d.minFilter=de.enumValue(Xt,s[1]),d.magFilter=de.enumValue(Xt,s[2])},i.repeat=d=>{s[1].indexOf("x")!=-1&&(d.uWrap=vn.Repeat),s[1].indexOf("y")!=-1&&(d.vWrap=vn.Repeat)},i.pma=d=>{d.pma=s[1]=="true"};var a={};a.xy=d=>{d.x=parseInt(s[1]),d.y=parseInt(s[2])},a.size=d=>{d.width=parseInt(s[1]),d.height=parseInt(s[2])},a.bounds=d=>{d.x=parseInt(s[1]),d.y=parseInt(s[2]),d.width=parseInt(s[3]),d.height=parseInt(s[4])},a.offset=d=>{d.offsetX=parseInt(s[1]),d.offsetY=parseInt(s[2])},a.orig=d=>{d.originalWidth=parseInt(s[1]),d.originalHeight=parseInt(s[2])},a.offsets=d=>{d.offsetX=parseInt(s[1]),d.offsetY=parseInt(s[2]),d.originalWidth=parseInt(s[3]),d.originalHeight=parseInt(s[4])},a.rotate=d=>{let m=s[1];m=="true"?d.degrees=90:m!="false"&&(d.degrees=parseInt(m))},a.index=d=>{d.index=parseInt(s[1])};let o=t.readLine();for(;o&&o.trim().length==0;)o=t.readLine();for(;!(!o||o.trim().length==0||t.readEntry(s,o)==0);)o=t.readLine();let c=null,h=null,u=null;for(;o!==null;)if(o.trim().length==0)c=null,o=t.readLine();else if(c){let d=new pS(c,o);for(;;){let m=t.readEntry(s,o=t.readLine());if(m==0)break;let y=a[s[0]];if(y)y(d);else{h||(h=[]),u||(u=[]),h.push(s[0]);let p=[];for(let x=0;x<m;x++)p.push(parseInt(s[x+1]));u.push(p)}}d.originalWidth==0&&d.originalHeight==0&&(d.originalWidth=d.width,d.originalHeight=d.height),h&&h.length>0&&u&&u.length>0&&(d.names=h,d.values=u,h=null,u=null),d.u=d.x/c.width,d.v=d.y/c.height,d.degrees==90?(d.u2=(d.x+d.height)/c.width,d.v2=(d.y+d.width)/c.height):(d.u2=(d.x+d.width)/c.width,d.v2=(d.y+d.height)/c.height),this.regions.push(d)}else{for(c=new k3(o.trim());t.readEntry(s,o=t.readLine())!=0;){let d=i[s[0]];d&&d(c)}this.pages.push(c)}}findRegion(e){for(let t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}setTextures(e,t=""){for(let s of this.pages)s.setTexture(e.get(t+s.name))}dispose(){var e;for(let t=0;t<this.pages.length;t++)(e=this.pages[t].texture)==null||e.dispose()}}class M3{constructor(e){M(this,"lines");M(this,"index",0);this.lines=e.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(e,t){if(!t||(t=t.trim(),t.length==0))return 0;let s=t.indexOf(":");if(s==-1)return 0;e[0]=t.substr(0,s).trim();for(let i=1,a=s+1;;i++){let o=t.indexOf(",",a);if(o==-1)return e[i]=t.substr(a).trim(),i;if(e[i]=t.substr(a,o-a).trim(),a=o+1,i==4)return 4}}}class k3{constructor(e){M(this,"name");M(this,"minFilter",Xt.Nearest);M(this,"magFilter",Xt.Nearest);M(this,"uWrap",vn.ClampToEdge);M(this,"vWrap",vn.ClampToEdge);M(this,"texture",null);M(this,"width",0);M(this,"height",0);M(this,"pma",!1);M(this,"regions",new Array);this.name=e}setTexture(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap);for(let t of this.regions)t.texture=e}}class pS extends T3{constructor(t,s){super();M(this,"page");M(this,"name");M(this,"x",0);M(this,"y",0);M(this,"offsetX",0);M(this,"offsetY",0);M(this,"originalWidth",0);M(this,"originalHeight",0);M(this,"index",0);M(this,"degrees",0);M(this,"names",null);M(this,"values",null);this.page=t,this.name=s,t.regions.push(this)}}class Wt extends Ai{constructor(t,s){super(t);M(this,"region",null);M(this,"path");M(this,"regionUVs",[]);M(this,"uvs",[]);M(this,"triangles",[]);M(this,"color",new Ce(1,1,1,1));M(this,"width",0);M(this,"height",0);M(this,"hullLength",0);M(this,"edges",[]);M(this,"parentMesh",null);M(this,"sequence",null);M(this,"tempColor",new Ce(0,0,0,0));this.path=s}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;(!this.uvs||this.uvs.length!=t.length)&&(this.uvs=de.newFloatArray(t.length));let s=this.uvs,i=this.uvs.length,a=this.region.u,o=this.region.v,c=0,h=0;if(this.region instanceof pS){let u=this.region,d=u.page,m=d.width,y=d.height;switch(u.degrees){case 90:a-=(u.originalHeight-u.offsetY-u.height)/m,o-=(u.originalWidth-u.offsetX-u.width)/y,c=u.originalHeight/m,h=u.originalWidth/y;for(let p=0;p<i;p+=2)s[p]=a+t[p+1]*c,s[p+1]=o+(1-t[p])*h;return;case 180:a-=(u.originalWidth-u.offsetX-u.width)/m,o-=u.offsetY/y,c=u.originalWidth/m,h=u.originalHeight/y;for(let p=0;p<i;p+=2)s[p]=a+(1-t[p])*c,s[p+1]=o+(1-t[p+1])*h;return;case 270:a-=u.offsetY/m,o-=u.offsetX/y,c=u.originalHeight/m,h=u.originalWidth/y;for(let p=0;p<i;p+=2)s[p]=a+(1-t[p+1])*c,s[p+1]=o+t[p]*h;return}a-=u.offsetX/m,o-=(u.originalHeight-u.offsetY-u.height)/y,c=u.originalWidth/m,h=u.originalHeight/y}else this.region?(c=this.region.u2-a,h=this.region.v2-o):(a=o=0,c=h=1);for(let u=0;u<i;u+=2)s[u]=a+t[u]*c,s[u+1]=o+t[u+1]*h}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new Wt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),de.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),de.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),de.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),de.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,s,i,a,o,c){this.sequence!=null&&this.sequence.apply(t,this),super.computeWorldVertices(t,s,i,a,o,c)}newLinkedMesh(){let t=new Wt(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t.region!=null&&t.updateRegion(),t}}class uo extends Ai{constructor(t){super(t);M(this,"lengths",[]);M(this,"closed",!1);M(this,"constantSpeed",!1);M(this,"color",new Ce(1,1,1,1))}copy(){let t=new uo(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),de.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class xp extends Ai{constructor(t){super(t);M(this,"x",0);M(this,"y",0);M(this,"rotation",0);M(this,"color",new Ce(.38,.94,0,1))}computeWorldPosition(t,s){return s.x=this.x*t.a+this.y*t.b+t.worldX,s.y=this.x*t.c+this.y*t.d+t.worldY,s}computeWorldRotation(t){const s=this.rotation*he.degRad,i=Math.cos(s),a=Math.sin(s),o=i*t.a+a*t.b,c=i*t.c+a*t.d;return he.atan2Deg(c,o)}copy(){let t=new xp(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}const Ie=class Ie extends Gw{constructor(t,s){super(t);M(this,"x",0);M(this,"y",0);M(this,"scaleX",1);M(this,"scaleY",1);M(this,"rotation",0);M(this,"width",0);M(this,"height",0);M(this,"color",new Ce(1,1,1,1));M(this,"path");M(this,"region",null);M(this,"sequence",null);M(this,"offset",de.newFloatArray(8));M(this,"uvs",de.newFloatArray(8));M(this,"tempColor",new Ce(1,1,1,1));this.path=s}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,s=this.uvs;if(t==null){s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=1,s[5]=1,s[6]=1,s[7]=0;return}let i=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,o=-this.width/2*this.scaleX+this.region.offsetX*i,c=-this.height/2*this.scaleY+this.region.offsetY*a,h=o+this.region.width*i,u=c+this.region.height*a,d=this.rotation*he.degRad,m=Math.cos(d),y=Math.sin(d),p=this.x,x=this.y,v=o*m+p,_=o*y,A=c*m+x,S=c*y,w=h*m+p,T=h*y,R=u*m+x,E=u*y,D=this.offset;D[0]=v-S,D[1]=A+_,D[2]=v-E,D[3]=R+_,D[4]=w-E,D[5]=R+T,D[6]=w-S,D[7]=A+T,t.degrees==90?(s[0]=t.u2,s[1]=t.v2,s[2]=t.u,s[3]=t.v2,s[4]=t.u,s[5]=t.v,s[6]=t.u2,s[7]=t.v):(s[0]=t.u,s[1]=t.v2,s[2]=t.u,s[3]=t.v,s[4]=t.u2,s[5]=t.v,s[6]=t.u2,s[7]=t.v2)}computeWorldVertices(t,s,i,a){this.sequence!=null&&this.sequence.apply(t,this);let o=t.bone,c=this.offset,h=o.worldX,u=o.worldY,d=o.a,m=o.b,y=o.c,p=o.d,x=0,v=0;x=c[0],v=c[1],s[i]=x*d+v*m+h,s[i+1]=x*y+v*p+u,i+=a,x=c[2],v=c[3],s[i]=x*d+v*m+h,s[i+1]=x*y+v*p+u,i+=a,x=c[4],v=c[5],s[i]=x*d+v*m+h,s[i+1]=x*y+v*p+u,i+=a,x=c[6],v=c[7],s[i]=x*d+v*m+h,s[i+1]=x*y+v*p+u}copy(){let t=new Ie(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,de.arrayCopy(this.uvs,0,t.uvs,0,8),de.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=this.sequence!=null?this.sequence.copy():null,t}};M(Ie,"X1",0),M(Ie,"Y1",1),M(Ie,"C1R",2),M(Ie,"C1G",3),M(Ie,"C1B",4),M(Ie,"C1A",5),M(Ie,"U1",6),M(Ie,"V1",7),M(Ie,"X2",8),M(Ie,"Y2",9),M(Ie,"C2R",10),M(Ie,"C2G",11),M(Ie,"C2B",12),M(Ie,"C2A",13),M(Ie,"U2",14),M(Ie,"V2",15),M(Ie,"X3",16),M(Ie,"Y3",17),M(Ie,"C3R",18),M(Ie,"C3G",19),M(Ie,"C3B",20),M(Ie,"C3A",21),M(Ie,"U3",22),M(Ie,"V3",23),M(Ie,"X4",24),M(Ie,"Y4",25),M(Ie,"C4R",26),M(Ie,"C4G",27),M(Ie,"C4B",28),M(Ie,"C4A",29),M(Ie,"U4",30),M(Ie,"V4",31);let wi=Ie;class kg{constructor(e){M(this,"atlas");this.atlas=e}loadSequence(e,t,s){let i=s.regions;for(let a=0,o=i.length;a<o;a++){let c=s.getPath(t,a),h=this.atlas.findRegion(c);if(h==null)throw new Error("Region not found in atlas: "+c+" (sequence: "+e+")");i[a]=h}}newRegionAttachment(e,t,s,i){let a=new wi(t,s);if(i!=null)this.loadSequence(t,s,i);else{let o=this.atlas.findRegion(s);if(!o)throw new Error("Region not found in atlas: "+s+" (region attachment: "+t+")");a.region=o}return a}newMeshAttachment(e,t,s,i){let a=new Wt(t,s);if(i!=null)this.loadSequence(t,s,i);else{let o=this.atlas.findRegion(s);if(!o)throw new Error("Region not found in atlas: "+s+" (mesh attachment: "+t+")");a.region=o}return a}newBoundingBoxAttachment(e,t){return new Fh(t)}newPathAttachment(e,t){return new uo(t)}newPointAttachment(e,t){return new xp(t)}newClippingAttachment(e,t){return new Xi(t)}}class yS{constructor(e,t,s){M(this,"index",0);M(this,"name");M(this,"parent",null);M(this,"length",0);M(this,"x",0);M(this,"y",0);M(this,"rotation",0);M(this,"scaleX",1);M(this,"scaleY",1);M(this,"shearX",0);M(this,"shearY",0);M(this,"inherit",gt.Normal);M(this,"skinRequired",!1);M(this,"color",new Ce);M(this,"icon");M(this,"visible",!1);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=s}}var gt;(function(n){n[n.Normal=0]="Normal",n[n.OnlyTranslation=1]="OnlyTranslation",n[n.NoRotationOrReflection=2]="NoRotationOrReflection",n[n.NoScale=3]="NoScale",n[n.NoScaleOrReflection=4]="NoScaleOrReflection"})(gt||(gt={}));class xv{constructor(e,t,s){M(this,"data");M(this,"skeleton");M(this,"parent",null);M(this,"children",new Array);M(this,"x",0);M(this,"y",0);M(this,"rotation",0);M(this,"scaleX",0);M(this,"scaleY",0);M(this,"shearX",0);M(this,"shearY",0);M(this,"ax",0);M(this,"ay",0);M(this,"arotation",0);M(this,"ascaleX",0);M(this,"ascaleY",0);M(this,"ashearX",0);M(this,"ashearY",0);M(this,"a",0);M(this,"b",0);M(this,"c",0);M(this,"d",0);M(this,"worldY",0);M(this,"worldX",0);M(this,"inherit",gt.Normal);M(this,"sorted",!1);M(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=s,this.setToSetupPose()}isActive(){return this.active}update(e){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,s,i,a,o,c){this.ax=e,this.ay=t,this.arotation=s,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=c;let h=this.parent;if(!h){let p=this.skeleton;const x=p.scaleX,v=p.scaleY,_=(s+o)*he.degRad,A=(s+90+c)*he.degRad;this.a=Math.cos(_)*i*x,this.b=Math.cos(A)*a*x,this.c=Math.sin(_)*i*v,this.d=Math.sin(A)*a*v,this.worldX=e*x+p.x,this.worldY=t*v+p.y;return}let u=h.a,d=h.b,m=h.c,y=h.d;switch(this.worldX=u*e+d*t+h.worldX,this.worldY=m*e+y*t+h.worldY,this.inherit){case gt.Normal:{const p=(s+o)*he.degRad,x=(s+90+c)*he.degRad,v=Math.cos(p)*i,_=Math.cos(x)*a,A=Math.sin(p)*i,S=Math.sin(x)*a;this.a=u*v+d*A,this.b=u*_+d*S,this.c=m*v+y*A,this.d=m*_+y*S;return}case gt.OnlyTranslation:{const p=(s+o)*he.degRad,x=(s+90+c)*he.degRad;this.a=Math.cos(p)*i,this.b=Math.cos(x)*a,this.c=Math.sin(p)*i,this.d=Math.sin(x)*a;break}case gt.NoRotationOrReflection:{let p=1/this.skeleton.scaleX,x=1/this.skeleton.scaleY;u*=p,m*=x;let v=u*u+m*m,_=0;v>1e-4?(v=Math.abs(u*y*x-d*p*m)/v,d=m*v,y=u*v,_=Math.atan2(m,u)*he.radDeg):(u=0,m=0,_=90-Math.atan2(y,d)*he.radDeg);const A=(s+o-_)*he.degRad,S=(s+c-_+90)*he.degRad,w=Math.cos(A)*i,T=Math.cos(S)*a,R=Math.sin(A)*i,E=Math.sin(S)*a;this.a=u*w-d*R,this.b=u*T-d*E,this.c=m*w+y*R,this.d=m*T+y*E;break}case gt.NoScale:case gt.NoScaleOrReflection:{s*=he.degRad;const p=Math.cos(s),x=Math.sin(s);let v=(u*p+d*x)/this.skeleton.scaleX,_=(m*p+y*x)/this.skeleton.scaleY,A=Math.sqrt(v*v+_*_);A>1e-5&&(A=1/A),v*=A,_*=A,A=Math.sqrt(v*v+_*_),this.inherit==gt.NoScale&&u*y-d*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(A=-A),s=Math.PI/2+Math.atan2(_,v);const S=Math.cos(s)*A,w=Math.sin(s)*A;o*=he.degRad,c=(90+c)*he.degRad;const T=Math.cos(o)*i,R=Math.cos(c)*a,E=Math.sin(o)*i,D=Math.sin(c)*a;this.a=v*T+S*E,this.b=v*R+S*D,this.c=_*T+w*E,this.d=_*R+w*D;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY,this.inherit=e.inherit}updateAppliedTransform(){let e=this.parent;if(!e){this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*he.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*he.radDeg;return}let t=e.a,s=e.b,i=e.c,a=e.d,o=1/(t*a-s*i),c=a*o,h=s*o,u=i*o,d=t*o,m=this.worldX-e.worldX,y=this.worldY-e.worldY;this.ax=m*c-y*h,this.ay=y*d-m*u;let p,x,v,_;if(this.inherit==gt.OnlyTranslation)p=this.a,x=this.b,v=this.c,_=this.d;else{switch(this.inherit){case gt.NoRotationOrReflection:{let R=Math.abs(t*a-s*i)/(t*t+i*i);s=-i*this.skeleton.scaleX*R/this.skeleton.scaleY,a=t*this.skeleton.scaleY*R/this.skeleton.scaleX,o=1/(t*a-s*i),c=a*o,h=s*o;break}case gt.NoScale:case gt.NoScaleOrReflection:let A=he.cosDeg(this.rotation),S=he.sinDeg(this.rotation);t=(t*A+s*S)/this.skeleton.scaleX,i=(i*A+a*S)/this.skeleton.scaleY;let w=Math.sqrt(t*t+i*i);w>1e-5&&(w=1/w),t*=w,i*=w,w=Math.sqrt(t*t+i*i),this.inherit==gt.NoScale&&o<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(w=-w);let T=he.PI/2+Math.atan2(i,t);s=Math.cos(T)*w,a=Math.sin(T)*w,o=1/(t*a-s*i),c=a*o,h=s*o,u=i*o,d=t*o}p=c*this.a-h*this.c,x=c*this.b-h*this.d,v=d*this.c-u*this.a,_=d*this.d-u*this.b}if(this.ashearX=0,this.ascaleX=Math.sqrt(p*p+v*v),this.ascaleX>1e-4){let A=p*_-x*v;this.ascaleY=A/this.ascaleX,this.ashearY=-Math.atan2(p*x+v*_,A)*he.radDeg,this.arotation=Math.atan2(v,p)*he.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(x*x+_*_),this.ashearY=0,this.arotation=90-Math.atan2(_,x)*he.radDeg}getWorldRotationX(){return Math.atan2(this.c,this.a)*he.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*he.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}worldToLocal(e){let t=1/(this.a*this.d-this.b*this.c),s=e.x-this.worldX,i=e.y-this.worldY;return e.x=s*this.d*t-i*this.b*t,e.y=i*this.a*t-s*this.c*t,e}localToWorld(e){let t=e.x,s=e.y;return e.x=t*this.a+s*this.b+this.worldX,e.y=t*this.c+s*this.d+this.worldY,e}worldToParent(e){if(e==null)throw new Error("world cannot be null.");return this.parent==null?e:this.parent.worldToLocal(e)}parentToWorld(e){if(e==null)throw new Error("world cannot be null.");return this.parent==null?e:this.parent.localToWorld(e)}worldToLocalRotation(e){let t=he.sinDeg(e),s=he.cosDeg(e);return Math.atan2(this.a*t-this.c*s,this.d*s-this.b*t)*he.radDeg+this.rotation-this.shearX}localToWorldRotation(e){e-=this.rotation-this.shearX;let t=he.sinDeg(e),s=he.cosDeg(e);return Math.atan2(s*this.c+t*this.d,s*this.a+t*this.b)*he.radDeg}rotateWorld(e){e*=he.degRad;const t=Math.sin(e),s=Math.cos(e),i=this.a,a=this.b;this.a=s*i-t*this.c,this.b=s*a-t*this.d,this.c=t*i+s*this.c,this.d=t*a+s*this.d}}class jh{constructor(e,t,s){M(this,"name");M(this,"order");M(this,"skinRequired");this.name=e,this.order=t,this.skinRequired=s}}let xS=class{constructor(e,t){M(this,"data");M(this,"intValue",0);M(this,"floatValue",0);M(this,"stringValue",null);M(this,"time",0);M(this,"volume",0);M(this,"balance",0);if(!t)throw new Error("data cannot be null.");this.time=e,this.data=t}};class bS{constructor(e){M(this,"name");M(this,"intValue",0);M(this,"floatValue",0);M(this,"stringValue",null);M(this,"audioPath",null);M(this,"volume",0);M(this,"balance",0);this.name=e}}class E3{constructor(e,t){M(this,"data");M(this,"bones");M(this,"target");M(this,"bendDirection",0);M(this,"compress",!1);M(this,"stretch",!1);M(this,"mix",1);M(this,"softness",0);M(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let a=t.findBone(e.bones[i].name);if(!a)throw new Error(`Couldn't find bone ${e.bones[i].name}`);this.bones.push(a)}let s=t.findBone(e.target.name);if(!s)throw new Error(`Couldn't find bone ${e.target.name}`);this.target=s,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch}isActive(){return this.active}setToSetupPose(){const e=this.data;this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch}update(e){if(this.mix==0)return;let t=this.target,s=this.bones;switch(s.length){case 1:this.apply1(s[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(s[0],s[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}apply1(e,t,s,i,a,o,c){let h=e.parent;if(!h)throw new Error("IK bone must have parent.");let u=h.a,d=h.b,m=h.c,y=h.d,p=-e.ashearX-e.arotation,x=0,v=0;switch(e.inherit){case gt.OnlyTranslation:x=(t-e.worldX)*he.signum(e.skeleton.scaleX),v=(s-e.worldY)*he.signum(e.skeleton.scaleY);break;case gt.NoRotationOrReflection:let S=Math.abs(u*y-d*m)/Math.max(1e-4,u*u+m*m),w=u/e.skeleton.scaleX,T=m/e.skeleton.scaleY;d=-T*S*e.skeleton.scaleX,y=w*S*e.skeleton.scaleY,p+=Math.atan2(T,w)*he.radDeg;default:let R=t-h.worldX,E=s-h.worldY,D=u*y-d*m;Math.abs(D)<=1e-4?(x=0,v=0):(x=(R*y-E*d)/D-e.ax,v=(E*u-R*m)/D-e.ay)}p+=Math.atan2(v,x)*he.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);let _=e.ascaleX,A=e.ascaleY;if(i||a){switch(e.inherit){case gt.NoScale:case gt.NoScaleOrReflection:x=t-e.worldX,v=s-e.worldY}const S=e.data.length*_;if(S>1e-4){const w=x*x+v*v;if(i&&w<S*S||a&&w>S*S){const T=(Math.sqrt(w)/S-1)*c+1;_*=T,o&&(A*=T)}}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*c,_,A,e.ashearX,e.ashearY)}apply2(e,t,s,i,a,o,c,h,u){if(e.inherit!=gt.Normal||t.inherit!=gt.Normal)return;let d=e.ax,m=e.ay,y=e.ascaleX,p=e.ascaleY,x=y,v=p,_=t.ascaleX,A=0,S=0,w=0;y<0?(y=-y,A=180,w=-1):(A=0,w=1),p<0&&(p=-p,w=-w),_<0?(_=-_,S=180):S=0;let T=t.ax,R=0,E=0,D=0,B=e.a,O=e.b,L=e.c,z=e.d,H=Math.abs(y-p)<=1e-4;!H||o?(R=0,E=B*T+e.worldX,D=L*T+e.worldY):(R=t.ay,E=B*T+O*R+e.worldX,D=L*T+z*R+e.worldY);let X=e.parent;if(!X)throw new Error("IK parent must itself have a parent.");B=X.a,O=X.b,L=X.c,z=X.d;let j=B*z-O*L,W=E-X.worldX,I=D-X.worldY;j=Math.abs(j)<=1e-4?0:1/j;let U=(W*z-I*O)*j-d,ne=(I*B-W*L)*j-m,se=Math.sqrt(U*U+ne*ne),F=t.data.length*_,K,ae;if(se<1e-4){this.apply1(e,s,i,!1,o,!1,u),t.updateWorldTransformWith(T,R,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}W=s-X.worldX,I=i-X.worldY;let ee=(W*z-I*O)*j-d,ce=(I*B-W*L)*j-m,ue=ee*ee+ce*ce;if(h!=0){h*=y*(_+1)*.5;let be=Math.sqrt(ue),Ue=be-se-F*y+h;if(Ue>0){let tt=Math.min(1,Ue/(h*2))-1;tt=(Ue-h*(1-tt*tt))/be,ee-=tt*ee,ce-=tt*ce,ue=ee*ee+ce*ce}}e:if(H){F*=y;let be=(ue-se*se-F*F)/(2*se*F);be<-1?(be=-1,ae=Math.PI*a):be>1?(be=1,ae=0,o&&(B=(Math.sqrt(ue)/(se+F)-1)*u+1,x*=B,c&&(v*=B))):ae=Math.acos(be)*a,B=se+F*be,O=F*Math.sin(ae),K=Math.atan2(ce*B-ee*O,ee*B+ce*O)}else{B=y*F,O=p*F;let be=B*B,Ue=O*O,tt=Math.atan2(ce,ee);L=Ue*se*se+be*ue-be*Ue;let At=-2*Ue*se,ye=Ue-be;if(z=At*At-4*ye*L,z>=0){let mi=Math.sqrt(z);At<0&&(mi=-mi),mi=-(At+mi)*.5;let la=mi/ye,_o=L/mi,er=Math.abs(la)<Math.abs(_o)?la:_o;if(la=ue-er*er,la>=0){I=Math.sqrt(la)*a,K=tt-Math.atan2(I,er),ae=Math.atan2(I/p,(er-se)/y);break e}}let Be=he.PI,ke=se-B,ct=ke*ke,fi=0,Tt=0,Ei=se+B,Ri=Ei*Ei,vo=0;L=-B*se/(be-Ue),L>=-1&&L<=1&&(L=Math.acos(L),W=B*Math.cos(L)+se,I=O*Math.sin(L),z=W*W+I*I,z<ct&&(Be=L,ct=z,ke=W,fi=I),z>Ri&&(Tt=L,Ri=z,Ei=W,vo=I)),ue<=(ct+Ri)*.5?(K=tt-Math.atan2(fi*a,ke),ae=Be*a):(K=tt-Math.atan2(vo*a,Ei),ae=Tt*a)}let fe=Math.atan2(R,T)*w,Ye=e.arotation;K=(K-fe)*he.radDeg+A-Ye,K>180?K-=360:K<-180&&(K+=360),e.updateWorldTransformWith(d,m,Ye+K*u,x,v,0,0),Ye=t.arotation,ae=((ae+fe)*he.radDeg-t.ashearX)*w+S-Ye,ae>180?ae-=360:ae<-180&&(ae+=360),t.updateWorldTransformWith(T,R,Ye+ae*u,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}class vS extends jh{constructor(t){super(t,0,!1);M(this,"bones",new Array);M(this,"_target",null);M(this,"bendDirection",0);M(this,"compress",!1);M(this,"stretch",!1);M(this,"uniform",!1);M(this,"mix",0);M(this,"softness",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class _S extends jh{constructor(t){super(t,0,!1);M(this,"bones",new Array);M(this,"_target",null);M(this,"positionMode",Gi.Fixed);M(this,"spacingMode",jt.Fixed);M(this,"rotateMode",ja.Chain);M(this,"offsetRotation",0);M(this,"position",0);M(this,"spacing",0);M(this,"mixRotate",0);M(this,"mixX",0);M(this,"mixY",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var Gi;(function(n){n[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent"})(Gi||(Gi={}));var jt;(function(n){n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",n[n.Proportional=3]="Proportional"})(jt||(jt={}));var ja;(function(n){n[n.Tangent=0]="Tangent",n[n.Chain=1]="Chain",n[n.ChainScale=2]="ChainScale"})(ja||(ja={}));const Ys=class Ys{constructor(e,t){M(this,"data");M(this,"bones");M(this,"target");M(this,"position",0);M(this,"spacing",0);M(this,"mixRotate",0);M(this,"mixX",0);M(this,"mixY",0);M(this,"spaces",new Array);M(this,"positions",new Array);M(this,"world",new Array);M(this,"curves",new Array);M(this,"lengths",new Array);M(this,"segments",new Array);M(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0,a=e.bones.length;i<a;i++){let o=t.findBone(e.bones[i].name);if(!o)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(o)}let s=t.findSlot(e.target.name);if(!s)throw new Error(`Couldn't find target bone ${e.target.name}`);this.target=s,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}isActive(){return this.active}setToSetupPose(){const e=this.data;this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}update(e){let t=this.target.getAttachment();if(!(t instanceof uo))return;let s=this.mixRotate,i=this.mixX,a=this.mixY;if(s==0&&i==0&&a==0)return;let o=this.data,c=o.rotateMode==ja.Tangent,h=o.rotateMode==ja.ChainScale,u=this.bones,d=u.length,m=c?d:d+1,y=de.setArraySize(this.spaces,m),p=h?this.lengths=de.setArraySize(this.lengths,d):[],x=this.spacing;switch(o.spacingMode){case jt.Percent:if(h)for(let E=0,D=m-1;E<D;E++){let B=u[E],O=B.data.length,L=O*B.a,z=O*B.c;p[E]=Math.sqrt(L*L+z*z)}de.arrayFill(y,1,m,x);break;case jt.Proportional:let T=0;for(let E=0,D=m-1;E<D;){let B=u[E],O=B.data.length;if(O<Ys.epsilon)h&&(p[E]=0),y[++E]=x;else{let L=O*B.a,z=O*B.c,H=Math.sqrt(L*L+z*z);h&&(p[E]=H),y[++E]=H,T+=H}}if(T>0){T=m/T*x;for(let E=1;E<m;E++)y[E]*=T}break;default:let R=o.spacingMode==jt.Length;for(let E=0,D=m-1;E<D;){let B=u[E],O=B.data.length;if(O<Ys.epsilon)h&&(p[E]=0),y[++E]=x;else{let L=O*B.a,z=O*B.c,H=Math.sqrt(L*L+z*z);h&&(p[E]=H),y[++E]=(R?O+x:x)*H/O}}}let v=this.computeWorldPositions(t,m,c),_=v[0],A=v[1],S=o.offsetRotation,w=!1;if(S==0)w=o.rotateMode==ja.Chain;else{w=!1;let T=this.target.bone;S*=T.a*T.d-T.b*T.c>0?he.degRad:-.01745329277777778}for(let T=0,R=3;T<d;T++,R+=3){let E=u[T];E.worldX+=(_-E.worldX)*i,E.worldY+=(A-E.worldY)*a;let D=v[R],B=v[R+1],O=D-_,L=B-A;if(h){let z=p[T];if(z!=0){let H=(Math.sqrt(O*O+L*L)/z-1)*s+1;E.a*=H,E.c*=H}}if(_=D,A=B,s>0){let z=E.a,H=E.b,X=E.c,j=E.d,W=0,I=0,U=0;if(c?W=v[R-1]:y[T+1]==0?W=v[R+2]:W=Math.atan2(L,O),W-=Math.atan2(X,z),w){I=Math.cos(W),U=Math.sin(W);let ne=E.data.length;_+=(ne*(I*z-U*X)-O)*s,A+=(ne*(U*z+I*X)-L)*s}else W+=S;W>he.PI?W-=he.PI2:W<-3.1415927&&(W+=he.PI2),W*=s,I=Math.cos(W),U=Math.sin(W),E.a=I*z-U*X,E.b=I*H-U*j,E.c=U*z+I*X,E.d=U*H+I*j}E.updateAppliedTransform()}}computeWorldPositions(e,t,s){let i=this.target,a=this.position,o=this.spaces,c=de.setArraySize(this.positions,t*3+2),h=this.world,u=e.closed,d=e.worldVerticesLength,m=d/6,y=Ys.NONE;if(!e.constantSpeed){let ne=e.lengths;m-=u?1:2;let se=ne[m];this.data.positionMode==Gi.Percent&&(a*=se);let F;switch(this.data.spacingMode){case jt.Percent:F=se;break;case jt.Proportional:F=se/t;break;default:F=1}h=de.setArraySize(this.world,8);for(let K=0,ae=0,ee=0;K<t;K++,ae+=3){let ce=o[K]*F;a+=ce;let ue=a;if(u)ue%=se,ue<0&&(ue+=se),ee=0;else if(ue<0){y!=Ys.BEFORE&&(y=Ys.BEFORE,e.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(ue,h,0,c,ae);continue}else if(ue>se){y!=Ys.AFTER&&(y=Ys.AFTER,e.computeWorldVertices(i,d-6,4,h,0,2)),this.addAfterPosition(ue-se,h,0,c,ae);continue}for(;;ee++){let fe=ne[ee];if(!(ue>fe)){if(ee==0)ue/=fe;else{let Ye=ne[ee-1];ue=(ue-Ye)/(fe-Ye)}break}}ee!=y&&(y=ee,u&&ee==m?(e.computeWorldVertices(i,d-4,4,h,0,2),e.computeWorldVertices(i,0,4,h,4,2)):e.computeWorldVertices(i,ee*6+2,8,h,0,2)),this.addCurvePosition(ue,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],c,ae,s||K>0&&ce==0)}return c}u?(d+=2,h=de.setArraySize(this.world,d),e.computeWorldVertices(i,2,d-4,h,0,2),e.computeWorldVertices(i,0,2,h,d-4,2),h[d-2]=h[0],h[d-1]=h[1]):(m--,d-=4,h=de.setArraySize(this.world,d),e.computeWorldVertices(i,2,d,h,0,2));let p=de.setArraySize(this.curves,m),x=0,v=h[0],_=h[1],A=0,S=0,w=0,T=0,R=0,E=0,D=0,B=0,O=0,L=0,z=0,H=0,X=0,j=0;for(let ne=0,se=2;ne<m;ne++,se+=6)A=h[se],S=h[se+1],w=h[se+2],T=h[se+3],R=h[se+4],E=h[se+5],D=(v-A*2+w)*.1875,B=(_-S*2+T)*.1875,O=((A-w)*3-v+R)*.09375,L=((S-T)*3-_+E)*.09375,z=D*2+O,H=B*2+L,X=(A-v)*.75+D+O*.16666667,j=(S-_)*.75+B+L*.16666667,x+=Math.sqrt(X*X+j*j),X+=z,j+=H,z+=O,H+=L,x+=Math.sqrt(X*X+j*j),X+=z,j+=H,x+=Math.sqrt(X*X+j*j),X+=z+O,j+=H+L,x+=Math.sqrt(X*X+j*j),p[ne]=x,v=R,_=E;this.data.positionMode==Gi.Percent&&(a*=x);let W;switch(this.data.spacingMode){case jt.Percent:W=x;break;case jt.Proportional:W=x/t;break;default:W=1}let I=this.segments,U=0;for(let ne=0,se=0,F=0,K=0;ne<t;ne++,se+=3){let ae=o[ne]*W;a+=ae;let ee=a;if(u)ee%=x,ee<0&&(ee+=x),F=0;else if(ee<0){this.addBeforePosition(ee,h,0,c,se);continue}else if(ee>x){this.addAfterPosition(ee-x,h,d-4,c,se);continue}for(;;F++){let ce=p[F];if(!(ee>ce)){if(F==0)ee/=ce;else{let ue=p[F-1];ee=(ee-ue)/(ce-ue)}break}}if(F!=y){y=F;let ce=F*6;for(v=h[ce],_=h[ce+1],A=h[ce+2],S=h[ce+3],w=h[ce+4],T=h[ce+5],R=h[ce+6],E=h[ce+7],D=(v-A*2+w)*.03,B=(_-S*2+T)*.03,O=((A-w)*3-v+R)*.006,L=((S-T)*3-_+E)*.006,z=D*2+O,H=B*2+L,X=(A-v)*.3+D+O*.16666667,j=(S-_)*.3+B+L*.16666667,U=Math.sqrt(X*X+j*j),I[0]=U,ce=1;ce<8;ce++)X+=z,j+=H,z+=O,H+=L,U+=Math.sqrt(X*X+j*j),I[ce]=U;X+=z,j+=H,U+=Math.sqrt(X*X+j*j),I[8]=U,X+=z+O,j+=H+L,U+=Math.sqrt(X*X+j*j),I[9]=U,K=0}for(ee*=U;;K++){let ce=I[K];if(!(ee>ce)){if(K==0)ee/=ce;else{let ue=I[K-1];ee=K+(ee-ue)/(ce-ue)}break}}this.addCurvePosition(ee*.1,v,_,A,S,w,T,R,E,c,se,s||ne>0&&ae==0)}return c}addBeforePosition(e,t,s,i,a){let o=t[s],c=t[s+1],h=t[s+2]-o,u=t[s+3]-c,d=Math.atan2(u,h);i[a]=o+e*Math.cos(d),i[a+1]=c+e*Math.sin(d),i[a+2]=d}addAfterPosition(e,t,s,i,a){let o=t[s+2],c=t[s+3],h=o-t[s],u=c-t[s+1],d=Math.atan2(u,h);i[a]=o+e*Math.cos(d),i[a+1]=c+e*Math.sin(d),i[a+2]=d}addCurvePosition(e,t,s,i,a,o,c,h,u,d,m,y){if(e==0||isNaN(e)){d[m]=t,d[m+1]=s,d[m+2]=Math.atan2(a-s,i-t);return}let p=e*e,x=p*e,v=1-e,_=v*v,A=_*v,S=v*e,w=S*3,T=v*w,R=w*e,E=t*A+i*T+o*R+h*x,D=s*A+a*T+c*R+u*x;d[m]=E,d[m+1]=D,y&&(e<.001?d[m+2]=Math.atan2(a-s,i-t):d[m+2]=Math.atan2(D-(s*_+a*S*2+c*p),E-(t*_+i*S*2+o*p)))}};M(Ys,"NONE",-1),M(Ys,"BEFORE",-2),M(Ys,"AFTER",-3),M(Ys,"epsilon",1e-5);let Eg=Ys;class R3{constructor(e,t){M(this,"data");M(this,"_bone",null);M(this,"inertia",0);M(this,"strength",0);M(this,"damping",0);M(this,"massInverse",0);M(this,"wind",0);M(this,"gravity",0);M(this,"mix",0);M(this,"_reset",!0);M(this,"ux",0);M(this,"uy",0);M(this,"cx",0);M(this,"cy",0);M(this,"tx",0);M(this,"ty",0);M(this,"xOffset",0);M(this,"xVelocity",0);M(this,"yOffset",0);M(this,"yVelocity",0);M(this,"rotateOffset",0);M(this,"rotateVelocity",0);M(this,"scaleOffset",0);M(this,"scaleVelocity",0);M(this,"active",!1);M(this,"skeleton");M(this,"remaining",0);M(this,"lastTime",0);this.data=e,this.skeleton=t,this.bone=t.bones[e.bone.index],this.inertia=e.inertia,this.strength=e.strength,this.damping=e.damping,this.massInverse=e.massInverse,this.wind=e.wind,this.gravity=e.gravity,this.mix=e.mix}set bone(e){this._bone=e}get bone(){if(this._bone)return this._bone;throw new Error("Bone not set.")}reset(){this.remaining=0,this.lastTime=this.skeleton.time,this._reset=!0,this.xOffset=0,this.xVelocity=0,this.yOffset=0,this.yVelocity=0,this.rotateOffset=0,this.rotateVelocity=0,this.scaleOffset=0,this.scaleVelocity=0}setToSetupPose(){const e=this.data;this.inertia=e.inertia,this.strength=e.strength,this.damping=e.damping,this.massInverse=e.massInverse,this.wind=e.wind,this.gravity=e.gravity,this.mix=e.mix}isActive(){return this.active}update(e){const t=this.mix;if(t==0)return;const s=this.data.x>0,i=this.data.y>0,a=this.data.rotate>0||this.data.shearX>0,o=this.data.scaleX>0,c=this.bone,h=c.data.length;switch(e){case Yi.none:return;case Yi.reset:this.reset();case Yi.update:const u=this.skeleton,d=Math.max(this.skeleton.time-this.lastTime,0);this.remaining+=d,this.lastTime=u.time;const m=c.worldX,y=c.worldY;if(this._reset)this._reset=!1,this.ux=m,this.uy=y;else{let p=this.remaining,x=this.inertia,v=this.data.step,_=this.skeleton.data.referenceScale,A=-1,S=this.data.limit*d,w=S*Math.abs(u.scaleY);if(S*=Math.abs(u.scaleX),s||i){if(s){const T=(this.ux-m)*x;this.xOffset+=T>S?S:T<-S?-S:T,this.ux=m}if(i){const T=(this.uy-y)*x;this.yOffset+=T>w?w:T<-w?-w:T,this.uy=y}if(p>=v){A=Math.pow(this.damping,60*v);const T=this.massInverse*v,R=this.strength,E=this.wind*_*u.scaleX,D=this.gravity*_*u.scaleY;do s&&(this.xVelocity+=(E-this.xOffset*R)*T,this.xOffset+=this.xVelocity*v,this.xVelocity*=A),i&&(this.yVelocity-=(D+this.yOffset*R)*T,this.yOffset+=this.yVelocity*v,this.yVelocity*=A),p-=v;while(p>=v)}s&&(c.worldX+=this.xOffset*t*this.data.x),i&&(c.worldY+=this.yOffset*t*this.data.y)}if(a||o){let T=Math.atan2(c.c,c.a),R=0,E=0,D=0,B=this.cx-c.worldX,O=this.cy-c.worldY;if(B>S?B=S:B<-S&&(B=-S),O>w?O=w:O<-w&&(O=-w),a){D=(this.data.rotate+this.data.shearX)*t;let L=Math.atan2(O+this.ty,B+this.tx)-T-this.rotateOffset*D;this.rotateOffset+=(L-Math.ceil(L*he.invPI2-.5)*he.PI2)*x,L=this.rotateOffset*D+T,R=Math.cos(L),E=Math.sin(L),o&&(L=h*c.getWorldScaleX(),L>0&&(this.scaleOffset+=(B*R+O*E)*x/L))}else{R=Math.cos(T),E=Math.sin(T);const L=h*c.getWorldScaleX();L>0&&(this.scaleOffset+=(B*R+O*E)*x/L)}if(p=this.remaining,p>=v){A==-1&&(A=Math.pow(this.damping,60*v));const L=this.massInverse*v,z=this.strength,H=this.wind,X=tc.yDown?-this.gravity:this.gravity,j=h/_;for(;;)if(p-=v,o&&(this.scaleVelocity+=(H*R-X*E-this.scaleOffset*z)*L,this.scaleOffset+=this.scaleVelocity*v,this.scaleVelocity*=A),a){if(this.rotateVelocity-=((H*E+X*R)*j+this.rotateOffset*z)*L,this.rotateOffset+=this.rotateVelocity*v,this.rotateVelocity*=A,p<v)break;const W=this.rotateOffset*D+T;R=Math.cos(W),E=Math.sin(W)}else if(p<v)break}}this.remaining=p}this.cx=c.worldX,this.cy=c.worldY;break;case Yi.pose:s&&(c.worldX+=this.xOffset*t*this.data.x),i&&(c.worldY+=this.yOffset*t*this.data.y)}if(a){let u=this.rotateOffset*t,d=0,m=0,y=0;if(this.data.shearX>0){let p=0;this.data.rotate>0&&(p=u*this.data.rotate,d=Math.sin(p),m=Math.cos(p),y=c.b,c.b=m*y-d*c.d,c.d=d*y+m*c.d),p+=u*this.data.shearX,d=Math.sin(p),m=Math.cos(p),y=c.a,c.a=m*y-d*c.c,c.c=d*y+m*c.c}else u*=this.data.rotate,d=Math.sin(u),m=Math.cos(u),y=c.a,c.a=m*y-d*c.c,c.c=d*y+m*c.c,y=c.b,c.b=m*y-d*c.d,c.d=d*y+m*c.d}if(o){const u=1+this.scaleOffset*t*this.data.scaleX;c.a*=u,c.c*=u}e!=Yi.pose&&(this.tx=h*c.a,this.ty=h*c.c),c.updateAppliedTransform()}translate(e,t){this.ux-=e,this.uy-=t,this.cx-=e,this.cy-=t}rotate(e,t,s){const i=s*he.degRad,a=Math.cos(i),o=Math.sin(i),c=this.cx-e,h=this.cy-t;this.translate(c*a-h*o-c,c*o+h*a-h)}}class D3{constructor(e,t){M(this,"data");M(this,"bone");M(this,"color");M(this,"darkColor",null);M(this,"attachment",null);M(this,"attachmentState",0);M(this,"sequenceIndex",-1);M(this,"deform",new Array);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new Ce,this.darkColor=e.darkColor?new Ce:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&((!(e instanceof Ai)||!(this.attachment instanceof Ai)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class P3{constructor(e,t){M(this,"data");M(this,"bones");M(this,"target");M(this,"mixRotate",0);M(this,"mixX",0);M(this,"mixY",0);M(this,"mixScaleX",0);M(this,"mixScaleY",0);M(this,"mixShearY",0);M(this,"temp",new uh);M(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let a=t.findBone(e.bones[i].name);if(!a)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(a)}let s=t.findBone(e.target.name);if(!s)throw new Error(`Couldn't find target bone ${e.target.name}.`);this.target=s,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY}isActive(){return this.active}setToSetupPose(){const e=this.data;this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY}update(e){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleY==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let e=this.mixRotate,t=this.mixX,s=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,c=t!=0||s!=0,h=this.target,u=h.a,d=h.b,m=h.c,y=h.d,p=u*y-d*m>0?he.degRad:-.01745329277777778,x=this.data.offsetRotation*p,v=this.data.offsetShearY*p,_=this.bones;for(let A=0,S=_.length;A<S;A++){let w=_[A];if(e!=0){let T=w.a,R=w.b,E=w.c,D=w.d,B=Math.atan2(m,u)-Math.atan2(E,T)+x;B>he.PI?B-=he.PI2:B<-3.1415927&&(B+=he.PI2),B*=e;let O=Math.cos(B),L=Math.sin(B);w.a=O*T-L*E,w.b=O*R-L*D,w.c=L*T+O*E,w.d=L*R+O*D}if(c){let T=this.temp;h.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),w.worldX+=(T.x-w.worldX)*t,w.worldY+=(T.y-w.worldY)*s}if(i!=0){let T=Math.sqrt(w.a*w.a+w.c*w.c);T!=0&&(T=(T+(Math.sqrt(u*u+m*m)-T+this.data.offsetScaleX)*i)/T),w.a*=T,w.c*=T}if(a!=0){let T=Math.sqrt(w.b*w.b+w.d*w.d);T!=0&&(T=(T+(Math.sqrt(d*d+y*y)-T+this.data.offsetScaleY)*a)/T),w.b*=T,w.d*=T}if(o>0){let T=w.b,R=w.d,E=Math.atan2(R,T),D=Math.atan2(y,d)-Math.atan2(m,u)-(E-Math.atan2(w.c,w.a));D>he.PI?D-=he.PI2:D<-3.1415927&&(D+=he.PI2),D=E+(D+v)*o;let B=Math.sqrt(T*T+R*R);w.b=Math.cos(D)*B,w.d=Math.sin(D)*B}w.updateAppliedTransform()}}applyRelativeWorld(){let e=this.mixRotate,t=this.mixX,s=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,c=t!=0||s!=0,h=this.target,u=h.a,d=h.b,m=h.c,y=h.d,p=u*y-d*m>0?he.degRad:-.01745329277777778,x=this.data.offsetRotation*p,v=this.data.offsetShearY*p,_=this.bones;for(let A=0,S=_.length;A<S;A++){let w=_[A];if(e!=0){let T=w.a,R=w.b,E=w.c,D=w.d,B=Math.atan2(m,u)+x;B>he.PI?B-=he.PI2:B<-3.1415927&&(B+=he.PI2),B*=e;let O=Math.cos(B),L=Math.sin(B);w.a=O*T-L*E,w.b=O*R-L*D,w.c=L*T+O*E,w.d=L*R+O*D}if(c){let T=this.temp;h.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),w.worldX+=T.x*t,w.worldY+=T.y*s}if(i!=0){let T=(Math.sqrt(u*u+m*m)-1+this.data.offsetScaleX)*i+1;w.a*=T,w.c*=T}if(a!=0){let T=(Math.sqrt(d*d+y*y)-1+this.data.offsetScaleY)*a+1;w.b*=T,w.d*=T}if(o>0){let T=Math.atan2(y,d)-Math.atan2(m,u);T>he.PI?T-=he.PI2:T<-3.1415927&&(T+=he.PI2);let R=w.b,E=w.d;T=Math.atan2(E,R)+(T-he.PI/2+v)*o;let D=Math.sqrt(R*R+E*E);w.b=Math.cos(T)*D,w.d=Math.sin(T)*D}w.updateAppliedTransform()}}applyAbsoluteLocal(){let e=this.mixRotate,t=this.mixX,s=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,c=this.target,h=this.bones;for(let u=0,d=h.length;u<d;u++){let m=h[u],y=m.arotation;e!=0&&(y+=(c.arotation-y+this.data.offsetRotation)*e);let p=m.ax,x=m.ay;p+=(c.ax-p+this.data.offsetX)*t,x+=(c.ay-x+this.data.offsetY)*s;let v=m.ascaleX,_=m.ascaleY;i!=0&&v!=0&&(v=(v+(c.ascaleX-v+this.data.offsetScaleX)*i)/v),a!=0&&_!=0&&(_=(_+(c.ascaleY-_+this.data.offsetScaleY)*a)/_);let A=m.ashearY;o!=0&&(A+=(c.ashearY-A+this.data.offsetShearY)*o),m.updateWorldTransformWith(p,x,y,v,_,m.ashearX,A)}}applyRelativeLocal(){let e=this.mixRotate,t=this.mixX,s=this.mixY,i=this.mixScaleX,a=this.mixScaleY,o=this.mixShearY,c=this.target,h=this.bones;for(let u=0,d=h.length;u<d;u++){let m=h[u],y=m.arotation+(c.arotation+this.data.offsetRotation)*e,p=m.ax+(c.ax+this.data.offsetX)*t,x=m.ay+(c.ay+this.data.offsetY)*s,v=m.ascaleX*((c.ascaleX-1+this.data.offsetScaleX)*i+1),_=m.ascaleY*((c.ascaleY-1+this.data.offsetScaleY)*a+1),A=m.ashearY+(c.ashearY+this.data.offsetShearY)*o;m.updateWorldTransformWith(p,x,y,v,_,m.ashearX,A)}}}const to=class to{constructor(e){M(this,"data");M(this,"bones");M(this,"slots");M(this,"drawOrder");M(this,"ikConstraints");M(this,"transformConstraints");M(this,"pathConstraints");M(this,"physicsConstraints");M(this,"_updateCache",new Array);M(this,"skin",null);M(this,"color");M(this,"scaleX",1);M(this,"_scaleY",1);M(this,"x",0);M(this,"y",0);M(this,"time",0);if(!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(let t=0;t<e.bones.length;t++){let s=e.bones[t],i;if(!s.parent)i=new xv(s,this,null);else{let a=this.bones[s.parent.index];i=new xv(s,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let t=0;t<e.slots.length;t++){let s=e.slots[t],i=this.bones[s.boneData.index],a=new D3(s,i);this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(let t=0;t<e.ikConstraints.length;t++){let s=e.ikConstraints[t];this.ikConstraints.push(new E3(s,this))}this.transformConstraints=new Array;for(let t=0;t<e.transformConstraints.length;t++){let s=e.transformConstraints[t];this.transformConstraints.push(new P3(s,this))}this.pathConstraints=new Array;for(let t=0;t<e.pathConstraints.length;t++){let s=e.pathConstraints[t];this.pathConstraints.push(new Eg(s,this))}this.physicsConstraints=new Array;for(let t=0;t<e.physicsConstraints.length;t++){let s=e.physicsConstraints[t];this.physicsConstraints.push(new R3(s,this))}this.color=new Ce(1,1,1,1),this.updateCache()}get scaleY(){return to.yDown?-this._scaleY:this._scaleY}set scaleY(e){this._scaleY=e}updateCache(){let e=this._updateCache;e.length=0;let t=this.bones;for(let y=0,p=t.length;y<p;y++){let x=t[y];x.sorted=x.data.skinRequired,x.active=!x.sorted}if(this.skin){let y=this.skin.bones;for(let p=0,x=this.skin.bones.length;p<x;p++){let v=this.bones[y[p].index];do v.sorted=!1,v.active=!0,v=v.parent;while(v)}}let s=this.ikConstraints,i=this.transformConstraints,a=this.pathConstraints,o=this.physicsConstraints,c=s.length,h=i.length,u=a.length,d=this.physicsConstraints.length,m=c+h+u+d;e:for(let y=0;y<m;y++){for(let p=0;p<c;p++){let x=s[p];if(x.data.order==y){this.sortIkConstraint(x);continue e}}for(let p=0;p<h;p++){let x=i[p];if(x.data.order==y){this.sortTransformConstraint(x);continue e}}for(let p=0;p<u;p++){let x=a[p];if(x.data.order==y){this.sortPathConstraint(x);continue e}}for(let p=0;p<d;p++){const x=o[p];if(x.data.order==y){this.sortPhysicsConstraint(x);continue e}}}for(let y=0,p=t.length;y<p;y++)this.sortBone(t[y])}sortIkConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&de.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target;this.sortBone(t);let s=e.bones,i=s[0];if(this.sortBone(i),s.length==1)this._updateCache.push(e),this.sortReset(i.children);else{let a=s[s.length-1];this.sortBone(a),this._updateCache.push(e),this.sortReset(i.children),a.sorted=!0}}sortPathConstraint(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&de.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target,s=t.data.index,i=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,s,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,s,i);for(let h=0,u=this.data.skins.length;h<u;h++)this.sortPathConstraintAttachment(this.data.skins[h],s,i);let a=t.getAttachment();a instanceof uo&&this.sortPathConstraintAttachmentWith(a,i);let o=e.bones,c=o.length;for(let h=0;h<c;h++)this.sortBone(o[h]);this._updateCache.push(e);for(let h=0;h<c;h++)this.sortReset(o[h].children);for(let h=0;h<c;h++)o[h].sorted=!0}sortTransformConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&de.contains(this.skin.constraints,e.data,!0)),!e.active)return;this.sortBone(e.target);let t=e.bones,s=t.length;if(e.data.local)for(let i=0;i<s;i++){let a=t[i];this.sortBone(a.parent),this.sortBone(a)}else for(let i=0;i<s;i++)this.sortBone(t[i]);this._updateCache.push(e);for(let i=0;i<s;i++)this.sortReset(t[i].children);for(let i=0;i<s;i++)t[i].sorted=!0}sortPathConstraintAttachment(e,t,s){let i=e.attachments[t];if(i)for(let a in i)this.sortPathConstraintAttachmentWith(i[a],s)}sortPathConstraintAttachmentWith(e,t){if(!(e instanceof uo))return;let s=e.bones;if(!s)this.sortBone(t);else{let i=this.bones;for(let a=0,o=s.length;a<o;){let c=s[a++];for(c+=a;a<c;)this.sortBone(i[s[a++]])}}}sortPhysicsConstraint(e){const t=e.bone;e.active=t.active&&(!e.data.skinRequired||this.skin!=null&&de.contains(this.skin.constraints,e.data,!0)),e.active&&(this.sortBone(t),this._updateCache.push(e),this.sortReset(t.children),t.sorted=!0)}sortBone(e){if(!e||e.sorted)return;let t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}sortReset(e){for(let t=0,s=e.length;t<s;t++){let i=e[t];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(e){if(e==null)throw new Error("physics is undefined");let t=this.bones;for(let i=0,a=t.length;i<a;i++){let o=t[i];o.ax=o.x,o.ay=o.y,o.arotation=o.rotation,o.ascaleX=o.scaleX,o.ascaleY=o.scaleY,o.ashearX=o.shearX,o.ashearY=o.shearY}let s=this._updateCache;for(let i=0,a=s.length;i<a;i++)s[i].update(e)}updateWorldTransformWith(e,t){if(!t)throw new Error("parent cannot be null.");let s=this.bones;for(let _=1,A=s.length;_<A;_++){let S=s[_];S.ax=S.x,S.ay=S.y,S.arotation=S.rotation,S.ascaleX=S.scaleX,S.ascaleY=S.scaleY,S.ashearX=S.shearX,S.ashearY=S.shearY}let i=this.getRootBone();if(!i)throw new Error("Root bone must not be null.");let a=t.a,o=t.b,c=t.c,h=t.d;i.worldX=a*this.x+o*this.y+t.worldX,i.worldY=c*this.x+h*this.y+t.worldY;const u=(i.rotation+i.shearX)*he.degRad,d=(i.rotation+90+i.shearY)*he.degRad,m=Math.cos(u)*i.scaleX,y=Math.cos(d)*i.scaleY,p=Math.sin(u)*i.scaleX,x=Math.sin(d)*i.scaleY;i.a=(a*m+o*p)*this.scaleX,i.b=(a*y+o*x)*this.scaleX,i.c=(c*m+h*p)*this.scaleY,i.d=(c*y+h*x)*this.scaleY;let v=this._updateCache;for(let _=0,A=v.length;_<A;_++){let S=v[_];S!=i&&S.update(e)}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){for(const e of this.bones)e.setToSetupPose();for(const e of this.ikConstraints)e.setToSetupPose();for(const e of this.transformConstraints)e.setToSetupPose();for(const e of this.pathConstraints)e.setToSetupPose();for(const e of this.physicsConstraints)e.setToSetupPose()}setSlotsToSetupPose(){let e=this.slots;de.arrayCopy(e,0,this.drawOrder,0,e.length);for(let t=0,s=e.length;t<s;t++)e[t].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.data.name==e)return a}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.data.name==e)return a}return null}setSkinByName(e){let t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}setSkin(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else{let t=this.slots;for(let s=0,i=t.length;s<i;s++){let a=t[s],o=a.data.attachmentName;if(o){let c=e.getAttachment(s,o);c&&a.setAttachment(c)}}}this.skin=e,this.updateCache()}}getAttachmentByName(e,t){let s=this.data.findSlot(e);if(!s)throw new Error(`Can't find slot with name ${e}`);return this.getAttachment(s.index,t)}getAttachment(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){let s=this.skin.getAttachment(e,t);if(s)return s}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}setAttachment(e,t){if(!e)throw new Error("slotName cannot be null.");let s=this.slots;for(let i=0,a=s.length;i<a;i++){let o=s[i];if(o.data.name==e){let c=null;if(t&&(c=this.getAttachment(i,t),!c))throw new Error("Attachment not found: "+t+", for slot: "+e);o.setAttachment(c);return}}throw new Error("Slot not found: "+e)}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.ikConstraints.find(t=>t.data.name==e)??null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.transformConstraints.find(t=>t.data.name==e)??null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");return this.pathConstraints.find(t=>t.data.name==e)??null}findPhysicsConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");return this.physicsConstraints.find(t=>t.data.name==e)??null}getBoundsRect(e){let t=new uh,s=new uh;return this.getBounds(t,s,void 0,e),{x:t.x,y:t.y,width:s.x,height:s.y}}getBounds(e,t,s=new Array(2),i=null){if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");let a=this.drawOrder,o=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let d=0,m=a.length;d<m;d++){let y=a[d];if(!y.bone.active)continue;let p=0,x=null,v=null,_=y.getAttachment();if(_ instanceof wi)p=8,x=de.setArraySize(s,p,0),_.computeWorldVertices(y,x,0,2),v=to.quadTriangles;else if(_ instanceof Wt){let A=_;p=A.worldVerticesLength,x=de.setArraySize(s,p,0),A.computeWorldVertices(y,0,p,x,0,2),v=A.triangles}else if(_ instanceof Xi&&i!=null){i.clipStart(y,_);continue}if(x&&v){i!=null&&i.isClipping()&&(i.clipTriangles(x,v,v.length),x=i.clippedVertices,p=i.clippedVertices.length);for(let A=0,S=x.length;A<S;A+=2){let w=x[A],T=x[A+1];o=Math.min(o,w),c=Math.min(c,T),h=Math.max(h,w),u=Math.max(u,T)}}i!=null&&i.clipEndWithSlot(y)}i!=null&&i.clipEnd(),e.set(o,c),t.set(h-o,u-c)}update(e){this.time+=e}physicsTranslate(e,t){const s=this.physicsConstraints;for(let i=0,a=s.length;i<a;i++)s[i].translate(e,t)}physicsRotate(e,t,s){const i=this.physicsConstraints;for(let a=0,o=i.length;a<o;a++)i[a].rotate(e,t,s)}};M(to,"quadTriangles",[0,1,2,2,3,0]),M(to,"yDown",!1);let tc=to;var Yi;(function(n){n[n.none=0]="none",n[n.reset=1]="reset",n[n.update=2]="update",n[n.pose=3]="pose"})(Yi||(Yi={}));class wS extends jh{constructor(t){super(t,0,!1);M(this,"_bone",null);M(this,"x",0);M(this,"y",0);M(this,"rotate",0);M(this,"scaleX",0);M(this,"shearX",0);M(this,"limit",0);M(this,"step",0);M(this,"inertia",0);M(this,"strength",0);M(this,"damping",0);M(this,"massInverse",0);M(this,"wind",0);M(this,"gravity",0);M(this,"mix",0);M(this,"inertiaGlobal",!1);M(this,"strengthGlobal",!1);M(this,"dampingGlobal",!1);M(this,"massGlobal",!1);M(this,"windGlobal",!1);M(this,"gravityGlobal",!1);M(this,"mixGlobal",!1)}set bone(t){this._bone=t}get bone(){if(this._bone)return this._bone;throw new Error("BoneData not set.")}}class gh{constructor(){M(this,"name",null);M(this,"bones",new Array);M(this,"slots",new Array);M(this,"skins",new Array);M(this,"defaultSkin",null);M(this,"events",new Array);M(this,"animations",new Array);M(this,"ikConstraints",new Array);M(this,"transformConstraints",new Array);M(this,"pathConstraints",new Array);M(this,"physicsConstraints",new Array);M(this,"x",0);M(this,"y",0);M(this,"width",0);M(this,"height",0);M(this,"referenceScale",100);M(this,"version",null);M(this,"hash",null);M(this,"fps",0);M(this,"imagesPath",null);M(this,"audioPath",null)}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.name==e)return a}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.name==e)return a}return null}findSkin(e){if(!e)throw new Error("skinName cannot be null.");let t=this.skins;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.name==e)return a}return null}findEvent(e){if(!e)throw new Error("eventDataName cannot be null.");let t=this.events;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.name==e)return a}return null}findAnimation(e){if(!e)throw new Error("animationName cannot be null.");let t=this.animations;for(let s=0,i=t.length;s<i;s++){let a=t[s];if(a.name==e)return a}return null}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.ikConstraints;for(let s=0,i=t.length;s<i;s++){const a=t[s];if(a.name==e)return a}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.transformConstraints;for(let s=0,i=t.length;s<i;s++){const a=t[s];if(a.name==e)return a}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.pathConstraints;for(let s=0,i=t.length;s<i;s++){const a=t[s];if(a.name==e)return a}return null}findPhysicsConstraint(e){if(!e)throw new Error("constraintName cannot be null.");const t=this.physicsConstraints;for(let s=0,i=t.length;s<i;s++){const a=t[s];if(a.name==e)return a}return null}}class bv{constructor(e=0,t,s){M(this,"slotIndex");M(this,"name");M(this,"attachment");this.slotIndex=e,this.name=t,this.attachment=s}}class Rg{constructor(e){M(this,"name");M(this,"attachments",new Array);M(this,"bones",Array());M(this,"constraints",new Array);M(this,"color",new Ce(.99607843,.61960787,.30980393,1));if(!e)throw new Error("name cannot be null.");this.name=e}setAttachment(e,t,s){if(!s)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=s}addSkin(e){for(let i=0;i<e.bones.length;i++){let a=e.bones[i],o=!1;for(let c=0;c<this.bones.length;c++)if(this.bones[c]==a){o=!0;break}o||this.bones.push(a)}for(let i=0;i<e.constraints.length;i++){let a=e.constraints[i],o=!1;for(let c=0;c<this.constraints.length;c++)if(this.constraints[c]==a){o=!0;break}o||this.constraints.push(a)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var s=t[i];this.setAttachment(s.slotIndex,s.name,s.attachment)}}copySkin(e){for(let i=0;i<e.bones.length;i++){let a=e.bones[i],o=!1;for(let c=0;c<this.bones.length;c++)if(this.bones[c]==a){o=!0;break}o||this.bones.push(a)}for(let i=0;i<e.constraints.length;i++){let a=e.constraints[i],o=!1;for(let c=0;c<this.constraints.length;c++)if(this.constraints[c]==a){o=!0;break}o||this.constraints.push(a)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var s=t[i];s.attachment&&(s.attachment instanceof Wt?(s.attachment=s.attachment.newLinkedMesh(),this.setAttachment(s.slotIndex,s.name,s.attachment)):(s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment)))}}getAttachment(e,t){let s=this.attachments[e];return s?s[t]:null}removeAttachment(e,t){let s=this.attachments[e];s&&delete s[t]}getAttachments(){let e=new Array;for(var t=0;t<this.attachments.length;t++){let s=this.attachments[t];if(s)for(let i in s){let a=s[i];a&&e.push(new bv(t,i,a))}}return e}getAttachmentsForSlot(e,t){let s=this.attachments[e];if(s)for(let i in s){let a=s[i];a&&t.push(new bv(e,i,a))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,t){let s=0;for(let i=0;i<e.slots.length;i++){let a=e.slots[i],o=a.getAttachment();if(o&&s<t.attachments.length){let c=t.attachments[s];for(let h in c){let u=c[h];if(o==u){let d=this.getAttachment(s,h);d&&a.setAttachment(d);break}}}s++}}}class SS{constructor(e,t,s){M(this,"index",0);M(this,"name");M(this,"boneData");M(this,"color",new Ce(1,1,1,1));M(this,"darkColor",null);M(this,"attachmentName",null);M(this,"blendMode",hs.Normal);M(this,"visible",!0);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");if(!s)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=s}}var hs;(function(n){n[n.Normal=0]="Normal",n[n.Additive=1]="Additive",n[n.Multiply=2]="Multiply",n[n.Screen=3]="Screen"})(hs||(hs={}));class CS extends jh{constructor(t){super(t,0,!1);M(this,"bones",new Array);M(this,"_target",null);M(this,"mixRotate",0);M(this,"mixX",0);M(this,"mixY",0);M(this,"mixScaleX",0);M(this,"mixScaleY",0);M(this,"mixShearY",0);M(this,"offsetRotation",0);M(this,"offsetX",0);M(this,"offsetY",0);M(this,"offsetScaleX",0);M(this,"offsetScaleY",0);M(this,"offsetShearY",0);M(this,"relative",!1);M(this,"local",!1)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class AS{constructor(e){M(this,"scale",1);M(this,"attachmentLoader");M(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,s=new gh;s.name="";let i=new B3(e),a=i.readInt32(),o=i.readInt32();s.hash=o==0&&a==0?null:o.toString(16)+a.toString(16),s.version=i.readString(),s.x=i.readFloat(),s.y=i.readFloat(),s.width=i.readFloat(),s.height=i.readFloat(),s.referenceScale=i.readFloat()*t;let c=i.readBoolean();c&&(s.fps=i.readFloat(),s.imagesPath=i.readString(),s.audioPath=i.readString());let h=0;h=i.readInt(!0);for(let d=0;d<h;d++){let m=i.readString();if(!m)throw new Error("String in string table must not be null.");i.strings.push(m)}h=i.readInt(!0);for(let d=0;d<h;d++){let m=i.readString();if(!m)throw new Error("Bone name must not be null.");let y=d==0?null:s.bones[i.readInt(!0)],p=new yS(d,m,y);p.rotation=i.readFloat(),p.x=i.readFloat()*t,p.y=i.readFloat()*t,p.scaleX=i.readFloat(),p.scaleY=i.readFloat(),p.shearX=i.readFloat(),p.shearY=i.readFloat(),p.length=i.readFloat()*t,p.inherit=i.readByte(),p.skinRequired=i.readBoolean(),c&&(Ce.rgba8888ToColor(p.color,i.readInt32()),p.icon=i.readString()??void 0,p.visible=i.readBoolean()),s.bones.push(p)}h=i.readInt(!0);for(let d=0;d<h;d++){let m=i.readString();if(!m)throw new Error("Slot name must not be null.");let y=s.bones[i.readInt(!0)],p=new SS(d,m,y);Ce.rgba8888ToColor(p.color,i.readInt32());let x=i.readInt32();x!=-1&&Ce.rgb888ToColor(p.darkColor=new Ce,x),p.attachmentName=i.readStringRef(),p.blendMode=i.readInt(!0),c&&(p.visible=i.readBoolean()),s.slots.push(p)}h=i.readInt(!0);for(let d=0,m;d<h;d++){let y=i.readString();if(!y)throw new Error("IK constraint data name must not be null.");let p=new vS(y);p.order=i.readInt(!0),m=i.readInt(!0);for(let v=0;v<m;v++)p.bones.push(s.bones[i.readInt(!0)]);p.target=s.bones[i.readInt(!0)];let x=i.readByte();p.skinRequired=(x&1)!=0,p.bendDirection=(x&2)!=0?1:-1,p.compress=(x&4)!=0,p.stretch=(x&8)!=0,p.uniform=(x&16)!=0,(x&32)!=0&&(p.mix=(x&64)!=0?i.readFloat():1),(x&128)!=0&&(p.softness=i.readFloat()*t),s.ikConstraints.push(p)}h=i.readInt(!0);for(let d=0,m;d<h;d++){let y=i.readString();if(!y)throw new Error("Transform constraint data name must not be null.");let p=new CS(y);p.order=i.readInt(!0),m=i.readInt(!0);for(let v=0;v<m;v++)p.bones.push(s.bones[i.readInt(!0)]);p.target=s.bones[i.readInt(!0)];let x=i.readByte();p.skinRequired=(x&1)!=0,p.local=(x&2)!=0,p.relative=(x&4)!=0,(x&8)!=0&&(p.offsetRotation=i.readFloat()),(x&16)!=0&&(p.offsetX=i.readFloat()*t),(x&32)!=0&&(p.offsetY=i.readFloat()*t),(x&64)!=0&&(p.offsetScaleX=i.readFloat()),(x&128)!=0&&(p.offsetScaleY=i.readFloat()),x=i.readByte(),(x&1)!=0&&(p.offsetShearY=i.readFloat()),(x&2)!=0&&(p.mixRotate=i.readFloat()),(x&4)!=0&&(p.mixX=i.readFloat()),(x&8)!=0&&(p.mixY=i.readFloat()),(x&16)!=0&&(p.mixScaleX=i.readFloat()),(x&32)!=0&&(p.mixScaleY=i.readFloat()),(x&64)!=0&&(p.mixShearY=i.readFloat()),s.transformConstraints.push(p)}h=i.readInt(!0);for(let d=0,m;d<h;d++){let y=i.readString();if(!y)throw new Error("Path constraint data name must not be null.");let p=new _S(y);p.order=i.readInt(!0),p.skinRequired=i.readBoolean(),m=i.readInt(!0);for(let v=0;v<m;v++)p.bones.push(s.bones[i.readInt(!0)]);p.target=s.slots[i.readInt(!0)];const x=i.readByte();p.positionMode=x&1,p.spacingMode=x>>1&3,p.rotateMode=x>>3&3,(x&128)!=0&&(p.offsetRotation=i.readFloat()),p.position=i.readFloat(),p.positionMode==Gi.Fixed&&(p.position*=t),p.spacing=i.readFloat(),(p.spacingMode==jt.Length||p.spacingMode==jt.Fixed)&&(p.spacing*=t),p.mixRotate=i.readFloat(),p.mixX=i.readFloat(),p.mixY=i.readFloat(),s.pathConstraints.push(p)}h=i.readInt(!0);for(let d=0,m;d<h;d++){const y=i.readString();if(!y)throw new Error("Physics constraint data name must not be null.");const p=new wS(y);p.order=i.readInt(!0),p.bone=s.bones[i.readInt(!0)];let x=i.readByte();p.skinRequired=(x&1)!=0,(x&2)!=0&&(p.x=i.readFloat()),(x&4)!=0&&(p.y=i.readFloat()),(x&8)!=0&&(p.rotate=i.readFloat()),(x&16)!=0&&(p.scaleX=i.readFloat()),(x&32)!=0&&(p.shearX=i.readFloat()),p.limit=((x&64)!=0?i.readFloat():5e3)*t,p.step=1/i.readUnsignedByte(),p.inertia=i.readFloat(),p.strength=i.readFloat(),p.damping=i.readFloat(),p.massInverse=(x&128)!=0?i.readFloat():1,p.wind=i.readFloat(),p.gravity=i.readFloat(),x=i.readByte(),(x&1)!=0&&(p.inertiaGlobal=!0),(x&2)!=0&&(p.strengthGlobal=!0),(x&4)!=0&&(p.dampingGlobal=!0),(x&8)!=0&&(p.massGlobal=!0),(x&16)!=0&&(p.windGlobal=!0),(x&32)!=0&&(p.gravityGlobal=!0),(x&64)!=0&&(p.mixGlobal=!0),p.mix=(x&128)!=0?i.readFloat():1,s.physicsConstraints.push(p)}let u=this.readSkin(i,s,!0,c);u&&(s.defaultSkin=u,s.skins.push(u));{let d=s.skins.length;for(de.setArraySize(s.skins,h=d+i.readInt(!0));d<h;d++){let m=this.readSkin(i,s,!1,c);if(!m)throw new Error("readSkin() should not have returned null.");s.skins[d]=m}}h=this.linkedMeshes.length;for(let d=0;d<h;d++){let m=this.linkedMeshes[d];const y=s.skins[m.skinIndex];if(!m.parent)throw new Error("Linked mesh parent must not be null");let p=y.getAttachment(m.slotIndex,m.parent);if(!p)throw new Error(`Parent mesh not found: ${m.parent}`);m.mesh.timelineAttachment=m.inheritTimeline?p:m.mesh,m.mesh.setParentMesh(p),m.mesh.region!=null&&m.mesh.updateRegion()}this.linkedMeshes.length=0,h=i.readInt(!0);for(let d=0;d<h;d++){let m=i.readString();if(!m)throw new Error("Event data name must not be null");let y=new bS(m);y.intValue=i.readInt(!1),y.floatValue=i.readFloat(),y.stringValue=i.readString(),y.audioPath=i.readString(),y.audioPath&&(y.volume=i.readFloat(),y.balance=i.readFloat()),s.events.push(y)}h=i.readInt(!0);for(let d=0;d<h;d++){let m=i.readString();if(!m)throw new Error("Animatio name must not be null.");s.animations.push(this.readAnimation(i,m,s))}return s}readSkin(e,t,s,i){let a=null,o=0;if(s){if(o=e.readInt(!0),o==0)return null;a=new Rg("default")}else{let c=e.readString();if(!c)throw new Error("Skin name must not be null.");a=new Rg(c),i&&Ce.rgba8888ToColor(a.color,e.readInt32()),a.bones.length=e.readInt(!0);for(let h=0,u=a.bones.length;h<u;h++)a.bones[h]=t.bones[e.readInt(!0)];for(let h=0,u=e.readInt(!0);h<u;h++)a.constraints.push(t.ikConstraints[e.readInt(!0)]);for(let h=0,u=e.readInt(!0);h<u;h++)a.constraints.push(t.transformConstraints[e.readInt(!0)]);for(let h=0,u=e.readInt(!0);h<u;h++)a.constraints.push(t.pathConstraints[e.readInt(!0)]);for(let h=0,u=e.readInt(!0);h<u;h++)a.constraints.push(t.physicsConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(let c=0;c<o;c++){let h=e.readInt(!0);for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readStringRef();if(!m)throw new Error("Attachment name must not be null");let y=this.readAttachment(e,t,a,h,m,i);y&&a.setAttachment(h,m,y)}}return a}readAttachment(e,t,s,i,a,o){let c=this.scale,h=e.readByte();const u=(h&8)!=0?e.readStringRef():a;if(!u)throw new Error("Attachment name must not be null");switch(h&7){case mn.Region:{let d=(h&16)!=0?e.readStringRef():null;const m=(h&32)!=0?e.readInt32():4294967295,y=(h&64)!=0?this.readSequence(e):null;let p=(h&128)!=0?e.readFloat():0,x=e.readFloat(),v=e.readFloat(),_=e.readFloat(),A=e.readFloat(),S=e.readFloat(),w=e.readFloat();d||(d=u);let T=this.attachmentLoader.newRegionAttachment(s,u,d,y);return T?(T.path=d,T.x=x*c,T.y=v*c,T.scaleX=_,T.scaleY=A,T.rotation=p,T.width=S*c,T.height=w*c,Ce.rgba8888ToColor(T.color,m),T.sequence=y,y==null&&T.updateRegion(),T):null}case mn.BoundingBox:{let d=this.readVertices(e,(h&16)!=0),m=o?e.readInt32():0,y=this.attachmentLoader.newBoundingBoxAttachment(s,u);return y?(y.worldVerticesLength=d.length,y.vertices=d.vertices,y.bones=d.bones,o&&Ce.rgba8888ToColor(y.color,m),y):null}case mn.Mesh:{let d=(h&16)!=0?e.readStringRef():u;const m=(h&32)!=0?e.readInt32():4294967295,y=(h&64)!=0?this.readSequence(e):null,p=e.readInt(!0),x=this.readVertices(e,(h&128)!=0),v=this.readFloatArray(e,x.length,1),_=this.readShortArray(e,(x.length-p-2)*3);let A=[],S=0,w=0;o&&(A=this.readShortArray(e,e.readInt(!0)),S=e.readFloat(),w=e.readFloat()),d||(d=u);let T=this.attachmentLoader.newMeshAttachment(s,u,d,y);return T?(T.path=d,Ce.rgba8888ToColor(T.color,m),T.bones=x.bones,T.vertices=x.vertices,T.worldVerticesLength=x.length,T.triangles=_,T.regionUVs=v,y==null&&T.updateRegion(),T.hullLength=p<<1,T.sequence=y,o&&(T.edges=A,T.width=S*c,T.height=w*c),T):null}case mn.LinkedMesh:{const d=(h&16)!=0?e.readStringRef():u;if(d==null)throw new Error("Path of linked mesh must not be null");const m=(h&32)!=0?e.readInt32():4294967295,y=(h&64)!=0?this.readSequence(e):null,p=(h&128)!=0,x=e.readInt(!0),v=e.readStringRef();let _=0,A=0;o&&(_=e.readFloat(),A=e.readFloat());let S=this.attachmentLoader.newMeshAttachment(s,u,d,y);return S?(S.path=d,Ce.rgba8888ToColor(S.color,m),S.sequence=y,o&&(S.width=_*c,S.height=A*c),this.linkedMeshes.push(new O3(S,x,i,v,p)),S):null}case mn.Path:{const d=(h&16)!=0,m=(h&32)!=0,y=this.readVertices(e,(h&64)!=0),p=de.newArray(y.length/6,0);for(let _=0,A=p.length;_<A;_++)p[_]=e.readFloat()*c;const x=o?e.readInt32():0,v=this.attachmentLoader.newPathAttachment(s,u);return v?(v.closed=d,v.constantSpeed=m,v.worldVerticesLength=y.length,v.vertices=y.vertices,v.bones=y.bones,v.lengths=p,o&&Ce.rgba8888ToColor(v.color,x),v):null}case mn.Point:{const d=e.readFloat(),m=e.readFloat(),y=e.readFloat(),p=o?e.readInt32():0,x=this.attachmentLoader.newPointAttachment(s,u);return x?(x.x=m*c,x.y=y*c,x.rotation=d,o&&Ce.rgba8888ToColor(x.color,p),x):null}case mn.Clipping:{const d=e.readInt(!0),m=this.readVertices(e,(h&16)!=0);let y=o?e.readInt32():0,p=this.attachmentLoader.newClippingAttachment(s,u);return p?(p.endSlot=t.slots[d],p.worldVerticesLength=m.length,p.vertices=m.vertices,p.bones=m.bones,o&&Ce.rgba8888ToColor(p.color,y),p):null}}return null}readSequence(e){let t=new hh(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}readVertices(e,t){const s=this.scale,i=e.readInt(!0),a=new N3;if(a.length=i<<1,!t)return a.vertices=this.readFloatArray(e,a.length,s),a;let o=new Array,c=new Array;for(let h=0;h<i;h++){let u=e.readInt(!0);c.push(u);for(let d=0;d<u;d++)c.push(e.readInt(!0)),o.push(e.readFloat()*s),o.push(e.readFloat()*s),o.push(e.readFloat())}return a.vertices=de.toFloatArray(o),a.bones=c,a}readFloatArray(e,t,s){let i=new Array(t);if(s==1)for(let a=0;a<t;a++)i[a]=e.readFloat();else for(let a=0;a<t;a++)i[a]=e.readFloat()*s;return i}readShortArray(e,t){let s=new Array(t);for(let i=0;i<t;i++)s[i]=e.readInt(!0);return s}readAnimation(e,t,s){e.readInt(!0);let i=new Array,a=this.scale;for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readInt(!0);for(let y=0,p=e.readInt(!0);y<p;y++){let x=e.readByte(),v=e.readInt(!0),_=v-1;switch(x){case q3:{let A=new Kr(v,m);for(let S=0;S<v;S++)A.setFrame(S,e.readFloat(),e.readStringRef());i.push(A);break}case W3:{let A=e.readInt(!0),S=new nS(v,A,m),w=e.readFloat(),T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255;for(let B=0,O=0;S.setFrame(B,w,T,R,E,D),B!=_;B++){let L=e.readFloat(),z=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255;switch(e.readByte()){case zi:S.setStepped(B);break;case Fi:Oe(e,S,O++,B,0,w,L,T,z,1),Oe(e,S,O++,B,1,w,L,R,H,1),Oe(e,S,O++,B,2,w,L,E,X,1),Oe(e,S,O++,B,3,w,L,D,j,1)}w=L,T=z,R=H,E=X,D=j}i.push(S);break}case $3:{let A=e.readInt(!0),S=new aS(v,A,m),w=e.readFloat(),T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255;for(let D=0,B=0;S.setFrame(D,w,T,R,E),D!=_;D++){let O=e.readFloat(),L=e.readUnsignedByte()/255,z=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255;switch(e.readByte()){case zi:S.setStepped(D);break;case Fi:Oe(e,S,B++,D,0,w,O,T,L,1),Oe(e,S,B++,D,1,w,O,R,z,1),Oe(e,S,B++,D,2,w,O,E,H,1)}w=O,T=L,R=z,E=H}i.push(S);break}case K3:{let A=e.readInt(!0),S=new oS(v,A,m),w=e.readFloat(),T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255;for(let z=0,H=0;S.setFrame(z,w,T,R,E,D,B,O,L),z!=_;z++){let X=e.readFloat(),j=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,ne=e.readUnsignedByte()/255,se=e.readUnsignedByte()/255,F=e.readUnsignedByte()/255;switch(e.readByte()){case zi:S.setStepped(z);break;case Fi:Oe(e,S,H++,z,0,w,X,T,j,1),Oe(e,S,H++,z,1,w,X,R,W,1),Oe(e,S,H++,z,2,w,X,E,I,1),Oe(e,S,H++,z,3,w,X,D,U,1),Oe(e,S,H++,z,4,w,X,B,ne,1),Oe(e,S,H++,z,5,w,X,O,se,1),Oe(e,S,H++,z,6,w,X,L,F,1)}w=X,T=j,R=W,E=I,D=U,B=ne,O=se,L=F}i.push(S);break}case Q3:{let A=e.readInt(!0),S=new lS(v,A,m),w=e.readFloat(),T=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;for(let L=0,z=0;S.setFrame(L,w,T,R,E,D,B,O),L!=_;L++){let H=e.readFloat(),X=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,ne=e.readUnsignedByte()/255;switch(e.readByte()){case zi:S.setStepped(L);break;case Fi:Oe(e,S,z++,L,0,w,H,T,X,1),Oe(e,S,z++,L,1,w,H,R,j,1),Oe(e,S,z++,L,2,w,H,E,W,1),Oe(e,S,z++,L,3,w,H,D,I,1),Oe(e,S,z++,L,4,w,H,B,U,1),Oe(e,S,z++,L,5,w,H,O,ne,1)}w=H,T=X,R=j,E=W,D=I,B=U,O=ne}i.push(S);break}case Z3:{let A=new rS(v,e.readInt(!0),m),S=e.readFloat(),w=e.readUnsignedByte()/255;for(let T=0,R=0;A.setFrame(T,S,w),T!=_;T++){let E=e.readFloat(),D=e.readUnsignedByte()/255;switch(e.readByte()){case zi:A.setStepped(T);break;case Fi:Oe(e,A,R++,T,0,S,E,w,D,1)}S=E,w=D}i.push(A)}}}}for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readInt(!0);for(let y=0,p=e.readInt(!0);y<p;y++){let x=e.readByte(),v=e.readInt(!0);if(x==G3){let A=new iS(v,m);for(let S=0;S<v;S++)A.setFrame(S,e.readFloat(),e.readByte());i.push(A);continue}let _=e.readInt(!0);switch(x){case L3:i.push(rs(e,new dh(v,_,m),1));break;case I3:i.push(zm(e,new Ww(v,_,m),a));break;case z3:i.push(rs(e,new $w(v,_,m),a));break;case F3:i.push(rs(e,new Kw(v,_,m),a));break;case j3:i.push(zm(e,new Qw(v,_,m),1));break;case Y3:i.push(rs(e,new Zw(v,_,m),1));break;case U3:i.push(rs(e,new Jw(v,_,m),1));break;case V3:i.push(zm(e,new eS(v,_,m),1));break;case H3:i.push(rs(e,new tS(v,_,m),1));break;case X3:i.push(rs(e,new sS(v,_,m),1))}}}for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readInt(!0),y=e.readInt(!0),p=y-1,x=new fp(y,e.readInt(!0),m),v=e.readByte(),_=e.readFloat(),A=(v&1)!=0?(v&2)!=0?e.readFloat():1:0,S=(v&4)!=0?e.readFloat()*a:0;for(let w=0,T=0;x.setFrame(w,_,A,S,(v&8)!=0?1:-1,(v&16)!=0,(v&32)!=0),w!=p;w++){v=e.readByte();const R=e.readFloat(),E=(v&1)!=0?(v&2)!=0?e.readFloat():1:0,D=(v&4)!=0?e.readFloat()*a:0;(v&64)!=0?x.setStepped(w):(v&128)!=0&&(Oe(e,x,T++,w,0,_,R,A,E,1),Oe(e,x,T++,w,1,_,R,S,D,a)),_=R,A=E,S=D}i.push(x)}for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readInt(!0),y=e.readInt(!0),p=y-1,x=new mp(y,e.readInt(!0),m),v=e.readFloat(),_=e.readFloat(),A=e.readFloat(),S=e.readFloat(),w=e.readFloat(),T=e.readFloat(),R=e.readFloat();for(let E=0,D=0;x.setFrame(E,v,_,A,S,w,T,R),E!=p;E++){let B=e.readFloat(),O=e.readFloat(),L=e.readFloat(),z=e.readFloat(),H=e.readFloat(),X=e.readFloat(),j=e.readFloat();switch(e.readByte()){case zi:x.setStepped(E);break;case Fi:Oe(e,x,D++,E,0,v,B,_,O,1),Oe(e,x,D++,E,1,v,B,A,L,1),Oe(e,x,D++,E,2,v,B,S,z,1),Oe(e,x,D++,E,3,v,B,w,H,1),Oe(e,x,D++,E,4,v,B,T,X,1),Oe(e,x,D++,E,5,v,B,R,j,1)}v=B,_=O,A=L,S=z,w=H,T=X,R=j}i.push(x)}for(let u=0,d=e.readInt(!0);u<d;u++){let m=e.readInt(!0),y=s.pathConstraints[m];for(let p=0,x=e.readInt(!0);p<x;p++){const v=e.readByte(),_=e.readInt(!0),A=e.readInt(!0);switch(v){case tO:i.push(rs(e,new gp(_,A,m),y.positionMode==Gi.Fixed?a:1));break;case sO:i.push(rs(e,new pp(_,A,m),y.spacingMode==jt.Length||y.spacingMode==jt.Fixed?a:1));break;case iO:let S=new yp(_,A,m),w=e.readFloat(),T=e.readFloat(),R=e.readFloat(),E=e.readFloat();for(let D=0,B=0,O=S.getFrameCount()-1;S.setFrame(D,w,T,R,E),D!=O;D++){let L=e.readFloat(),z=e.readFloat(),H=e.readFloat(),X=e.readFloat();switch(e.readByte()){case zi:S.setStepped(D);break;case Fi:Oe(e,S,B++,D,0,w,L,T,z,1),Oe(e,S,B++,D,1,w,L,R,H,1),Oe(e,S,B++,D,2,w,L,E,X,1)}w=L,T=z,R=H,E=X}i.push(S)}}}for(let u=0,d=e.readInt(!0);u<d;u++){const m=e.readInt(!0)-1;for(let y=0,p=e.readInt(!0);y<p;y++){const x=e.readByte(),v=e.readInt(!0);if(x==hO){const A=new fh(v,m);for(let S=0;S<v;S++)A.setFrame(S,e.readFloat());i.push(A);continue}const _=e.readInt(!0);switch(x){case nO:i.push(rs(e,new cS(v,_,m),1));break;case aO:i.push(rs(e,new uS(v,_,m),1));break;case rO:i.push(rs(e,new hS(v,_,m),1));break;case oO:i.push(rs(e,new dS(v,_,m),1));break;case lO:i.push(rs(e,new fS(v,_,m),1));break;case cO:i.push(rs(e,new mS(v,_,m),1));break;case uO:i.push(rs(e,new gS(v,_,m),1))}}}for(let u=0,d=e.readInt(!0);u<d;u++){let m=s.skins[e.readInt(!0)];for(let y=0,p=e.readInt(!0);y<p;y++){let x=e.readInt(!0);for(let v=0,_=e.readInt(!0);v<_;v++){let A=e.readStringRef();if(!A)throw new Error("attachmentName must not be null.");let S=m.getAttachment(x,A),w=e.readByte(),T=e.readInt(!0),R=T-1;switch(w){case J3:{let E=S,D=E.bones,B=E.vertices,O=D?B.length/3*2:B.length,L=e.readInt(!0),z=new fc(T,L,x,E),H=e.readFloat();for(let X=0,j=0;;X++){let W,I=e.readInt(!0);if(I==0)W=D?de.newFloatArray(O):B;else{W=de.newFloatArray(O);let ne=e.readInt(!0);if(I+=ne,a==1)for(let se=ne;se<I;se++)W[se]=e.readFloat();else for(let se=ne;se<I;se++)W[se]=e.readFloat()*a;if(!D)for(let se=0,F=W.length;se<F;se++)W[se]+=B[se]}if(z.setFrame(X,H,W),X==R)break;let U=e.readFloat();switch(e.readByte()){case zi:z.setStepped(X);break;case Fi:Oe(e,z,j++,X,0,H,U,0,1,1)}H=U}i.push(z);break}case eO:{let E=new mh(T,x,S);for(let D=0;D<T;D++){let B=e.readFloat(),O=e.readInt32();E.setFrame(D,B,qw[O&15],O>>4,e.readFloat())}i.push(E);break}}}}}let o=e.readInt(!0);if(o>0){let u=new Fa(o),d=s.slots.length;for(let m=0;m<o;m++){let y=e.readFloat(),p=e.readInt(!0),x=de.newArray(d,0);for(let S=d-1;S>=0;S--)x[S]=-1;let v=de.newArray(d-p,0),_=0,A=0;for(let S=0;S<p;S++){let w=e.readInt(!0);for(;_!=w;)v[A++]=_++;x[_+e.readInt(!0)]=_++}for(;_<d;)v[A++]=_++;for(let S=d-1;S>=0;S--)x[S]==-1&&(x[S]=v[--A]);u.setFrame(m,y,x)}i.push(u)}let c=e.readInt(!0);if(c>0){let u=new ec(c);for(let d=0;d<c;d++){let m=e.readFloat(),y=s.events[e.readInt(!0)],p=new xS(m,y);p.intValue=e.readInt(!1),p.floatValue=e.readFloat(),p.stringValue=e.readString(),p.stringValue==null&&(p.stringValue=y.stringValue),p.data.audioPath&&(p.volume=e.readFloat(),p.balance=e.readFloat()),u.setFrame(d,p)}i.push(u)}let h=0;for(let u=0,d=i.length;u<d;u++)h=Math.max(h,i[u].getDuration());return new hp(t,i,h)}}class B3{constructor(e,t=new Array,s=0,i=new DataView(e instanceof ArrayBuffer?e:e.buffer)){M(this,"strings");M(this,"index");M(this,"buffer");this.strings=t,this.index=s,this.buffer=i}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){let e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let t=this.readByte(),s=t&127;return(t&128)!=0&&(t=this.readByte(),s|=(t&127)<<7,(t&128)!=0&&(t=this.readByte(),s|=(t&127)<<14,(t&128)!=0&&(t=this.readByte(),s|=(t&127)<<21,(t&128)!=0&&(t=this.readByte(),s|=(t&127)<<28)))),e?s:s>>>1^-(s&1)}readStringRef(){let e=this.readInt(!0);return e==0?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t="";for(let s=0;s<e;){let i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((i&31)<<6|this.readByte()&63),s+=2;break;case 14:t+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),s+=3;break;default:t+=String.fromCharCode(i),s++}}return t}readFloat(){let e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return this.readByte()!=0}}let O3=class{constructor(e,t,s,i,a){M(this,"parent");M(this,"skinIndex");M(this,"slotIndex");M(this,"mesh");M(this,"inheritTimeline");this.mesh=e,this.skinIndex=t,this.slotIndex=s,this.parent=i,this.inheritTimeline=a}};class N3{constructor(e=null,t=null,s=0){M(this,"bones");M(this,"vertices");M(this,"length");this.bones=e,this.vertices=t,this.length=s}}var mn;(function(n){n[n.Region=0]="Region",n[n.BoundingBox=1]="BoundingBox",n[n.Mesh=2]="Mesh",n[n.LinkedMesh=3]="LinkedMesh",n[n.Path=4]="Path",n[n.Point=5]="Point",n[n.Clipping=6]="Clipping"})(mn||(mn={}));function rs(n,e,t){let s=n.readFloat(),i=n.readFloat()*t;for(let a=0,o=0,c=e.getFrameCount()-1;e.setFrame(a,s,i),a!=c;a++){let h=n.readFloat(),u=n.readFloat()*t;switch(n.readByte()){case zi:e.setStepped(a);break;case Fi:Oe(n,e,o++,a,0,s,h,i,u,t)}s=h,i=u}return e}function zm(n,e,t){let s=n.readFloat(),i=n.readFloat()*t,a=n.readFloat()*t;for(let o=0,c=0,h=e.getFrameCount()-1;e.setFrame(o,s,i,a),o!=h;o++){let u=n.readFloat(),d=n.readFloat()*t,m=n.readFloat()*t;switch(n.readByte()){case zi:e.setStepped(o);break;case Fi:Oe(n,e,c++,o,0,s,u,i,d,t),Oe(n,e,c++,o,1,s,u,a,m,t)}s=u,i=d,a=m}return e}function Oe(n,e,t,s,i,a,o,c,h,u){e.setBezier(t,s,i,a,c,n.readFloat(),n.readFloat()*u,n.readFloat(),n.readFloat()*u,o,h)}const L3=0,I3=1,z3=2,F3=3,j3=4,Y3=5,U3=6,V3=7,H3=8,X3=9,G3=10,q3=0,W3=1,$3=2,K3=3,Q3=4,Z3=5,J3=0,eO=1,tO=0,sO=1,iO=2,nO=0,aO=1,rO=2,oO=4,lO=5,cO=6,uO=7,hO=8,zi=1,Fi=2;class dO{constructor(){M(this,"minX",0);M(this,"minY",0);M(this,"maxX",0);M(this,"maxY",0);M(this,"boundingBoxes",new Array);M(this,"polygons",new Array);M(this,"polygonPool",new Jl(()=>de.newFloatArray(16)))}update(e,t){if(!e)throw new Error("skeleton cannot be null.");let s=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,c=o.length;s.length=0,a.freeAll(i),i.length=0;for(let h=0;h<c;h++){let u=o[h];if(!u.bone.active)continue;let d=u.getAttachment();if(d instanceof Fh){let m=d;s.push(m);let y=a.obtain();y.length!=m.worldVerticesLength&&(y=de.newFloatArray(m.worldVerticesLength)),i.push(y),m.computeWorldVertices(u,0,m.worldVerticesLength,y,0,2)}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=this.polygons;for(let o=0,c=a.length;o<c;o++){let h=a[o],u=h;for(let d=0,m=h.length;d<m;d+=2){let y=u[d],p=u[d+1];e=Math.min(e,y),t=Math.min(t,p),s=Math.max(s,y),i=Math.max(i,p)}}this.minX=e,this.minY=t,this.maxX=s,this.maxY=i}aabbContainsPoint(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}aabbIntersectsSegment(e,t,s,i){let a=this.minX,o=this.minY,c=this.maxX,h=this.maxY;if(e<=a&&s<=a||t<=o&&i<=o||e>=c&&s>=c||t>=h&&i>=h)return!1;let u=(i-t)/(s-e),d=u*(a-e)+t;if(d>o&&d<h||(d=u*(c-e)+t,d>o&&d<h))return!0;let m=(o-t)/u+e;return m>a&&m<c||(m=(h-t)/u+e,m>a&&m<c)}aabbIntersectsSkeleton(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}containsPoint(e,t){let s=this.polygons;for(let i=0,a=s.length;i<a;i++)if(this.containsPointPolygon(s[i],e,t))return this.boundingBoxes[i];return null}containsPointPolygon(e,t,s){let i=e,a=e.length,o=a-2,c=!1;for(let h=0;h<a;h+=2){let u=i[h+1],d=i[o+1];if(u<s&&d>=s||d<s&&u>=s){let m=i[h];m+(s-u)/(d-u)*(i[o]-m)<t&&(c=!c)}o=h}return c}intersectsSegment(e,t,s,i){let a=this.polygons;for(let o=0,c=a.length;o<c;o++)if(this.intersectsSegmentPolygon(a[o],e,t,s,i))return this.boundingBoxes[o];return null}intersectsSegmentPolygon(e,t,s,i,a){let o=e,c=e.length,h=t-i,u=s-a,d=t*a-s*i,m=o[c-2],y=o[c-1];for(let p=0;p<c;p+=2){let x=o[p],v=o[p+1],_=m*v-y*x,A=m-x,S=y-v,w=h*S-u*A,T=(d*A-h*_)/w;if((T>=m&&T<=x||T>=x&&T<=m)&&(T>=t&&T<=i||T>=i&&T<=t)){let R=(d*S-u*_)/w;if((R>=y&&R<=v||R>=v&&R<=y)&&(R>=s&&R<=a||R>=a&&R<=s))return!0}m=x,y=v}return!1}getPolygon(e){if(!e)throw new Error("boundingBox cannot be null.");let t=this.boundingBoxes.indexOf(e);return t==-1?null:this.polygons[t]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}class Cs{constructor(){M(this,"convexPolygons",new Array);M(this,"convexPolygonsIndices",new Array);M(this,"indicesArray",new Array);M(this,"isConcaveArray",new Array);M(this,"triangles",new Array);M(this,"polygonPool",new Jl(()=>new Array));M(this,"polygonIndicesPool",new Jl(()=>new Array))}triangulate(e){let t=e,s=e.length>>1,i=this.indicesArray;i.length=0;for(let c=0;c<s;c++)i[c]=c;let a=this.isConcaveArray;a.length=0;for(let c=0,h=s;c<h;++c)a[c]=Cs.isConcave(c,s,t,i);let o=this.triangles;for(o.length=0;s>3;){let c=s-1,h=0,u=1;for(;;){e:if(!a[h]){let y=i[c]<<1,p=i[h]<<1,x=i[u]<<1,v=t[y],_=t[y+1],A=t[p],S=t[p+1],w=t[x],T=t[x+1];for(let R=(u+1)%s;R!=c;R=(R+1)%s){if(!a[R])continue;let E=i[R]<<1,D=t[E],B=t[E+1];if(Cs.positiveArea(w,T,v,_,D,B)&&Cs.positiveArea(v,_,A,S,D,B)&&Cs.positiveArea(A,S,w,T,D,B))break e}break}if(u==0){do{if(!a[h])break;h--}while(h>0);break}c=h,h=u,u=(u+1)%s}o.push(i[(s+h-1)%s]),o.push(i[h]),o.push(i[(h+1)%s]),i.splice(h,1),a.splice(h,1),s--;let d=(s+h-1)%s,m=h==s?0:h;a[d]=Cs.isConcave(d,s,t,i),a[m]=Cs.isConcave(m,s,t,i)}return s==3&&(o.push(i[2]),o.push(i[0]),o.push(i[1])),o}decompose(e,t){let s=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;let a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;let o=this.polygonIndicesPool.obtain();o.length=0;let c=this.polygonPool.obtain();c.length=0;let h=-1,u=0;for(let d=0,m=t.length;d<m;d+=3){let y=t[d]<<1,p=t[d+1]<<1,x=t[d+2]<<1,v=s[y],_=s[y+1],A=s[p],S=s[p+1],w=s[x],T=s[x+1],R=!1;if(h==y){let E=c.length-4,D=Cs.winding(c[E],c[E+1],c[E+2],c[E+3],w,T),B=Cs.winding(w,T,c[0],c[1],c[2],c[3]);D==u&&B==u&&(c.push(w),c.push(T),o.push(x),R=!0)}R||(c.length>0?(i.push(c),a.push(o)):(this.polygonPool.free(c),this.polygonIndicesPool.free(o)),c=this.polygonPool.obtain(),c.length=0,c.push(v),c.push(_),c.push(A),c.push(S),c.push(w),c.push(T),o=this.polygonIndicesPool.obtain(),o.length=0,o.push(y),o.push(p),o.push(x),u=Cs.winding(v,_,A,S,w,T),h=y)}c.length>0&&(i.push(c),a.push(o));for(let d=0,m=i.length;d<m;d++){if(o=a[d],o.length==0)continue;let y=o[0],p=o[o.length-1];c=i[d];let x=c.length-4,v=c[x],_=c[x+1],A=c[x+2],S=c[x+3],w=c[0],T=c[1],R=c[2],E=c[3],D=Cs.winding(v,_,A,S,w,T);for(let B=0;B<m;B++){if(B==d)continue;let O=a[B];if(O.length!=3)continue;let L=O[0],z=O[1],H=O[2],X=i[B],j=X[X.length-2],W=X[X.length-1];if(L!=y||z!=p)continue;let I=Cs.winding(v,_,A,S,j,W),U=Cs.winding(j,W,w,T,R,E);I==D&&U==D&&(X.length=0,O.length=0,c.push(j),c.push(W),o.push(H),v=A,_=S,A=j,S=W,B=0)}}for(let d=i.length-1;d>=0;d--)c=i[d],c.length==0&&(i.splice(d,1),this.polygonPool.free(c),o=a[d],a.splice(d,1),this.polygonIndicesPool.free(o));return i}static isConcave(e,t,s,i){let a=i[(t+e-1)%t]<<1,o=i[e]<<1,c=i[(e+1)%t]<<1;return!this.positiveArea(s[a],s[a+1],s[o],s[o+1],s[c],s[c+1])}static positiveArea(e,t,s,i,a,o){return e*(o-i)+s*(t-o)+a*(i-t)>=0}static winding(e,t,s,i,a,o){let c=s-e,h=i-t;return a*h-o*c+c*t-e*h>=0?1:-1}}class ph{constructor(){M(this,"triangulator",new Cs);M(this,"clippingPolygon",new Array);M(this,"clipOutput",new Array);M(this,"clippedVertices",new Array);M(this,"clippedUVs",new Array);M(this,"clippedTriangles",new Array);M(this,"scratch",new Array);M(this,"clipAttachment",null);M(this,"clippingPolygons",null)}clipStart(e,t){if(this.clipAttachment)return 0;this.clipAttachment=t;let s=t.worldVerticesLength,i=de.setArraySize(this.clippingPolygon,s);t.computeWorldVertices(e,0,s,i,0,2);let a=this.clippingPolygon;ph.makeClockwise(a);let o=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a));for(let c=0,h=o.length;c<h;c++){let u=o[c];ph.makeClockwise(u),u.push(u[0]),u.push(u[1])}return o.length}clipEndWithSlot(e){this.clipAttachment&&this.clipAttachment.endSlot==e.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return this.clipAttachment!=null}clipTriangles(e,t,s,i,a,o,c,h){let u,d,m,y,p,x;typeof t=="number"?(u=s,d=i,m=a,y=o,p=c,x=h):(u=t,d=s,m=i,y=a,p=o,x=c),m&&y&&p&&typeof x=="boolean"?this.clipTrianglesRender(e,u,d,m,y,p,x):this.clipTrianglesNoRender(e,u,d)}clipTrianglesNoRender(e,t,s){let i=this.clipOutput,a=this.clippedVertices,o=this.clippedTriangles,c=this.clippingPolygons,h=c.length,u=0;a.length=0,o.length=0;for(let d=0;d<s;d+=3){let m=t[d]<<1,y=e[m],p=e[m+1];m=t[d+1]<<1;let x=e[m],v=e[m+1];m=t[d+2]<<1;let _=e[m],A=e[m+1];for(let S=0;S<h;S++){let w=a.length;if(this.clip(y,p,x,v,_,A,c[S],i)){let T=i.length;if(T==0)continue;let R=T>>1,E=this.clipOutput,D=de.setArraySize(a,w+R*2);for(let O=0;O<T;O+=2,w+=2){let L=E[O],z=E[O+1];D[w]=L,D[w+1]=z}w=o.length;let B=de.setArraySize(o,w+3*(R-2));R--;for(let O=1;O<R;O++,w+=3)B[w]=u,B[w+1]=u+O,B[w+2]=u+O+1;u+=R+1}else{let T=de.setArraySize(a,w+6);T[w]=y,T[w+1]=p,T[w+2]=x,T[w+3]=v,T[w+4]=_,T[w+5]=A,w=o.length;let R=de.setArraySize(o,w+3);R[w]=u,R[w+1]=u+1,R[w+2]=u+2,u+=3;break}}}}clipTrianglesRender(e,t,s,i,a,o,c){let h=this.clipOutput,u=this.clippedVertices,d=this.clippedTriangles,m=this.clippingPolygons,y=m.length,p=c?12:8,x=0;u.length=0,d.length=0;for(let v=0;v<s;v+=3){let _=t[v]<<1,A=e[_],S=e[_+1],w=i[_],T=i[_+1];_=t[v+1]<<1;let R=e[_],E=e[_+1],D=i[_],B=i[_+1];_=t[v+2]<<1;let O=e[_],L=e[_+1],z=i[_],H=i[_+1];for(let X=0;X<y;X++){let j=u.length;if(this.clip(A,S,R,E,O,L,m[X],h)){let W=h.length;if(W==0)continue;let I=E-L,U=O-R,ne=A-O,se=L-S,F=1/(I*ne+U*(S-L)),K=W>>1,ae=this.clipOutput,ee=de.setArraySize(u,j+K*p);for(let ue=0;ue<W;ue+=2,j+=p){let fe=ae[ue],Ye=ae[ue+1];ee[j]=fe,ee[j+1]=Ye,ee[j+2]=a.r,ee[j+3]=a.g,ee[j+4]=a.b,ee[j+5]=a.a;let be=fe-O,Ue=Ye-L,tt=(I*be+U*Ue)*F,At=(se*be+ne*Ue)*F,ye=1-tt-At;ee[j+6]=w*tt+D*At+z*ye,ee[j+7]=T*tt+B*At+H*ye,c&&(ee[j+8]=o.r,ee[j+9]=o.g,ee[j+10]=o.b,ee[j+11]=o.a)}j=d.length;let ce=de.setArraySize(d,j+3*(K-2));K--;for(let ue=1;ue<K;ue++,j+=3)ce[j]=x,ce[j+1]=x+ue,ce[j+2]=x+ue+1;x+=K+1}else{let W=de.setArraySize(u,j+3*p);W[j]=A,W[j+1]=S,W[j+2]=a.r,W[j+3]=a.g,W[j+4]=a.b,W[j+5]=a.a,c?(W[j+6]=w,W[j+7]=T,W[j+8]=o.r,W[j+9]=o.g,W[j+10]=o.b,W[j+11]=o.a,W[j+12]=R,W[j+13]=E,W[j+14]=a.r,W[j+15]=a.g,W[j+16]=a.b,W[j+17]=a.a,W[j+18]=D,W[j+19]=B,W[j+20]=o.r,W[j+21]=o.g,W[j+22]=o.b,W[j+23]=o.a,W[j+24]=O,W[j+25]=L,W[j+26]=a.r,W[j+27]=a.g,W[j+28]=a.b,W[j+29]=a.a,W[j+30]=z,W[j+31]=H,W[j+32]=o.r,W[j+33]=o.g,W[j+34]=o.b,W[j+35]=o.a):(W[j+6]=w,W[j+7]=T,W[j+8]=R,W[j+9]=E,W[j+10]=a.r,W[j+11]=a.g,W[j+12]=a.b,W[j+13]=a.a,W[j+14]=D,W[j+15]=B,W[j+16]=O,W[j+17]=L,W[j+18]=a.r,W[j+19]=a.g,W[j+20]=a.b,W[j+21]=a.a,W[j+22]=z,W[j+23]=H),j=d.length;let I=de.setArraySize(d,j+3);I[j]=x,I[j+1]=x+1,I[j+2]=x+2,x+=3;break}}}}clipTrianglesUnpacked(e,t,s,i){let a=this.clipOutput,o=this.clippedVertices,c=this.clippedUVs,h=this.clippedTriangles,u=this.clippingPolygons,d=u.length,m=0;o.length=0,c.length=0,h.length=0;for(let y=0;y<s;y+=3){let p=t[y]<<1,x=e[p],v=e[p+1],_=i[p],A=i[p+1];p=t[y+1]<<1;let S=e[p],w=e[p+1],T=i[p],R=i[p+1];p=t[y+2]<<1;let E=e[p],D=e[p+1],B=i[p],O=i[p+1];for(let L=0;L<d;L++){let z=o.length;if(this.clip(x,v,S,w,E,D,u[L],a)){let H=a.length;if(H==0)continue;let X=w-D,j=E-S,W=x-E,I=D-v,U=1/(X*W+j*(v-D)),ne=H>>1,se=this.clipOutput,F=de.setArraySize(o,z+ne*2),K=de.setArraySize(c,z+ne*2);for(let ee=0;ee<H;ee+=2,z+=2){let ce=se[ee],ue=se[ee+1];F[z]=ce,F[z+1]=ue;let fe=ce-E,Ye=ue-D,be=(X*fe+j*Ye)*U,Ue=(I*fe+W*Ye)*U,tt=1-be-Ue;K[z]=_*be+T*Ue+B*tt,K[z+1]=A*be+R*Ue+O*tt}z=h.length;let ae=de.setArraySize(h,z+3*(ne-2));ne--;for(let ee=1;ee<ne;ee++,z+=3)ae[z]=m,ae[z+1]=m+ee,ae[z+2]=m+ee+1;m+=ne+1}else{let H=de.setArraySize(o,z+6);H[z]=x,H[z+1]=v,H[z+2]=S,H[z+3]=w,H[z+4]=E,H[z+5]=D;let X=de.setArraySize(c,z+3*2);X[z]=_,X[z+1]=A,X[z+2]=T,X[z+3]=R,X[z+4]=B,X[z+5]=O,z=h.length;let j=de.setArraySize(h,z+3);j[z]=m,j[z+1]=m+1,j[z+2]=m+2,m+=3;break}}}}clip(e,t,s,i,a,o,c,h){let u=h,d=!1,m;c.length%4>=2?(m=h,h=this.scratch):m=this.scratch,m.length=0,m.push(e),m.push(t),m.push(s),m.push(i),m.push(a),m.push(o),m.push(e),m.push(t),h.length=0;let y=c.length-4,p=c;for(let x=0;;x+=2){let v=p[x],_=p[x+1],A=v-p[x+2],S=_-p[x+3],w=h.length,T=m;for(let E=0,D=m.length-2;E<D;){let B=T[E],O=T[E+1];E+=2;let L=T[E],z=T[E+1],H=S*(v-L)>A*(_-z),X=S*(v-B)-A*(_-O);if(X>0){if(H){h.push(L),h.push(z);continue}let j=L-B,W=z-O,I=X/(j*S-W*A);if(I>=0&&I<=1)h.push(B+j*I),h.push(O+W*I);else{h.push(L),h.push(z);continue}}else if(H){let j=L-B,W=z-O,I=X/(j*S-W*A);if(I>=0&&I<=1)h.push(B+j*I),h.push(O+W*I),h.push(L),h.push(z);else{h.push(L),h.push(z);continue}}d=!0}if(w==h.length)return u.length=0,!0;if(h.push(h[0]),h.push(h[1]),x==y)break;let R=h;h=m,h.length=0,m=R}if(u!=h){u.length=0;for(let x=0,v=h.length-2;x<v;x++)u[x]=h[x]}else u.length=u.length-2;return d}static makeClockwise(e){let t=e,s=e.length,i=t[s-2]*t[1]-t[0]*t[s-1],a=0,o=0,c=0,h=0;for(let u=0,d=s-3;u<d;u+=2)a=t[u],o=t[u+1],c=t[u+2],h=t[u+3],i+=a*h-c*o;if(!(i<0))for(let u=0,d=s-2,m=s>>1;u<m;u+=2){let y=t[u],p=t[u+1],x=d-u;t[u]=t[x],t[u+1]=t[x+1],t[x]=y,t[x+1]=p}}}class Dg{constructor(e){M(this,"attachmentLoader");M(this,"scale",1);M(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,s=new gh,i=typeof e=="string"?JSON.parse(e):e,a=i.skeleton;if(a&&(s.hash=a.hash,s.version=a.spine,s.x=a.x,s.y=a.y,s.width=a.width,s.height=a.height,s.referenceScale=G(a,"referenceScale",100)*t,s.fps=a.fps,s.imagesPath=a.images??null,s.audioPath=a.audio??null),i.bones)for(let o=0;o<i.bones.length;o++){let c=i.bones[o],h=null,u=G(c,"parent",null);u&&(h=s.findBone(u));let d=new yS(s.bones.length,c.name,h);d.length=G(c,"length",0)*t,d.x=G(c,"x",0)*t,d.y=G(c,"y",0)*t,d.rotation=G(c,"rotation",0),d.scaleX=G(c,"scaleX",1),d.scaleY=G(c,"scaleY",1),d.shearX=G(c,"shearX",0),d.shearY=G(c,"shearY",0),d.inherit=de.enumValue(gt,G(c,"inherit","Normal")),d.skinRequired=G(c,"skin",!1);let m=G(c,"color",null);m&&d.color.setFromString(m),s.bones.push(d)}if(i.slots)for(let o=0;o<i.slots.length;o++){let c=i.slots[o],h=c.name,u=s.findBone(c.bone);if(!u)throw new Error(`Couldn't find bone ${c.bone} for slot ${h}`);let d=new SS(s.slots.length,h,u),m=G(c,"color",null);m&&d.color.setFromString(m);let y=G(c,"dark",null);y&&(d.darkColor=Ce.fromString(y)),d.attachmentName=G(c,"attachment",null),d.blendMode=de.enumValue(hs,G(c,"blend","normal")),d.visible=G(c,"visible",!0),s.slots.push(d)}if(i.ik)for(let o=0;o<i.ik.length;o++){let c=i.ik[o],h=new vS(c.name);h.order=G(c,"order",0),h.skinRequired=G(c,"skin",!1);for(let d=0;d<c.bones.length;d++){let m=s.findBone(c.bones[d]);if(!m)throw new Error(`Couldn't find bone ${c.bones[d]} for IK constraint ${c.name}.`);h.bones.push(m)}let u=s.findBone(c.target);if(!u)throw new Error(`Couldn't find target bone ${c.target} for IK constraint ${c.name}.`);h.target=u,h.mix=G(c,"mix",1),h.softness=G(c,"softness",0)*t,h.bendDirection=G(c,"bendPositive",!0)?1:-1,h.compress=G(c,"compress",!1),h.stretch=G(c,"stretch",!1),h.uniform=G(c,"uniform",!1),s.ikConstraints.push(h)}if(i.transform)for(let o=0;o<i.transform.length;o++){let c=i.transform[o],h=new CS(c.name);h.order=G(c,"order",0),h.skinRequired=G(c,"skin",!1);for(let m=0;m<c.bones.length;m++){let y=c.bones[m],p=s.findBone(y);if(!p)throw new Error(`Couldn't find bone ${y} for transform constraint ${c.name}.`);h.bones.push(p)}let u=c.target,d=s.findBone(u);if(!d)throw new Error(`Couldn't find target bone ${u} for transform constraint ${c.name}.`);h.target=d,h.local=G(c,"local",!1),h.relative=G(c,"relative",!1),h.offsetRotation=G(c,"rotation",0),h.offsetX=G(c,"x",0)*t,h.offsetY=G(c,"y",0)*t,h.offsetScaleX=G(c,"scaleX",0),h.offsetScaleY=G(c,"scaleY",0),h.offsetShearY=G(c,"shearY",0),h.mixRotate=G(c,"mixRotate",1),h.mixX=G(c,"mixX",1),h.mixY=G(c,"mixY",h.mixX),h.mixScaleX=G(c,"mixScaleX",1),h.mixScaleY=G(c,"mixScaleY",h.mixScaleX),h.mixShearY=G(c,"mixShearY",1),s.transformConstraints.push(h)}if(i.path)for(let o=0;o<i.path.length;o++){let c=i.path[o],h=new _S(c.name);h.order=G(c,"order",0),h.skinRequired=G(c,"skin",!1);for(let m=0;m<c.bones.length;m++){let y=c.bones[m],p=s.findBone(y);if(!p)throw new Error(`Couldn't find bone ${y} for path constraint ${c.name}.`);h.bones.push(p)}let u=c.target,d=s.findSlot(u);if(!d)throw new Error(`Couldn't find target slot ${u} for path constraint ${c.name}.`);h.target=d,h.positionMode=de.enumValue(Gi,G(c,"positionMode","Percent")),h.spacingMode=de.enumValue(jt,G(c,"spacingMode","Length")),h.rotateMode=de.enumValue(ja,G(c,"rotateMode","Tangent")),h.offsetRotation=G(c,"rotation",0),h.position=G(c,"position",0),h.positionMode==Gi.Fixed&&(h.position*=t),h.spacing=G(c,"spacing",0),(h.spacingMode==jt.Length||h.spacingMode==jt.Fixed)&&(h.spacing*=t),h.mixRotate=G(c,"mixRotate",1),h.mixX=G(c,"mixX",1),h.mixY=G(c,"mixY",h.mixX),s.pathConstraints.push(h)}if(i.physics)for(let o=0;o<i.physics.length;o++){const c=i.physics[o],h=new wS(c.name);h.order=G(c,"order",0),h.skinRequired=G(c,"skin",!1);const u=c.bone,d=s.findBone(u);if(d==null)throw new Error("Physics bone not found: "+u);h.bone=d,h.x=G(c,"x",0),h.y=G(c,"y",0),h.rotate=G(c,"rotate",0),h.scaleX=G(c,"scaleX",0),h.shearX=G(c,"shearX",0),h.limit=G(c,"limit",5e3)*t,h.step=1/G(c,"fps",60),h.inertia=G(c,"inertia",1),h.strength=G(c,"strength",100),h.damping=G(c,"damping",1),h.massInverse=1/G(c,"mass",1),h.wind=G(c,"wind",0),h.gravity=G(c,"gravity",0),h.mix=G(c,"mix",1),h.inertiaGlobal=G(c,"inertiaGlobal",!1),h.strengthGlobal=G(c,"strengthGlobal",!1),h.dampingGlobal=G(c,"dampingGlobal",!1),h.massGlobal=G(c,"massGlobal",!1),h.windGlobal=G(c,"windGlobal",!1),h.gravityGlobal=G(c,"gravityGlobal",!1),h.mixGlobal=G(c,"mixGlobal",!1),s.physicsConstraints.push(h)}if(i.skins)for(let o=0;o<i.skins.length;o++){let c=i.skins[o],h=new Rg(c.name);if(c.bones)for(let u=0;u<c.bones.length;u++){let d=c.bones[u],m=s.findBone(d);if(!m)throw new Error(`Couldn't find bone ${d} for skin ${c.name}.`);h.bones.push(m)}if(c.ik)for(let u=0;u<c.ik.length;u++){let d=c.ik[u],m=s.findIkConstraint(d);if(!m)throw new Error(`Couldn't find IK constraint ${d} for skin ${c.name}.`);h.constraints.push(m)}if(c.transform)for(let u=0;u<c.transform.length;u++){let d=c.transform[u],m=s.findTransformConstraint(d);if(!m)throw new Error(`Couldn't find transform constraint ${d} for skin ${c.name}.`);h.constraints.push(m)}if(c.path)for(let u=0;u<c.path.length;u++){let d=c.path[u],m=s.findPathConstraint(d);if(!m)throw new Error(`Couldn't find path constraint ${d} for skin ${c.name}.`);h.constraints.push(m)}if(c.physics)for(let u=0;u<c.physics.length;u++){let d=c.physics[u],m=s.findPhysicsConstraint(d);if(!m)throw new Error(`Couldn't find physics constraint ${d} for skin ${c.name}.`);h.constraints.push(m)}for(let u in c.attachments){let d=s.findSlot(u);if(!d)throw new Error(`Couldn't find slot ${u} for skin ${c.name}.`);let m=c.attachments[u];for(let y in m){let p=this.readAttachment(m[y],h,d.index,y,s);p&&h.setAttachment(d.index,y,p)}}s.skins.push(h),h.name=="default"&&(s.defaultSkin=h)}for(let o=0,c=this.linkedMeshes.length;o<c;o++){let h=this.linkedMeshes[o],u=h.skin?s.findSkin(h.skin):s.defaultSkin;if(!u)throw new Error(`Skin not found: ${h.skin}`);let d=u.getAttachment(h.slotIndex,h.parent);if(!d)throw new Error(`Parent mesh not found: ${h.parent}`);h.mesh.timelineAttachment=h.inheritTimeline?d:h.mesh,h.mesh.setParentMesh(d),h.mesh.region!=null&&h.mesh.updateRegion()}if(this.linkedMeshes.length=0,i.events)for(let o in i.events){let c=i.events[o],h=new bS(o);h.intValue=G(c,"int",0),h.floatValue=G(c,"float",0),h.stringValue=G(c,"string",""),h.audioPath=G(c,"audio",null),h.audioPath&&(h.volume=G(c,"volume",1),h.balance=G(c,"balance",0)),s.events.push(h)}if(i.animations)for(let o in i.animations){let c=i.animations[o];this.readAnimation(c,o,s)}return s}readAttachment(e,t,s,i,a){let o=this.scale;switch(i=G(e,"name",i),G(e,"type","region")){case"region":{let c=G(e,"path",i),h=this.readSequence(G(e,"sequence",null)),u=this.attachmentLoader.newRegionAttachment(t,i,c,h);if(!u)return null;u.path=c,u.x=G(e,"x",0)*o,u.y=G(e,"y",0)*o,u.scaleX=G(e,"scaleX",1),u.scaleY=G(e,"scaleY",1),u.rotation=G(e,"rotation",0),u.width=e.width*o,u.height=e.height*o,u.sequence=h;let d=G(e,"color",null);return d&&u.color.setFromString(d),u.region!=null&&u.updateRegion(),u}case"boundingbox":{let c=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(!c)return null;this.readVertices(e,c,e.vertexCount<<1);let h=G(e,"color",null);return h&&c.color.setFromString(h),c}case"mesh":case"linkedmesh":{let c=G(e,"path",i),h=this.readSequence(G(e,"sequence",null)),u=this.attachmentLoader.newMeshAttachment(t,i,c,h);if(!u)return null;u.path=c;let d=G(e,"color",null);d&&u.color.setFromString(d),u.width=G(e,"width",0)*o,u.height=G(e,"height",0)*o,u.sequence=h;let m=G(e,"parent",null);if(m)return this.linkedMeshes.push(new fO(u,G(e,"skin",null),s,m,G(e,"timelines",!0))),u;let y=e.uvs;return this.readVertices(e,u,y.length),u.triangles=e.triangles,u.regionUVs=y,u.region!=null&&u.updateRegion(),u.edges=G(e,"edges",null),u.hullLength=G(e,"hull",0)*2,u}case"path":{let c=this.attachmentLoader.newPathAttachment(t,i);if(!c)return null;c.closed=G(e,"closed",!1),c.constantSpeed=G(e,"constantSpeed",!0);let h=e.vertexCount;this.readVertices(e,c,h<<1);let u=de.newArray(h/3,0);for(let m=0;m<e.lengths.length;m++)u[m]=e.lengths[m]*o;c.lengths=u;let d=G(e,"color",null);return d&&c.color.setFromString(d),c}case"point":{let c=this.attachmentLoader.newPointAttachment(t,i);if(!c)return null;c.x=G(e,"x",0)*o,c.y=G(e,"y",0)*o,c.rotation=G(e,"rotation",0);let h=G(e,"color",null);return h&&c.color.setFromString(h),c}case"clipping":{let c=this.attachmentLoader.newClippingAttachment(t,i);if(!c)return null;let h=G(e,"end",null);h&&(c.endSlot=a.findSlot(h));let u=e.vertexCount;this.readVertices(e,c,u<<1);let d=G(e,"color",null);return d&&c.color.setFromString(d),c}}return null}readSequence(e){if(e==null)return null;let t=new hh(G(e,"count",0));return t.start=G(e,"start",1),t.digits=G(e,"digits",0),t.setupIndex=G(e,"setup",0),t}readVertices(e,t,s){let i=this.scale;t.worldVerticesLength=s;let a=e.vertices;if(s==a.length){let h=de.toFloatArray(a);if(i!=1)for(let u=0,d=a.length;u<d;u++)h[u]*=i;t.vertices=h;return}let o=new Array,c=new Array;for(let h=0,u=a.length;h<u;){let d=a[h++];c.push(d);for(let m=h+d*4;h<m;h+=4)c.push(a[h]),o.push(a[h+1]*i),o.push(a[h+2]*i),o.push(a[h+3])}t.bones=c,t.vertices=de.toFloatArray(o)}readAnimation(e,t,s){let i=this.scale,a=new Array;if(e.slots)for(let c in e.slots){let h=e.slots[c],u=s.findSlot(c);if(!u)throw new Error("Slot not found: "+c);let d=u.index;for(let m in h){let y=h[m];if(!y)continue;let p=y.length;if(m=="attachment"){let x=new Kr(p,d);for(let v=0;v<p;v++){let _=y[v];x.setFrame(v,G(_,"time",0),G(_,"name",null))}a.push(x)}else if(m=="rgba"){let x=new nS(p,p<<2,d),v=y[0],_=G(v,"time",0),A=Ce.fromString(v.color);for(let S=0,w=0;;S++){x.setFrame(S,_,A.r,A.g,A.b,A.a);let T=y[S+1];if(!T){x.shrink(w);break}let R=G(T,"time",0),E=Ce.fromString(T.color),D=v.curve;D&&(w=ze(D,x,w,S,0,_,R,A.r,E.r,1),w=ze(D,x,w,S,1,_,R,A.g,E.g,1),w=ze(D,x,w,S,2,_,R,A.b,E.b,1),w=ze(D,x,w,S,3,_,R,A.a,E.a,1)),_=R,A=E,v=T}a.push(x)}else if(m=="rgb"){let x=new aS(p,p*3,d),v=y[0],_=G(v,"time",0),A=Ce.fromString(v.color);for(let S=0,w=0;;S++){x.setFrame(S,_,A.r,A.g,A.b);let T=y[S+1];if(!T){x.shrink(w);break}let R=G(T,"time",0),E=Ce.fromString(T.color),D=v.curve;D&&(w=ze(D,x,w,S,0,_,R,A.r,E.r,1),w=ze(D,x,w,S,1,_,R,A.g,E.g,1),w=ze(D,x,w,S,2,_,R,A.b,E.b,1)),_=R,A=E,v=T}a.push(x)}else if(m=="alpha")a.push(bi(y,new rS(p,p,d),0,1));else if(m=="rgba2"){let x=new oS(p,p*7,d),v=y[0],_=G(v,"time",0),A=Ce.fromString(v.light),S=Ce.fromString(v.dark);for(let w=0,T=0;;w++){x.setFrame(w,_,A.r,A.g,A.b,A.a,S.r,S.g,S.b);let R=y[w+1];if(!R){x.shrink(T);break}let E=G(R,"time",0),D=Ce.fromString(R.light),B=Ce.fromString(R.dark),O=v.curve;O&&(T=ze(O,x,T,w,0,_,E,A.r,D.r,1),T=ze(O,x,T,w,1,_,E,A.g,D.g,1),T=ze(O,x,T,w,2,_,E,A.b,D.b,1),T=ze(O,x,T,w,3,_,E,A.a,D.a,1),T=ze(O,x,T,w,4,_,E,S.r,B.r,1),T=ze(O,x,T,w,5,_,E,S.g,B.g,1),T=ze(O,x,T,w,6,_,E,S.b,B.b,1)),_=E,A=D,S=B,v=R}a.push(x)}else if(m=="rgb2"){let x=new lS(p,p*6,d),v=y[0],_=G(v,"time",0),A=Ce.fromString(v.light),S=Ce.fromString(v.dark);for(let w=0,T=0;;w++){x.setFrame(w,_,A.r,A.g,A.b,S.r,S.g,S.b);let R=y[w+1];if(!R){x.shrink(T);break}let E=G(R,"time",0),D=Ce.fromString(R.light),B=Ce.fromString(R.dark),O=v.curve;O&&(T=ze(O,x,T,w,0,_,E,A.r,D.r,1),T=ze(O,x,T,w,1,_,E,A.g,D.g,1),T=ze(O,x,T,w,2,_,E,A.b,D.b,1),T=ze(O,x,T,w,3,_,E,S.r,B.r,1),T=ze(O,x,T,w,4,_,E,S.g,B.g,1),T=ze(O,x,T,w,5,_,E,S.b,B.b,1)),_=E,A=D,S=B,v=R}a.push(x)}}}if(e.bones)for(let c in e.bones){let h=e.bones[c],u=s.findBone(c);if(!u)throw new Error("Bone not found: "+c);let d=u.index;for(let m in h){let y=h[m],p=y.length;if(p!=0){if(m==="rotate")a.push(bi(y,new dh(p,p,d),0,1));else if(m==="translate"){let x=new Ww(p,p<<1,d);a.push(Fm(y,x,"x","y",0,i))}else if(m==="translatex"){let x=new $w(p,p,d);a.push(bi(y,x,0,i))}else if(m==="translatey"){let x=new Kw(p,p,d);a.push(bi(y,x,0,i))}else if(m==="scale"){let x=new Qw(p,p<<1,d);a.push(Fm(y,x,"x","y",1,1))}else if(m==="scalex"){let x=new Zw(p,p,d);a.push(bi(y,x,1,1))}else if(m==="scaley"){let x=new Jw(p,p,d);a.push(bi(y,x,1,1))}else if(m==="shear"){let x=new eS(p,p<<1,d);a.push(Fm(y,x,"x","y",0,1))}else if(m==="shearx"){let x=new tS(p,p,d);a.push(bi(y,x,0,1))}else if(m==="sheary"){let x=new sS(p,p,d);a.push(bi(y,x,0,1))}else if(m==="inherit"){let x=new iS(p,u.index);for(let v=0;v<y.length;v++){let _=y[v];x.setFrame(v,G(_,"time",0),de.enumValue(gt,G(_,"inherit","Normal")))}a.push(x)}}}}if(e.ik)for(let c in e.ik){let h=e.ik[c],u=h[0];if(!u)continue;let d=s.findIkConstraint(c);if(!d)throw new Error("IK Constraint not found: "+c);let m=s.ikConstraints.indexOf(d),y=new fp(h.length,h.length<<1,m),p=G(u,"time",0),x=G(u,"mix",1),v=G(u,"softness",0)*i;for(let _=0,A=0;;_++){y.setFrame(_,p,x,v,G(u,"bendPositive",!0)?1:-1,G(u,"compress",!1),G(u,"stretch",!1));let S=h[_+1];if(!S){y.shrink(A);break}let w=G(S,"time",0),T=G(S,"mix",1),R=G(S,"softness",0)*i,E=u.curve;E&&(A=ze(E,y,A,_,0,p,w,x,T,1),A=ze(E,y,A,_,1,p,w,v,R,i)),p=w,x=T,v=R,u=S}a.push(y)}if(e.transform)for(let c in e.transform){let h=e.transform[c],u=h[0];if(!u)continue;let d=s.findTransformConstraint(c);if(!d)throw new Error("Transform constraint not found: "+c);let m=s.transformConstraints.indexOf(d),y=new mp(h.length,h.length*6,m),p=G(u,"time",0),x=G(u,"mixRotate",1),v=G(u,"mixX",1),_=G(u,"mixY",v),A=G(u,"mixScaleX",1),S=G(u,"mixScaleY",A),w=G(u,"mixShearY",1);for(let T=0,R=0;;T++){y.setFrame(T,p,x,v,_,A,S,w);let E=h[T+1];if(!E){y.shrink(R);break}let D=G(E,"time",0),B=G(E,"mixRotate",1),O=G(E,"mixX",1),L=G(E,"mixY",O),z=G(E,"mixScaleX",1),H=G(E,"mixScaleY",z),X=G(E,"mixShearY",1),j=u.curve;j&&(R=ze(j,y,R,T,0,p,D,x,B,1),R=ze(j,y,R,T,1,p,D,v,O,1),R=ze(j,y,R,T,2,p,D,_,L,1),R=ze(j,y,R,T,3,p,D,A,z,1),R=ze(j,y,R,T,4,p,D,S,H,1),R=ze(j,y,R,T,5,p,D,w,X,1)),p=D,x=B,v=O,_=L,A=z,S=H,A=z,u=E}a.push(y)}if(e.path)for(let c in e.path){let h=e.path[c],u=s.findPathConstraint(c);if(!u)throw new Error("Path constraint not found: "+c);let d=s.pathConstraints.indexOf(u);for(let m in h){let y=h[m],p=y[0];if(!p)continue;let x=y.length;if(m==="position"){let v=new gp(x,x,d);a.push(bi(y,v,0,u.positionMode==Gi.Fixed?i:1))}else if(m==="spacing"){let v=new pp(x,x,d);a.push(bi(y,v,0,u.spacingMode==jt.Length||u.spacingMode==jt.Fixed?i:1))}else if(m==="mix"){let v=new yp(x,x*3,d),_=G(p,"time",0),A=G(p,"mixRotate",1),S=G(p,"mixX",1),w=G(p,"mixY",S);for(let T=0,R=0;;T++){v.setFrame(T,_,A,S,w);let E=y[T+1];if(!E){v.shrink(R);break}let D=G(E,"time",0),B=G(E,"mixRotate",1),O=G(E,"mixX",1),L=G(E,"mixY",O),z=p.curve;z&&(R=ze(z,v,R,T,0,_,D,A,B,1),R=ze(z,v,R,T,1,_,D,S,O,1),R=ze(z,v,R,T,2,_,D,w,L,1)),_=D,A=B,S=O,w=L,p=E}a.push(v)}}}if(e.physics)for(let c in e.physics){let h=e.physics[c],u=-1;if(c.length>0){let d=s.findPhysicsConstraint(c);if(!d)throw new Error("Physics constraint not found: "+c);u=s.physicsConstraints.indexOf(d)}for(let d in h){let m=h[d],y=m[0];if(!y)continue;let p=m.length;if(d=="reset"){const v=new fh(p,u);for(let _=0;y!=null;y=m[_+1],_++)v.setFrame(_,G(y,"time",0));a.push(v);continue}let x;if(d=="inertia")x=new cS(p,p,u);else if(d=="strength")x=new uS(p,p,u);else if(d=="damping")x=new hS(p,p,u);else if(d=="mass")x=new dS(p,p,u);else if(d=="wind")x=new fS(p,p,u);else if(d=="gravity")x=new mS(p,p,u);else if(d=="mix")x=new gS(p,p,u);else continue;a.push(bi(m,x,0,1))}}if(e.attachments)for(let c in e.attachments){let h=e.attachments[c],u=s.findSkin(c);if(!u)throw new Error("Skin not found: "+c);for(let d in h){let m=h[d],y=s.findSlot(d);if(!y)throw new Error("Slot not found: "+d);let p=y.index;for(let x in m){let v=m[x],_=u.getAttachment(p,x);for(let A in v){let S=v[A],w=S[0];if(w){if(A=="deform"){let T=_.bones,R=_.vertices,E=T?R.length/3*2:R.length,D=new fc(S.length,S.length,p,_),B=G(w,"time",0);for(let O=0,L=0;;O++){let z,H=G(w,"vertices",null);if(!H)z=T?de.newFloatArray(E):R;else{z=de.newFloatArray(E);let I=G(w,"offset",0);if(de.arrayCopy(H,0,z,I,H.length),i!=1)for(let U=I,ne=U+H.length;U<ne;U++)z[U]*=i;if(!T)for(let U=0;U<E;U++)z[U]+=R[U]}D.setFrame(O,B,z);let X=S[O+1];if(!X){D.shrink(L);break}let j=G(X,"time",0),W=w.curve;W&&(L=ze(W,D,L,O,0,B,j,0,1,1)),B=j,w=X}a.push(D)}else if(A=="sequence"){let T=new mh(S.length,p,_),R=0;for(let E=0;E<S.length;E++){let D=G(w,"delay",R),B=G(w,"time",0),O=es[G(w,"mode","hold")],L=G(w,"index",0);T.setFrame(E,B,O,L,D),R=D,w=S[E+1]}a.push(T)}}}}}}if(e.drawOrder){let c=new Fa(e.drawOrder.length),h=s.slots.length,u=0;for(let d=0;d<e.drawOrder.length;d++,u++){let m=e.drawOrder[d],y=null,p=G(m,"offsets",null);if(p){y=de.newArray(h,-1);let x=de.newArray(h-p.length,0),v=0,_=0;for(let A=0;A<p.length;A++){let S=p[A],w=s.findSlot(S.slot);if(!w)throw new Error("Slot not found: "+w);let T=w.index;for(;v!=T;)x[_++]=v++;y[v+S.offset]=v++}for(;v<h;)x[_++]=v++;for(let A=h-1;A>=0;A--)y[A]==-1&&(y[A]=x[--_])}c.setFrame(u,G(m,"time",0),y)}a.push(c)}if(e.events){let c=new ec(e.events.length),h=0;for(let u=0;u<e.events.length;u++,h++){let d=e.events[u],m=s.findEvent(d.name);if(!m)throw new Error("Event not found: "+d.name);let y=new xS(de.toSinglePrecision(G(d,"time",0)),m);y.intValue=G(d,"int",m.intValue),y.floatValue=G(d,"float",m.floatValue),y.stringValue=G(d,"string",m.stringValue),y.data.audioPath&&(y.volume=G(d,"volume",1),y.balance=G(d,"balance",0)),c.setFrame(h,y)}a.push(c)}let o=0;for(let c=0,h=a.length;c<h;c++)o=Math.max(o,a[c].getDuration());s.animations.push(new hp(t,a,o))}}class fO{constructor(e,t,s,i,a){M(this,"parent");M(this,"skin");M(this,"slotIndex");M(this,"mesh");M(this,"inheritTimeline");this.mesh=e,this.skin=t,this.slotIndex=s,this.parent=i,this.inheritTimeline=a}}function bi(n,e,t,s){let i=n[0],a=G(i,"time",0),o=G(i,"value",t)*s,c=0;for(let h=0;;h++){e.setFrame(h,a,o);let u=n[h+1];if(!u)return e.shrink(c),e;let d=G(u,"time",0),m=G(u,"value",t)*s;i.curve&&(c=ze(i.curve,e,c,h,0,a,d,o,m,s)),a=d,o=m,i=u}}function Fm(n,e,t,s,i,a){let o=n[0],c=G(o,"time",0),h=G(o,t,i)*a,u=G(o,s,i)*a,d=0;for(let m=0;;m++){e.setFrame(m,c,h,u);let y=n[m+1];if(!y)return e.shrink(d),e;let p=G(y,"time",0),x=G(y,t,i)*a,v=G(y,s,i)*a,_=o.curve;_&&(d=ze(_,e,d,m,0,c,p,h,x,a),d=ze(_,e,d,m,1,c,p,u,v,a)),c=p,h=x,u=v,o=y}}function ze(n,e,t,s,i,a,o,c,h,u){if(n=="stepped")return e.setStepped(s),t;let d=i<<2,m=n[d],y=n[d+1]*u,p=n[d+2],x=n[d+3]*u;return e.setBezier(t,s,i,a,c,m,y,p,x,o,h),t+1}function G(n,e,t){return n[e]!==void 0?n[e]:t}typeof Math.fround>"u"&&(Math.fround=function(n){return function(e){return n[0]=e,n[0]}}(new Float32Array(1)));const vi=class vi extends A3{constructor(t){super(t.resource);M(this,"texture");this.texture=Ne.from(t)}static from(t){return vi.textureMap.has(t)?vi.textureMap.get(t):new vi(t)}setFilters(t,s){const i=this.texture.source.style;i.minFilter=vi.toPixiTextureFilter(t),i.magFilter=vi.toPixiTextureFilter(s),this.texture.source.autoGenerateMipmaps=vi.toPixiMipMap(t),this.texture.source.updateMipmaps()}setWraps(t,s){const i=this.texture.source.style;i.addressModeU=vi.toPixiTextureWrap(t),i.addressModeV=vi.toPixiTextureWrap(s)}dispose(){this.texture.destroy()}static toPixiMipMap(t){switch(t){case Xt.Nearest:case Xt.Linear:return!1;case Xt.MipMapNearestLinear:case Xt.MipMapNearestNearest:case Xt.MipMapLinearLinear:case Xt.MipMapLinearNearest:return!0;default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiTextureFilter(t){switch(t){case Xt.Nearest:case Xt.MipMapNearestLinear:case Xt.MipMapNearestNearest:return"nearest";case Xt.Linear:case Xt.MipMapLinearLinear:case Xt.MipMapLinearNearest:return"linear";default:throw new Error(`Unknown texture filter: ${String(t)}`)}}static toPixiTextureWrap(t){switch(t){case vn.ClampToEdge:return"clamp-to-edge";case vn.MirroredRepeat:return"mirror-repeat";case vn.Repeat:return"repeat";default:throw new Error(`Unknown texture wrap: ${String(t)}`)}}static toPixiBlending(t){switch(t){case hs.Normal:return"normal";case hs.Additive:return"add";case hs.Multiply:return"multiply";case hs.Screen:return"screen";default:throw new Error(`Unknown blendMode: ${String(t)}`)}}};M(vi,"textureMap",new Map);let Ya=vi;const mO={extension:ge.Asset,resolver:{test:n=>di(n,".atlas"),parse:n=>{var t,s;const e=n.split(".");return{resolution:parseFloat(((s=(t=Qa.RETINA_PREFIX)==null?void 0:t.exec(n))==null?void 0:s[1])??"1"),format:e[e.length-2],src:n}}},loader:{extension:{type:ge.LoadParser,priority:$i.Normal,name:"spineTextureAtlasLoader"},test(n){return di(n,".atlas")},async load(n){return await(await nt.get().fetch(n)).text()},testParse(n,e){const t=di(e.src,".atlas"),s=typeof n=="string";return Promise.resolve(t&&s)},unload(n){n.dispose()},async parse(n,e,t){const s=e.data||{};let i=ts.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");const a=new Mg(n);if(s.images instanceof Gs||typeof s.images=="string"){const c=s.images;s.images={},s.images[a.pages[0].name]=c}const o=[];for(const c of a.pages){const h=c.name,u=s!=null&&s.images?s.images[h]:void 0;if(u instanceof Gs)c.setTexture(Ya.from(u));else{const d=u??ts.normalize([...i.split(ts.sep),h].join(ts.sep)),m={src:ih(d,e.src),data:{...s.imageMetadata,alphaMode:c.pma?"premultiplied-alpha":"premultiply-alpha-on-upload"}},y=t.load(m).then(p=>{c.setTexture(Ya.from(p.source))});o.push(y)}}return await Promise.all(o),a}}};Dt.add(mO);function gO(n){return Object.prototype.hasOwnProperty.call(n,"bones")}function pO(n){return n instanceof Uint8Array}const yO={extension:ge.Asset,loader:{extension:{type:ge.LoadParser,priority:$i.Normal,name:"spineSkeletonLoader"},test(n){return di(n,".skel")},async load(n){const e=await nt.get().fetch(n);return new Uint8Array(await e.arrayBuffer())},testParse(n,e){const t=di(e.src,".json")&&gO(n),s=di(e.src,".skel")&&pO(n);return Promise.resolve(t||s)}}};Dt.add(yO);const xO=new Float32Array(1),bO=new Uint32Array(1);class vO extends $_{constructor(){const t=new Wa({data:xO,label:"attribute-batch-buffer",usage:qt.VERTEX|qt.COPY_DST,shrinkToFit:!1}),s=new Wa({data:bO,label:"index-batch-buffer",usage:qt.INDEX|qt.COPY_DST,shrinkToFit:!1}),i=7*4;super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:i,offset:0},aUV:{buffer:t,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:t,format:"unorm8x4",stride:i,offset:4*4},aDarkColor:{buffer:t,format:"unorm8x4",stride:i,offset:5*4},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:i,offset:6*4}},indexBuffer:s})}}const _O={name:"color-bit",vertex:{header:`
            @in aDarkColor: vec4<f32>;
            @out vDarkColor: vec4<f32>;
        `,main:`
        vDarkColor = aDarkColor;
        `},fragment:{header:`
            @in vDarkColor: vec4<f32>;
        `,end:`

        let alpha = outColor.a * vColor.a;
        let rgb = ((outColor.a - 1.0) * vDarkColor.a + 1.0 - outColor.rgb) * vDarkColor.rgb + outColor.rgb * vColor.rgb;

        finalColor = vec4<f32>(rgb, alpha);

        `}},wO={name:"color-bit",vertex:{header:`
            in vec4 aDarkColor;
            out vec4 vDarkColor;
        `,main:`
            vDarkColor = aDarkColor;
        `},fragment:{header:`
            in vec4 vDarkColor;
        `,end:`

        finalColor.a = outColor.a * vColor.a;
        finalColor.rgb = ((outColor.a - 1.0) * vDarkColor.a + 1.0 - outColor.rgb) * vDarkColor.rgb + outColor.rgb * vColor.rgb;
        `}};class SO extends Dh{constructor(e){const t=J_({name:"dark-tint-batch",bits:[tw,wO,iw(e),aw]}),s=Z_({name:"dark-tint-batch",bits:[ew,_O,sw(e),nw]});super({glProgram:t,gpuProgram:s,resources:{batchSamplers:rw(e)}})}}let vv=null;const kh=class kh extends q_{constructor(){super(...arguments);M(this,"geometry",new vO);M(this,"shader",vv||(vv=new SO(this.maxTextures)));M(this,"name",kh.extension.name);M(this,"vertexSize",7)}packAttributes(t,s,i,a,o){const c=o<<16|t.roundPixels&65535,h=t.transform,u=h.a,d=h.b,m=h.c,y=h.d,p=h.tx,x=h.ty,{positions:v,uvs:_}=t,A=t.color,S=(A>>24&255)/255,w=Lt.shared.setValue(t.darkColor).premultiply(S,!0).toPremultiplied(1,!1),T=t.attributeOffset,R=T+t.attributeSize;for(let E=T;E<R;E++){const D=E*2,B=v[D],O=v[D+1];s[a++]=u*B+m*O+p,s[a++]=y*O+d*B+x,s[a++]=_[D],s[a++]=_[D+1],i[a++]=A,i[a++]=w,i[a++]=c}}packQuadAttributes(t,s,i,a,o){const c=t.texture,h=t.transform,u=h.a,d=h.b,m=h.c,y=h.d,p=h.tx,x=h.ty,v=t.bounds,_=v.maxX,A=v.minX,S=v.maxY,w=v.minY,T=c.uvs,R=t.color,E=t.darkColor,D=o<<16|t.roundPixels&65535;s[a+0]=u*A+m*w+p,s[a+1]=y*w+d*A+x,s[a+2]=T.x0,s[a+3]=T.y0,i[a+4]=R,i[a+5]=E,i[a+6]=D,s[a+7]=u*_+m*w+p,s[a+8]=y*w+d*_+x,s[a+9]=T.x1,s[a+10]=T.y1,i[a+11]=R,i[a+12]=E,i[a+13]=D,s[a+14]=u*_+m*S+p,s[a+15]=y*S+d*_+x,s[a+16]=T.x2,s[a+17]=T.y2,i[a+18]=R,i[a+19]=E,i[a+20]=D,s[a+21]=u*A+m*S+p,s[a+22]=y*S+d*A+x,s[a+23]=T.x3,s[a+24]=T.y3,i[a+25]=R,i[a+26]=E,i[a+27]=D}};M(kh,"extension",{type:[ge.Batcher],name:"darkTint"});let Pg=kh;Dt.add(Pg);class CO{constructor(){M(this,"indexOffset",0);M(this,"attributeOffset",0);M(this,"indexSize");M(this,"attributeSize");M(this,"batcherName","darkTint");M(this,"topology","triangle-list");M(this,"packAsQuad",!1);M(this,"renderable");M(this,"positions");M(this,"indices");M(this,"uvs");M(this,"roundPixels");M(this,"data");M(this,"blendMode");M(this,"darkTint");M(this,"texture");M(this,"transform");M(this,"_textureId");M(this,"_attributeStart");M(this,"_indexStart");M(this,"_batcher");M(this,"_batch")}get color(){const e=this.data.color,t=this.renderable.groupColor,s=this.renderable.groupAlpha;let i;const a=e.a*s*255;if(t!==16777215){const o=t>>16&255,c=t>>8&255,h=t&255,u=e.r*h,d=e.g*c,m=e.b*o;i=a<<24|m<<16|d<<8|u}else i=a<<24|e.b*255<<16|e.g*255<<8|e.r*255;return i}get darkColor(){const e=this.data.darkColor;return e.b*255<<16|e.g*255<<8|e.r*255}get groupTransform(){return this.renderable.groupTransform}setData(e,t,s,i){if(this.renderable=e,this.transform=e.groupTransform,this.data=t,t.clipped){const a=t.clippedData;this.indexSize=a.indicesCount,this.attributeSize=a.vertexCount,this.positions=a.vertices,this.indices=a.indices,this.uvs=a.uvs}else this.indexSize=t.indices.length,this.attributeSize=t.vertices.length/2,this.positions=t.vertices,this.indices=t.indices,this.uvs=t.uvs;this.texture=t.texture,this.roundPixels=i,this.blendMode=s,this.batcherName=t.darkTint?"darkTint":"default"}}const AO={0:"normal",1:"add",2:"multiply",3:"screen"};class TS{constructor(e){M(this,"renderer");M(this,"gpuSpineData",{});M(this,"_destroyRenderableBound",this.destroyRenderable.bind(this));this.renderer=e}validateRenderable(e){if(e._validateAndTransformAttachments(),e.spineAttachmentsDirty)return!0;if(e.spineTexturesDirty){const t=e.skeleton.drawOrder,s=this.gpuSpineData[e.uid];for(let i=0,a=t.length;i<a;i++){const o=t[i],c=o.getAttachment();if(c instanceof wi||c instanceof Wt){const h=e._getCachedData(o,c),u=s.slotBatches[h.id],d=h.texture;if(d!==u.texture&&!u._batcher.checkAndUpdateTexture(u,d))return!0}}}return!1}addRenderable(e,t){var c,h;const s=this._getSpineData(e),i=this.renderer.renderPipes.batch,a=e.skeleton.drawOrder,o=this.renderer._roundPixels|e._roundPixels;e._validateAndTransformAttachments(),e.spineAttachmentsDirty=!1,e.spineTexturesDirty=!1;for(let u=0,d=a.length;u<d;u++){const m=a[u],y=m.getAttachment(),p=AO[m.data.blendMode];if(y instanceof wi||y instanceof Wt){const v=e._getCachedData(m,y),_=(c=s.slotBatches)[h=v.id]||(c[h]=new CO);_.setData(e,v,p,o),v.skipRender||i.addToBatch(_,t)}const x=e._slotsObject[m.data.name];if(x){const v=x.container;v.includeInBuild=!0,KR(v,t,this.renderer),v.includeInBuild=!1}}}updateRenderable(e){var i;const t=this.gpuSpineData[e.uid];e._validateAndTransformAttachments(),e.spineAttachmentsDirty=!1,e.spineTexturesDirty=!1;const s=e.skeleton.drawOrder;for(let a=0,o=s.length;a<o;a++){const c=s[a],h=c.getAttachment();if((h instanceof wi||h instanceof Wt)&&!e._getCachedData(c,h).skipRender){const d=t.slotBatches[e._getCachedData(c,h).id];(i=d._batcher)==null||i.updateElement(d)}}}destroyRenderable(e){this.gpuSpineData[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}destroy(){this.gpuSpineData=null,this.renderer=null}_getSpineData(e){return this.gpuSpineData[e.uid]||this._initMeshData(e)}_initMeshData(e){return this.gpuSpineData[e.uid]={slotBatches:{}},e.on("destroyed",this._destroyRenderableBound),this.gpuSpineData[e.uid]}}M(TS,"extension",{type:[ge.WebGLPipes,ge.WebGPUPipes,ge.CanvasPipes],name:"spine"});Dt.add(TS);const Hu=new uh;tc.yDown=!0;const Xr=new ph,_v=new Jl(()=>new $l);class sc extends Jg{constructor(t){t instanceof gh&&(t={skeletonData:t});super({});M(this,"batched",!0);M(this,"buildId",0);M(this,"renderPipeId","spine");M(this,"_didSpineUpdate",!1);M(this,"beforeUpdateWorldTransforms",()=>{});M(this,"afterUpdateWorldTransforms",()=>{});M(this,"skeleton");M(this,"state");M(this,"skeletonBounds");M(this,"darkTint",!1);M(this,"_debug");M(this,"_slotsObject",Object.create(null));M(this,"clippingSlotToPixiMasks",Object.create(null));M(this,"spineAttachmentsDirty",!0);M(this,"spineTexturesDirty",!0);M(this,"_lastAttachments",[]);M(this,"_stateChanged",!0);M(this,"attachmentCacheData",[]);M(this,"_autoUpdate",!0);M(this,"_boundsProvider");M(this,"hasNeverUpdated",!0);M(this,"currentClippingSlot");this.allowChildren=!0;const s=t instanceof gh?t:t.skeletonData;this.skeleton=new tc(s),this.state=new Tg(new C3(s)),this.autoUpdate=(t==null?void 0:t.autoUpdate)??!0,this.darkTint=(t==null?void 0:t.darkTint)===void 0?this.skeleton.slots.some(a=>!!a.data.darkColor):t==null?void 0:t.darkTint;const i=this.skeleton.slots;for(let a=0;a<i.length;a++)this.attachmentCacheData[a]=Object.create(null);this._boundsProvider=t.boundsProvider}getSlotFromRef(t){let s;if(typeof t=="number"?s=this.skeleton.slots[t]:typeof t=="string"?s=this.skeleton.findSlot(t):s=t,!s)throw new Error(`No slot found with the given slot reference: ${t}`);return s}get debug(){return this._debug}set debug(t){this._debug&&this._debug.unregisterSpine(this),t&&t.registerSpine(this),this._debug=t}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t?Kn.shared.add(this.internalUpdate,this):Kn.shared.remove(this.internalUpdate,this),this._autoUpdate=t}get boundsProvider(){return this._boundsProvider}set boundsProvider(t){this._boundsProvider=t,t&&(this._boundsDirty=!1),this.updateBounds()}update(t){this.internalUpdate(0,t)}internalUpdate(t,s){this._updateAndApplyState(s??Kn.shared.deltaMS/1e3)}get bounds(){return this._boundsDirty&&this.updateBounds(),this._bounds}setBonePosition(t,s){const i=t;if(typeof t=="string"&&(t=this.skeleton.findBone(t)),!t)throw Error(`Cant set bone position, bone ${String(i)} not found`);if(Hu.set(s.x,s.y),t.parent){const a=t.parent.worldToLocal(Hu);t.x=a.x,t.y=-a.y}else t.x=Hu.x,t.y=Hu.y}getBonePosition(t,s){const i=t;return typeof t=="string"&&(t=this.skeleton.findBone(t)),t?(s||(s={x:0,y:0}),s.x=t.worldX,s.y=t.worldY,s):(console.error(`Cant set bone position! Bone ${String(i)} not found`),s)}_updateAndApplyState(t){this.hasNeverUpdated=!1,this.state.update(t),this.skeleton.update(t);const{skeleton:s}=this;this.state.apply(s),this.beforeUpdateWorldTransforms(this),s.updateWorldTransform(Yi.update),this.afterUpdateWorldTransforms(this),this.updateSlotObjects(),this._stateChanged=!0,this.onViewUpdate()}_validateAndTransformAttachments(){this._stateChanged&&(this._stateChanged=!1,this.validateAttachments(),this.transformAttachments())}validateAttachments(){const t=this.skeleton.drawOrder,s=this._lastAttachments;let i=0,a=!1;for(let o=0;o<t.length;o++){const h=t[o].getAttachment();h&&(h!==s[i]&&(a=!0,s[i]=h),i++)}i!==s.length&&(a=!0,s.length=i),this.spineAttachmentsDirty||(this.spineAttachmentsDirty=a)}updateAndSetPixiMask(t,s){var c,h;const i=t.attachment;if(i&&i instanceof Xi){const u=(c=this.clippingSlotToPixiMasks)[h=t.data.name]||(c[h]={slot:t,vertices:new Array});u.maskComputed=!1,this.currentClippingSlot=this.clippingSlotToPixiMasks[t.data.name];return}let a=this.currentClippingSlot,o=this._slotsObject[t.data.name];if(a&&o){let u=a.slot,d=u.attachment,m=a.mask;if(m||(m=_v.obtain(),a.mask=m,this.addChild(m)),!a.maskComputed){a.maskComputed=!0;const y=d.worldVerticesLength,p=a.vertices;d.computeWorldVertices(u,0,y,p,0,2),m.clear().poly(p).stroke({width:0}).fill({alpha:.25})}o.container.mask=m}else o!=null&&o.container.mask&&(o.container.mask=null);if(a&&a.slot.attachment.endSlot==t.data&&(this.currentClippingSlot=void 0),s){for(const u in this.clippingSlotToPixiMasks){const d=this.clippingSlotToPixiMasks[u];(!(d.slot.attachment instanceof Xi)||!d.maskComputed)&&d.mask&&(this.removeChild(d.mask),_v.free(d.mask),d.mask=void 0)}this.currentClippingSlot=void 0}}transformAttachments(){var s;const t=this.skeleton.drawOrder;for(let i=0;i<t.length;i++){const a=t[i];this.updateAndSetPixiMask(a,i===t.length-1);const o=a.getAttachment();if(o){if(o instanceof Wt||o instanceof wi){const c=this._getCachedData(a,o);o instanceof wi?o.computeWorldVertices(a,c.vertices,0,2):o.computeWorldVertices(a,0,o.worldVerticesLength,c.vertices,0,2),c.uvs.length<o.uvs.length&&(c.uvs=new Float32Array(o.uvs.length)),hg(o.uvs.buffer,c.uvs.buffer);const u=a.bone.skeleton.color,d=a.color,m=o.color;c.color.set(u.r*d.r*m.r,u.g*d.g*m.g,u.b*d.b*m.b,u.a*d.a*m.a),a.darkColor&&c.darkColor.setFromColor(a.darkColor),c.skipRender=c.clipped=!1;const y=((s=o.region)==null?void 0:s.texture.texture)||Ne.EMPTY;c.texture!==y&&(c.texture=y,this.spineTexturesDirty=!0),Xr.isClipping()&&this.updateClippingData(c)}else if(o instanceof Xi){Xr.clipStart(a,o);continue}}Xr.clipEndWithSlot(a)}Xr.clipEnd()}updateClippingData(t){t.clipped=!0,Xr.clipTrianglesUnpacked(t.vertices,t.indices,t.indices.length,t.uvs);const{clippedVertices:s,clippedUVs:i,clippedTriangles:a}=Xr,o=s.length/2,c=a.length;t.clippedData||(t.clippedData={vertices:new Float32Array(o*2),uvs:new Float32Array(o*2),vertexCount:o,indices:new Uint16Array(c),indicesCount:c},this.spineAttachmentsDirty=!0);const h=t.clippedData,u=h.vertexCount!==o||c!==h.indicesCount;t.skipRender=o===0,u&&(this.spineAttachmentsDirty=!0,h.vertexCount<o&&(h.vertices=new Float32Array(o*2),h.uvs=new Float32Array(o*2)),h.indices.length<c&&(h.indices=new Uint16Array(c)));const{vertices:d,uvs:m,indices:y}=h;for(let p=0;p<o;p++)d[p*2]=s[p*2],d[p*2+1]=s[p*2+1],m[p*2]=i[p*2],m[p*2+1]=i[p*2+1];h.vertexCount=o;for(let p=0;p<c;p++)y[p]!==a[p]&&(this.spineAttachmentsDirty=!0,y[p]=a[p]);h.indicesCount=c}updateSlotObjects(){for(const t in this._slotsObject){const s=this._slotsObject[t];s&&this.updateSlotObject(s)}}updateSlotObject(t){const{slot:s,container:i}=t,a=t.followAttachmentTimeline?!!s.attachment:!0;if(i.visible=this.skeleton.drawOrder.includes(s)&&a,i.visible){let o=s.bone;i.position.set(o.worldX,o.worldY),i.angle=o.getWorldRotationX();let c=1,h=1;for(;o;)c*=o.scaleX,h*=o.scaleY,o=o.parent;c<0&&(i.angle-=180),i.scale.set(s.bone.getWorldScaleX()*Math.sign(c),s.bone.getWorldScaleY()*Math.sign(h)),i.alpha=this.skeleton.color.a*s.color.a}}_getCachedData(t,s){return this.attachmentCacheData[t.data.index][s.name]||this.initCachedData(t,s)}initCachedData(t,s){var a,o;let i;return s instanceof wi?(i=new Float32Array(8),this.attachmentCacheData[t.data.index][s.name]={id:`${t.data.index}-${s.name}`,vertices:i,clipped:!1,indices:[0,1,2,0,2,3],uvs:new Float32Array(s.uvs.length),color:new Ce(1,1,1,1),darkColor:new Ce(0,0,0,0),darkTint:this.darkTint,skipRender:!1,texture:(a=s.region)==null?void 0:a.texture.texture}):(i=new Float32Array(s.worldVerticesLength),this.attachmentCacheData[t.data.index][s.name]={id:`${t.data.index}-${s.name}`,vertices:i,clipped:!1,indices:s.triangles,uvs:new Float32Array(s.uvs.length),color:new Ce(1,1,1,1),darkColor:new Ce(0,0,0,0),darkTint:this.darkTint,skipRender:!1,texture:(o=s.region)==null?void 0:o.texture.texture}),this.attachmentCacheData[t.data.index][s.name]}onViewUpdate(){var s;if(this._didViewChangeTick++,this._boundsProvider||(this._boundsDirty=!0),this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this),(s=this.debug)==null||s.renderDebug(this)}addSlotObject(t,s,i){var o;t=this.getSlotFromRef(t);for(const c in this._slotsObject)((o=this._slotsObject[c])==null?void 0:o.container)===s&&this.removeSlotObject(this._slotsObject[c].slot);this.removeSlotObject(t),s.includeInBuild=!1,this.addChild(s);const a={container:s,slot:t,followAttachmentTimeline:(i==null?void 0:i.followAttachmentTimeline)||!1};this._slotsObject[t.data.name]=a,this.updateSlotObject(a)}removeSlotObject(t){var i,a;let s;if(t instanceof qs){for(const o in this._slotsObject)if(((i=this._slotsObject[o])==null?void 0:i.container)===t){this._slotsObject[o]=null,s=t;break}}else{const o=this.getSlotFromRef(t);s=(a=this._slotsObject[o.data.name])==null?void 0:a.container,this._slotsObject[o.data.name]=null}s&&(this.removeChild(s),s.includeInBuild=!0)}removeSlotObjects(){Object.entries(this._slotsObject).forEach(([t,s])=>{s&&s.container.removeFromParent(),delete this._slotsObject[t]})}getSlotObject(t){var s;return t=this.getSlotFromRef(t),(s=this._slotsObject[t.data.name])==null?void 0:s.container}updateBounds(){this._boundsDirty=!1,this.skeletonBounds||(this.skeletonBounds=new dO);const t=this.skeletonBounds;if(t.update(this.skeleton,!0),this._boundsProvider){const s=this._boundsProvider.calculateBounds(this),i=this._bounds;i.clear(),i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height}else if(t.minX===1/0){this.hasNeverUpdated&&(this._updateAndApplyState(0),this._boundsDirty=!1),this._validateAndTransformAttachments();const s=this.skeleton.drawOrder,i=this._bounds;i.clear();for(let a=0;a<s.length;a++){const o=s[a],c=o.getAttachment();if(c&&(c instanceof wi||c instanceof Wt)){const h=this._getCachedData(o,c);i.addVertexData(h.vertices,0,h.vertices.length)}}}else this._bounds.minX=t.minX,this._bounds.minY=t.minY,this._bounds.maxX=t.maxX,this._bounds.maxY=t.maxY}addBounds(t){t.addBounds(this.bounds)}destroy(t=!1){super.destroy(t),Kn.shared.remove(this.internalUpdate,this),this.state.clearListeners(),this.debug=void 0,this.skeleton=null,this.state=null,this._slotsObject=null,this._lastAttachments.length=0,this.attachmentCacheData=null}skeletonToPixiWorldCoordinates(t){this.worldTransform.apply(t,t)}pixiWorldCoordinatesToSkeleton(t){this.worldTransform.applyInverse(t,t)}pixiWorldCoordinatesToBone(t,s){this.pixiWorldCoordinatesToSkeleton(t),s.parent?s.parent.worldToLocal(t):s.worldToLocal(t)}static from({skeleton:t,atlas:s,scale:i=1,darkTint:a,autoUpdate:o=!0,boundsProvider:c}){const h=`${t}-${s}-${i}`;if(et.has(h))return new sc({skeletonData:et.get(h),darkTint:a,autoUpdate:o,boundsProvider:c});const u=Jt.get(t),d=Jt.get(s),m=new kg(d),y=u instanceof Uint8Array?new AS(m):new Dg(m);y.scale=i;const p=y.readSkeletonData(u);return et.set(h,p),new sc({skeletonData:p,darkTint:a,autoUpdate:o,boundsProvider:c})}}const TO=({data:n})=>{const{t:e}=at(),t=n.animations.map(i=>i.blendModeMetrics.score),s=t.sort((i,a)=>i-a)[Math.floor(t.length/2)]||100;return k.jsxs("div",{className:"blend-mode-analysis",children:[k.jsx("h3",{children:e("analysis.blendMode.title")}),k.jsxs("div",{className:"median-score",children:[k.jsxs("h4",{children:["Median Performance Score: ",s.toFixed(1),"%"]}),k.jsx("div",{className:"progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${s}%`,backgroundColor:Ci(s)}})})]}),k.jsx("h4",{children:"Per-Animation Breakdown (Maximum Concurrent)"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Animation"}),k.jsx("th",{children:"Has Blend Modes"}),k.jsx("th",{children:"Max Non-Normal"}),k.jsx("th",{children:"Max Additive"}),k.jsx("th",{children:"Max Multiply"}),k.jsx("th",{children:"Score"})]})}),k.jsx("tbody",{children:n.animations.map(i=>{const a=i.blendModeMetrics,o=a.score<70?"row-warning":a.score<50?"row-danger":"";return k.jsxs("tr",{className:o,children:[k.jsx("td",{children:i.name}),k.jsx("td",{children:i.activeComponents.hasBlendModes?"Yes":"No"}),k.jsx("td",{children:a.activeNonNormalCount}),k.jsx("td",{children:a.activeAdditiveCount}),k.jsx("td",{children:a.activeMultiplyCount}),k.jsx("td",{children:k.jsxs("div",{className:"inline-score",children:[k.jsxs("span",{children:[a.score.toFixed(1),"%"]}),k.jsx("div",{className:"mini-progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${a.score}%`,backgroundColor:Ci(a.score)}})})]})})]},i.name)})})]}),k.jsx(MO,{data:n}),k.jsxs("div",{className:"analysis-notes",children:[k.jsx("h4",{children:e("analysis.blendMode.notes.title")}),k.jsxs("ul",{children:[k.jsxs("li",{children:[k.jsx("strong",{children:"Frame-by-Frame Analysis:"})," Values shown are the maximum number of blend modes visible at any single frame."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Blend Mode Impact:"})," Non-normal blend modes require additional GPU render passes."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Concurrent vs Total:"})," Having 10 blend modes where only 2 are visible at once is much better than having 10 visible simultaneously."]}),k.jsxs("li",{children:[k.jsx("strong",{children:"Optimization:"})," Use normal blend mode when possible, pre-composite effects for static elements."]})]})]})]})},MO=({data:n})=>{const{t:e}=at(),{globalBlendMode:t}=n,{blendModeCounts:s,slotsWithNonNormalBlendMode:i,metrics:a}=t;return i.size===0?null:k.jsxs(k.Fragment,{children:[k.jsx("h4",{children:e("analysis.blendMode.slotsWithNonNormalTitle")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.blendMode.tableHeaders.slotName")}),k.jsx("th",{children:e("analysis.blendMode.tableHeaders.blendMode")})]})}),k.jsx("tbody",{children:Array.from(i.entries()).map(([o,c])=>k.jsxs("tr",{children:[k.jsx("td",{children:o}),k.jsx("td",{children:hs[c]})]},o))})]})]})},kO=({data:n})=>{const{t:e}=at(),t=n.animations.map(i=>i.constraintMetrics.score),s=t.sort((i,a)=>i-a)[Math.floor(t.length/2)]||100;return k.jsxs("div",{className:"physics-analysis",children:[k.jsx("h3",{children:e("analysis.physics.title")}),k.jsxs("div",{className:"median-score",children:[k.jsxs("h4",{children:["Median Performance Score: ",s.toFixed(1),"%"]}),k.jsx("div",{className:"progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${s}%`,backgroundColor:Ci(s)}})})]}),k.jsx("h4",{children:"Per-Animation Breakdown"}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Animation"}),k.jsx("th",{children:"Physics"}),k.jsx("th",{children:"IK"}),k.jsx("th",{children:"Transform"}),k.jsx("th",{children:"Path"}),k.jsx("th",{children:"Total Active"}),k.jsx("th",{children:"Score"})]})}),k.jsx("tbody",{children:n.animations.map(i=>{const a=i.constraintMetrics,o=i.activeComponents.hasPhysics,c=i.activeComponents.hasIK,h=i.activeComponents.hasTransform,u=i.activeComponents.hasPath,d=a.score<70?"row-warning":a.score<50?"row-danger":"";return k.jsxs("tr",{className:d,children:[k.jsx("td",{children:i.name}),k.jsx("td",{children:o?`✓ (${a.activePhysicsCount})`:"-"}),k.jsx("td",{children:c?`✓ (${a.activeIkCount})`:"-"}),k.jsx("td",{children:h?`✓ (${a.activeTransformCount})`:"-"}),k.jsx("td",{children:u?`✓ (${a.activePathCount})`:"-"}),k.jsx("td",{children:a.totalActiveConstraints}),k.jsx("td",{children:k.jsxs("div",{className:"inline-score",children:[k.jsxs("span",{children:[a.score.toFixed(1),"%"]}),k.jsx("div",{className:"mini-progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${a.score}%`,backgroundColor:Ci(a.score)}})})]})})]},i.name)})})]}),k.jsx(EO,{data:n}),k.jsx(RO,{data:n}),k.jsxs("div",{className:"analysis-notes",children:[k.jsx("h4",{children:e("analysis.physics.notes.title")}),k.jsxs("ul",{children:[k.jsxs("li",{children:[k.jsxs("strong",{children:[e("analysis.physics.constraintTypes.ik"),":"]})," ",e("analysis.physics.notes.ikConstraints")]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[e("analysis.physics.constraintTypes.physics"),":"]})," ",e("analysis.physics.notes.physicsConstraints")]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[e("analysis.physics.constraintTypes.path"),":"]})," ",e("analysis.physics.notes.pathConstraints")]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[e("analysis.physics.constraintTypes.transform"),":"]})," ",e("analysis.physics.notes.transformConstraints")]}),k.jsxs("li",{children:[k.jsxs("strong",{children:[e("analysis.physics.notes.recommendation").split(":")[0],":"]})," ",e("analysis.physics.notes.recommendation").split(":")[1]]})]})]})]})},EO=({data:n})=>{const{t:e}=at(),{metrics:t}=n.globalPhysics;return k.jsxs("div",{className:"constraint-summary",children:[k.jsx("h4",{children:e("analysis.physics.impactBreakdown.title")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.physics.impactBreakdown.tableHeaders.constraintType")}),k.jsx("th",{children:e("analysis.physics.impactBreakdown.tableHeaders.count")}),k.jsx("th",{children:e("analysis.physics.impactBreakdown.tableHeaders.impactLevel")}),k.jsx("th",{children:e("analysis.physics.impactBreakdown.tableHeaders.weightedImpact")})]})}),k.jsxs("tbody",{children:[k.jsxs("tr",{className:t.ikImpact>50?"row-warning":"",children:[k.jsx("td",{children:e("analysis.physics.constraintTypes.ik")}),k.jsx("td",{children:t.ikCount}),k.jsxs("td",{children:[t.ikImpact.toFixed(1),"%"]}),k.jsxs("td",{children:[(t.ikImpact*St.IK_WEIGHT).toFixed(1),"%"]})]}),k.jsxs("tr",{className:t.transformImpact>50?"row-warning":"",children:[k.jsx("td",{children:e("analysis.physics.constraintTypes.transform")}),k.jsx("td",{children:t.transformCount}),k.jsxs("td",{children:[t.transformImpact.toFixed(1),"%"]}),k.jsxs("td",{children:[(t.transformImpact*St.TRANSFORM_WEIGHT).toFixed(1),"%"]})]}),k.jsxs("tr",{className:t.pathImpact>50?"row-warning":"",children:[k.jsx("td",{children:e("analysis.physics.constraintTypes.path")}),k.jsx("td",{children:t.pathCount}),k.jsxs("td",{children:[t.pathImpact.toFixed(1),"%"]}),k.jsxs("td",{children:[(t.pathImpact*St.PATH_WEIGHT).toFixed(1),"%"]})]}),k.jsxs("tr",{className:t.physicsImpact>50?"row-warning":"",children:[k.jsx("td",{children:e("analysis.physics.constraintTypes.physics")}),k.jsx("td",{children:t.physicsCount}),k.jsxs("td",{children:[t.physicsImpact.toFixed(1),"%"]}),k.jsxs("td",{children:[(t.physicsImpact*St.PHYSICS_WEIGHT).toFixed(1),"%"]})]})]})]})]})},RO=({data:n})=>{const{t:e}=at(),{ikConstraints:t,transformConstraints:s,pathConstraints:i,physicsConstraints:a}=n.globalPhysics;return n.globalPhysics.metrics.totalConstraints===0?k.jsx("p",{children:e("analysis.physics.noConstraints")}):k.jsxs(k.Fragment,{children:[t.length>0&&k.jsx(DO,{constraints:t}),s.length>0&&k.jsx(PO,{constraints:s}),i.length>0&&k.jsx(BO,{constraints:i}),a.length>0&&k.jsx(OO,{constraints:a})]})},DO=({constraints:n})=>{const{t:e}=at();return k.jsxs("div",{className:"constraint-details",children:[k.jsx("h4",{children:e("analysis.physics.constraintDetails.ikConstraints.title")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.physics.constraintDetails.ikConstraints.tableHeaders.name")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.ikConstraints.tableHeaders.target")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.ikConstraints.tableHeaders.bones")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.ikConstraints.tableHeaders.mix")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.ikConstraints.tableHeaders.status")})]})}),k.jsx("tbody",{children:n.map(t=>{const s=t.bones.length>2?"row-warning":"";return k.jsxs("tr",{className:s,children:[k.jsx("td",{children:t.name}),k.jsx("td",{children:t.target}),k.jsx("td",{children:t.bones.join(", ")}),k.jsx("td",{children:t.mix.toFixed(2)}),k.jsx("td",{children:t.isActive?e("analysis.physics.status.active"):e("analysis.physics.status.inactive")})]},t.name)})})]})]})},PO=({constraints:n})=>{const{t:e}=at();return k.jsxs("div",{className:"constraint-details",children:[k.jsx("h4",{children:e("analysis.physics.constraintDetails.transformConstraints.title")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.physics.constraintDetails.transformConstraints.tableHeaders.name")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.transformConstraints.tableHeaders.target")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.transformConstraints.tableHeaders.bones")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.transformConstraints.tableHeaders.properties")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.transformConstraints.tableHeaders.status")})]})}),k.jsx("tbody",{children:n.map(t=>{const s=[];t.mixRotate>0&&s.push(`${e("analysis.physics.properties.rotate")}: ${t.mixRotate.toFixed(2)}`),t.mixX>0&&s.push(`${e("analysis.physics.properties.x")}: ${t.mixX.toFixed(2)}`),t.mixY>0&&s.push(`${e("analysis.physics.properties.y")}: ${t.mixY.toFixed(2)}`),t.mixScaleX>0&&s.push(`${e("analysis.physics.properties.scaleX")}: ${t.mixScaleX.toFixed(2)}`),t.mixScaleY>0&&s.push(`${e("analysis.physics.properties.scaleY")}: ${t.mixScaleY.toFixed(2)}`),t.mixShearY>0&&s.push(`${e("analysis.physics.properties.shearY")}: ${t.mixShearY.toFixed(2)}`);const i=s.length>3?"row-warning":"";return k.jsxs("tr",{className:i,children:[k.jsx("td",{children:t.name}),k.jsx("td",{children:t.target}),k.jsx("td",{children:t.bones.join(", ")}),k.jsx("td",{children:s.join(", ")}),k.jsx("td",{children:t.isActive?e("analysis.physics.status.active"):e("analysis.physics.status.inactive")})]},t.name)})})]})]})},BO=({constraints:n})=>{const{t:e}=at(),t=i=>{switch(i){case 0:return e("analysis.physics.modes.rotate.tangent");case 1:return e("analysis.physics.modes.rotate.chain");case 2:return e("analysis.physics.modes.rotate.chainScale");default:return`Unknown (${i})`}},s=i=>{switch(i){case 0:return e("analysis.physics.modes.spacing.length");case 1:return e("analysis.physics.modes.spacing.fixed");case 2:return e("analysis.physics.modes.spacing.percent");case 3:return e("analysis.physics.modes.spacing.proportional");default:return`Unknown (${i})`}};return k.jsxs("div",{className:"constraint-details",children:[k.jsx("h4",{children:e("analysis.physics.constraintDetails.pathConstraints.title")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.physics.constraintDetails.pathConstraints.tableHeaders.name")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.pathConstraints.tableHeaders.target")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.pathConstraints.tableHeaders.bones")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.pathConstraints.tableHeaders.modes")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.pathConstraints.tableHeaders.status")})]})}),k.jsx("tbody",{children:n.map(i=>{const a=i.rotateMode===2||i.bones.length>3?"row-warning":"";return k.jsxs("tr",{className:a,children:[k.jsx("td",{children:i.name}),k.jsx("td",{children:i.target}),k.jsx("td",{children:i.bones.join(", ")}),k.jsxs("td",{children:[e("analysis.physics.properties.rotate"),": ",t(i.rotateMode),", Spacing: ",s(i.spacingMode)]}),k.jsx("td",{children:i.isActive?e("analysis.physics.status.active"):e("analysis.physics.status.inactive")})]},i.name)})})]})]})},OO=({constraints:n})=>{const{t:e}=at();return k.jsxs("div",{className:"constraint-details",children:[k.jsx("h4",{children:e("analysis.physics.constraintDetails.physicsConstraints.title")}),k.jsxs("table",{className:"benchmark-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:e("analysis.physics.constraintDetails.physicsConstraints.tableHeaders.name")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.physicsConstraints.tableHeaders.bone")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.physicsConstraints.tableHeaders.properties")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.physicsConstraints.tableHeaders.parameters")}),k.jsx("th",{children:e("analysis.physics.constraintDetails.physicsConstraints.tableHeaders.status")})]})}),k.jsx("tbody",{children:n.map(t=>{const s=[];t.affectsX&&s.push(e("analysis.physics.properties.x")),t.affectsY&&s.push(e("analysis.physics.properties.y")),t.affectsRotation&&s.push(e("analysis.physics.properties.rotation")),t.affectsScale&&s.push(e("analysis.physics.properties.scale")),t.affectsShear&&s.push(e("analysis.physics.properties.shear"));const i=[`${e("analysis.physics.parameters.inertia")}: ${t.inertia.toFixed(2)}`,`${e("analysis.physics.parameters.strength")}: ${t.strength.toFixed(2)}`,`${e("analysis.physics.parameters.damping")}: ${t.damping.toFixed(2)}`];t.wind!==0&&i.push(`${e("analysis.physics.parameters.wind")}: ${t.wind.toFixed(2)}`),t.gravity!==0&&i.push(`${e("analysis.physics.parameters.gravity")}: ${t.gravity.toFixed(2)}`);const a=s.length>2?"row-warning":"";return k.jsxs("tr",{className:a,children:[k.jsx("td",{children:t.name}),k.jsx("td",{children:t.bone}),k.jsx("td",{children:s.join(", ")}),k.jsx("td",{children:i.join(", ")}),k.jsx("td",{children:t.isActive?e("analysis.physics.status.active"):e("analysis.physics.status.inactive")})]},t.name)})})]})]})},NO=({data:n})=>{const{t:e}=at(),{skeleton:t}=n,{boneTree:s,metrics:i}=t;return k.jsxs("div",{className:"skeleton-tree-container",children:[k.jsx("h3",{children:e("analysis.skeleton.title")}),k.jsx("p",{children:e("analysis.skeleton.statistics.totalBones",{count:i.totalBones})}),k.jsx("p",{children:e("analysis.skeleton.statistics.rootBones",{count:i.rootBones})}),k.jsx("p",{children:e("analysis.skeleton.statistics.maxDepth",{depth:i.maxDepth})}),k.jsxs("div",{className:"performance-score",children:[k.jsx("h4",{children:e("analysis.skeleton.performanceScore.title",{score:i.score.toFixed(1)})}),k.jsx("div",{className:"progress-bar",children:k.jsx("div",{className:"progress-fill",style:{width:`${i.score}%`,backgroundColor:Ci(i.score)}})})]}),k.jsxs("div",{className:"analysis-metrics",children:[k.jsx("p",{children:k.jsx("strong",{children:e("analysis.skeleton.formula.title")})}),k.jsx("code",{children:e("analysis.skeleton.formula.description",{idealBoneCount:St.IDEAL_BONE_COUNT,depthFactor:St.BONE_DEPTH_FACTOR})})]}),k.jsx("div",{className:"tree-view",children:k.jsx(MS,{nodes:s})}),k.jsxs("div",{className:"analysis-notes",children:[k.jsx("h4",{children:e("analysis.skeleton.notes.title")}),k.jsxs("ul",{children:[k.jsx("li",{children:k.jsx("strong",{children:e("analysis.skeleton.notes.boneCount")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.skeleton.notes.hierarchyDepth")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.skeleton.notes.recommendation")})}),k.jsx("li",{children:k.jsx("strong",{children:e("analysis.skeleton.notes.optimalStructure")})})]})]})]})},MS=({nodes:n})=>{const{t:e}=at();return n.length===0?null:k.jsx("ul",{className:"skeleton-tree",children:n.map(t=>k.jsxs("li",{className:"tree-node",children:[k.jsx("span",{className:"node-label",children:e("analysis.skeleton.nodeLabel",{name:t.name,x:t.x,y:t.y})}),t.children&&t.children.length>0&&k.jsx(MS,{nodes:t.children})]},t.name))})},LO=({data:n,onClose:e})=>{const{t}=at(),[s,i]=Z.useState("summary"),{updateHash:a,getStateFromHash:o}=up();Z.useEffect(()=>{const d=o();d.benchmarkTab&&i(d.benchmarkTab)},[o]),Z.useEffect(()=>{a({benchmarkInfo:!0,benchmarkTab:s})},[s,a]);const c=document.getElementById("info-panel-container")||(()=>{const d=document.createElement("div");return d.id="info-panel-container",document.body.appendChild(d),d})(),h=[{id:"summary",label:t("infoPanel.tabs.summary")},{id:"meshAnalysis",label:t("infoPanel.tabs.meshAnalysis")},{id:"clippingAnalysis",label:t("infoPanel.tabs.clipping")},{id:"blendModeAnalysis",label:t("infoPanel.tabs.blendModes")},{id:"physicsAnalysis",label:t("infoPanel.tabs.physicsAnalysis")},{id:"skeletonTree",label:t("infoPanel.tabs.skeletonTree")}],u=()=>{switch(s){case"summary":return k.jsx(u3,{data:n});case"meshAnalysis":return k.jsx(p3,{data:n});case"clippingAnalysis":return k.jsx(x3,{data:n});case"blendModeAnalysis":return k.jsx(TO,{data:n});case"physicsAnalysis":return k.jsx(kO,{data:n});case"skeletonTree":return k.jsx(NO,{data:n});default:return k.jsx("div",{children:t("infoPanel.content.selectTab")})}};return nP.createPortal(k.jsx("div",{className:"info-panel-backdrop",children:k.jsxs("div",{className:"info-panel",children:[k.jsxs("div",{className:"info-panel-header",children:[k.jsx("h2",{children:t("infoPanel.title")}),k.jsx(Wr,{icon:k.jsx(eP,{}),onClick:e,tooltip:t("infoPanel.close")})]}),k.jsx("div",{className:"info-panel-tabs",children:h.map(d=>k.jsx("button",{className:`tab-button ${s===d.id?"active":""}`,onClick:()=>{i(d.id),a({benchmarkInfo:!0,benchmarkTab:d.id})},children:d.label},d.id))}),k.jsx("div",{className:"info-panel-content",children:k.jsx("div",{className:"tab-content",children:u()})})]})}),c)},kS=["shift","alt","meta","mod","ctrl","control"],IO={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ta(n){return(IO[n.trim()]||n.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function ES(n){return kS.includes(n)}function jm(n,e=","){return n.toLowerCase().split(e)}function Ym(n,e="+",t=">",s=!1,i){let a=[],o=!1;n.includes(t)?(o=!0,a=n.toLocaleLowerCase().split(t).map(u=>ta(u))):a=n.toLocaleLowerCase().split(e).map(u=>ta(u));const c={alt:a.includes("alt"),ctrl:a.includes("ctrl")||a.includes("control"),shift:a.includes("shift"),meta:a.includes("meta"),mod:a.includes("mod"),useKey:s},h=a.filter(u=>!kS.includes(u));return{...c,keys:h,description:i,isSequence:o}}typeof document<"u"&&(document.addEventListener("keydown",n=>{n.code!==void 0&&RS([ta(n.code)])}),document.addEventListener("keyup",n=>{n.code!==void 0&&DS([ta(n.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{yn.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{yn.clear()},0)}));const yn=new Set;function bp(n){return Array.isArray(n)}function zO(n,e=","){return(bp(n)?n:n.split(e)).every(t=>yn.has(t.trim().toLowerCase()))}function RS(n){const e=Array.isArray(n)?n:[n];yn.has("meta")&&yn.forEach(t=>!ES(t)&&yn.delete(t.toLowerCase())),e.forEach(t=>yn.add(t.toLowerCase()))}function DS(n){const e=Array.isArray(n)?n:[n];n==="meta"?yn.clear():e.forEach(t=>yn.delete(t.toLowerCase()))}function FO(n,e,t){(typeof t=="function"&&t(n,e)||t===!0)&&n.preventDefault()}function jO(n,e,t){return typeof t=="function"?t(n,e):t===!0||t===void 0}function YO(n){return PS(n,["input","textarea","select"])}function PS(n,e=!1){const{target:t,composed:s}=n;let i;return UO(t)&&s?i=n.composedPath()[0]&&n.composedPath()[0].tagName:i=t&&t.tagName,bp(e)?!!(i&&e&&e.some(a=>a.toLowerCase()===i.toLowerCase())):!!(i&&e&&e)}function UO(n){return!!n.tagName&&!n.tagName.startsWith("-")&&n.tagName.includes("-")}function VO(n,e){return n.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?n.some(t=>e.includes(t))||n.includes("*"):!0}const HO=(n,e,t=!1)=>{const{alt:s,meta:i,mod:a,shift:o,ctrl:c,keys:h,useKey:u}=e,{code:d,key:m,ctrlKey:y,metaKey:p,shiftKey:x,altKey:v}=n,_=ta(d);if(u&&(h==null?void 0:h.length)===1&&h.includes(m))return!0;if(!(h!=null&&h.includes(_))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!t){if(s!==v&&_!=="alt"||o!==x&&_!=="shift")return!1;if(a){if(!p&&!y)return!1}else if(i!==p&&_!=="meta"&&_!=="os"||c!==y&&_!=="ctrl"&&_!=="control")return!1}return h&&h.length===1&&h.includes(_)?!0:h?zO(h):!h},XO=Z.createContext(void 0),GO=()=>Z.useContext(XO);function BS(n,e){return n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(n).length===Object.keys(e).length&&Object.keys(n).reduce((t,s)=>t&&BS(n[s],e[s]),!0):n===e}const qO=Z.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),WO=()=>Z.useContext(qO);function $O(n){const e=Z.useRef(void 0);return BS(e.current,n)||(e.current=n),e.current}const wv=n=>{n.stopPropagation(),n.preventDefault(),n.stopImmediatePropagation()},KO=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function kl(n,e,t,s){const i=Z.useRef(null),a=Z.useRef(!1),o=t instanceof Array?s instanceof Array?void 0:s:t,c=bp(n)?n.join(o==null?void 0:o.delimiter):n,h=t instanceof Array?t:s instanceof Array?s:void 0,u=Z.useCallback(e,h??[]),d=Z.useRef(u);h?d.current=u:d.current=e;const m=$O(o),{activeScopes:y}=WO(),p=GO();return KO(()=>{if((m==null?void 0:m.enabled)===!1||!VO(y,m==null?void 0:m.scopes))return;let x=[],v;const _=(T,R=!1)=>{var E;if(!(YO(T)&&!PS(T,m==null?void 0:m.enableOnFormTags))){if(i.current!==null){const D=i.current.getRootNode();if((D instanceof Document||D instanceof ShadowRoot)&&D.activeElement!==i.current&&!i.current.contains(D.activeElement)){wv(T);return}}(E=T.target)!=null&&E.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||jm(c,m==null?void 0:m.delimiter).forEach(D=>{var B,O,L,z;if(D.includes((m==null?void 0:m.splitKey)??"+")&&D.includes((m==null?void 0:m.sequenceSplitKey)??">")){console.warn(`Hotkey ${D} contains both ${(m==null?void 0:m.splitKey)??"+"} and ${(m==null?void 0:m.sequenceSplitKey)??">"} which is not supported.`);return}const H=Ym(D,m==null?void 0:m.splitKey,m==null?void 0:m.sequenceSplitKey,m==null?void 0:m.useKey,m==null?void 0:m.description);if(H.isSequence){v=setTimeout(()=>{x=[]},(m==null?void 0:m.sequenceTimeoutMs)??1e3);const X=H.useKey?T.key:ta(T.code);if(ES(X.toLowerCase()))return;x.push(X);const j=(B=H.keys)==null?void 0:B[x.length-1];if(X!==j){x=[],v&&clearTimeout(v);return}x.length===((O=H.keys)==null?void 0:O.length)&&(d.current(T,H),v&&clearTimeout(v),x=[])}else if(HO(T,H,m==null?void 0:m.ignoreModifiers)||(L=H.keys)!=null&&L.includes("*")){if((z=m==null?void 0:m.ignoreEventWhen)!=null&&z.call(m,T)||R&&a.current)return;if(FO(T,H,m==null?void 0:m.preventDefault),!jO(T,H,m==null?void 0:m.enabled)){wv(T);return}d.current(T,H),R||(a.current=!0)}})}},A=T=>{T.code!==void 0&&(RS(ta(T.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&_(T))},S=T=>{T.code!==void 0&&(DS(ta(T.code)),a.current=!1,m!=null&&m.keyup&&_(T,!0))},w=i.current||(o==null?void 0:o.document)||document;return w.addEventListener("keyup",S,o==null?void 0:o.eventListenerOptions),w.addEventListener("keydown",A,o==null?void 0:o.eventListenerOptions),p&&jm(c,m==null?void 0:m.delimiter).forEach(T=>p.addHotkey(Ym(T,m==null?void 0:m.splitKey,m==null?void 0:m.sequenceSplitKey,m==null?void 0:m.useKey,m==null?void 0:m.description))),()=>{w.removeEventListener("keyup",S,o==null?void 0:o.eventListenerOptions),w.removeEventListener("keydown",A,o==null?void 0:o.eventListenerOptions),p&&jm(c,m==null?void 0:m.delimiter).forEach(T=>p.removeHotkey(Ym(T,m==null?void 0:m.splitKey,m==null?void 0:m.sequenceSplitKey,m==null?void 0:m.useKey,m==null?void 0:m.description))),x=[],v&&clearTimeout(v)}},[c,m,y]),i}class QO{constructor(){M(this,"commands",new Map);M(this,"recentCommands",[]);M(this,"maxRecentCommands",10)}register(e){this.commands.set(e.id,e)}unregister(e){this.commands.delete(e)}getCommand(e){return this.commands.get(e)}getAllCommands(){return Array.from(this.commands.values())}getCommandsByCategory(e){return Array.from(this.commands.values()).filter(t=>t.category===e)}getRecentCommands(){return this.recentCommands.map(e=>this.commands.get(e)).filter(e=>e!==void 0)}executeCommand(e){const t=this.commands.get(e);if(t){this.addToRecent(e);try{t.execute()}catch(s){console.error("Command execution failed:",s)}}}addToRecent(e){const t=this.recentCommands.indexOf(e);t!==-1&&this.recentCommands.splice(t,1),this.recentCommands.unshift(e),this.recentCommands.length>this.maxRecentCommands&&(this.recentCommands=this.recentCommands.slice(0,this.maxRecentCommands)),this.saveRecentCommands()}saveRecentCommands(){try{localStorage.setItem("spine-benchmark-recent-commands",JSON.stringify(this.recentCommands))}catch(e){console.warn("Failed to save recent commands to localStorage:",e)}}loadRecentCommands(){try{const e=localStorage.getItem("spine-benchmark-recent-commands");e&&(this.recentCommands=JSON.parse(e))}catch(e){console.warn("Failed to load recent commands from localStorage:",e),this.recentCommands=[]}}search(e){if(!e.trim())return this.getAllCommands();const t=e.toLowerCase();return Array.from(this.commands.values()).filter(s=>{var c,h;const i=s.title.toLowerCase().includes(t),a=((c=s.description)==null?void 0:c.toLowerCase().includes(t))||!1,o=((h=s.keywords)==null?void 0:h.some(u=>u.toLowerCase().includes(t)))||!1;return i||a||o})}getGroupedCommands(e,t){const s=e?this.search(e):this.getAllCommands(),i=this.getRecentCommands();return[{id:"recently-used",title:t?t("commands.categories.recentlyUsed"):"Recently Used",commands:e?i.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())):i},{id:"file",title:t?t("commands.categories.file"):"File Commands",commands:s.filter(o=>o.category==="file")},{id:"debug",title:t?t("commands.categories.debug"):"Debug Commands",commands:s.filter(o=>o.category==="debug")},{id:"animation",title:t?t("commands.categories.animation"):"Animation Commands",commands:s.filter(o=>o.category==="animation")},{id:"skin",title:t?t("commands.categories.skin"):"Skin Commands",commands:s.filter(o=>o.category==="skin")},{id:"performance",title:t?t("commands.categories.performance"):"Performance Commands",commands:s.filter(o=>o.category==="performance")},{id:"language",title:t?t("commands.categories.language"):"Language Commands",commands:s.filter(o=>o.category==="language")}].filter(o=>o.commands.length>0)}}const Ve=new QO;function ZO(){const{t:n}=at(),[e,t]=Z.useState(!1),[s,i]=Z.useState(""),[a,o]=Z.useState(0),{updateHash:c,getStateFromHash:h,onHashChange:u}=up();Z.useEffect(()=>{Ve.loadRecentCommands(),h().commandPalette&&t(!0)},[h]),Z.useEffect(()=>u(T=>{t(T.commandPalette),T.commandPalette||(i(""),o(0))}),[u]);const d=Z.useCallback(()=>{console.log("🎯 Opening command palette"),t(!0),i(""),o(0),c({commandPalette:!0})},[c]),m=Z.useCallback(()=>{console.log("🚪 Closing command palette"),t(!1),i(""),o(0),c({commandPalette:!1})},[c]),y=Ve.getGroupedCommands(s,n),p=y.reduce((w,T)=>[...w,...T.commands],[]),x=p.length,v=Z.useCallback(()=>{o(w=>(w+1)%Math.max(1,x))},[x]),_=Z.useCallback(()=>{o(w=>w===0?Math.max(0,x-1):w-1)},[x]),A=Z.useCallback(()=>{p[a]&&(Ve.executeCommand(p[a].id),m())},[p,a,m]),S=Z.useCallback(w=>{console.log("🎮 Command palette executing command:",w),Ve.executeCommand(w),m()},[m]);return Z.useEffect(()=>{o(0)},[s]),kl("ctrl+k,cmd+k",w=>{w.preventDefault(),console.log("⌨️ Ctrl+K pressed, palette open:",e),e?m():d()},{enableOnFormTags:!0}),kl("escape",()=>{e&&m()},{enableOnFormTags:!0,enabled:e}),kl("enter",()=>{e&&A()},{enableOnFormTags:!0,enabled:e}),kl("arrowdown",w=>{e&&(w.preventDefault(),v())},{enableOnFormTags:!0,enabled:e}),kl("arrowup",w=>{e&&(w.preventDefault(),_())},{enableOnFormTags:!0,enabled:e}),{isOpen:e,query:s,selectedIndex:a,groupedCommands:y,totalCommands:x,openPalette:d,closePalette:m,setQuery:i,selectNext:v,selectPrevious:_,executeSelected:A,executeCommand:S}}const JO=({command:n,isSelected:e,onClick:t})=>k.jsxs("div",{className:`command-item ${e?"selected":""}`,onClick:t,role:"option","aria-selected":e,children:[k.jsxs("div",{className:"command-content",children:[k.jsx("div",{className:"command-title",children:n.title}),n.description&&k.jsx("div",{className:"command-description",children:n.description})]}),n.category&&k.jsx("div",{className:"command-category",children:n.category})]}),eN=({category:n,selectedIndex:e,flatCommandsBeforeCategory:t,onCommandClick:s})=>k.jsxs("div",{className:"command-category-section",children:[k.jsx("div",{className:"command-category-header",children:n.title}),k.jsx("div",{className:"command-category-items",children:n.commands.map((i,a)=>{const o=t+a;return k.jsx(JO,{command:i,isSelected:e===o,onClick:()=>s(i.id)},i.id)})})]}),tN=()=>{const{t:n}=at(),{isOpen:e,query:t,selectedIndex:s,groupedCommands:i,totalCommands:a,closePalette:o,setQuery:c,executeCommand:h}=ZO(),u=Z.useRef(null);Z.useEffect(()=>{e&&u.current&&u.current.focus()},[e]),Z.useEffect(()=>{const x=document.querySelector(".command-item.selected");x&&x.scrollIntoView({behavior:"smooth",block:"nearest"})},[s]);const d=x=>{c(x.target.value)},m=x=>{h(x)};let y=0;const p=i.map(x=>{const v=y;return y+=x.commands.length,{category:x,startIndex:v}});return e?k.jsx("div",{className:"command-palette-backdrop",onClick:o,children:k.jsxs("div",{className:"command-palette-content",onClick:x=>x.stopPropagation(),children:[k.jsx("div",{className:"command-palette-header",children:k.jsx("input",{ref:u,type:"text",value:t,onChange:d,placeholder:n("commandPalette.placeholder"),className:"command-palette-input",autoComplete:"off",spellCheck:!1})}),k.jsx("div",{className:"command-palette-body",children:a===0?k.jsxs("div",{className:"command-palette-empty",children:[k.jsx("div",{className:"empty-message",children:n("commandPalette.noCommands")}),k.jsx("div",{className:"empty-hint",children:n("commandPalette.tryDifferent")})]}):k.jsx("div",{className:"command-palette-results",role:"listbox",children:p.map(({category:x,startIndex:v})=>k.jsx(eN,{category:x,selectedIndex:s,flatCommandsBeforeCategory:v,onCommandClick:m},x.id))})}),k.jsx("div",{className:"command-palette-footer",children:k.jsxs("div",{className:"command-palette-shortcuts",children:[k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"↑"}),k.jsx("kbd",{children:"↓"})," ",n("commandPalette.shortcuts.navigate")]}),k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"Enter"})," ",n("commandPalette.shortcuts.select")]}),k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"Esc"})," ",n("commandPalette.shortcuts.close")]})]})})]})}):null},sN=({appVersion:n,spineVersion:e})=>k.jsxs("div",{className:"version-display",children:[k.jsxs("div",{className:"version-line",children:["v",n]}),k.jsxs("div",{className:"version-line",children:["Spine ",e]})]}),Sv=[{code:"en",name:"English"},{code:"ru",name:"Русский"},{code:"zh",name:"繁體中文"},{code:"uk",name:"Українська"},{code:"fr",name:"Français"},{code:"de",name:"Deutsch"},{code:"pt",name:"Português (Brasil)"},{code:"es",name:"Español"}],iN=({isOpen:n,onClose:e})=>{const{i18n:t,t:s}=at(),i=Z.useRef(null),a=Z.useRef(null);console.log("🌐 LanguageModal render:",{isOpen:n,currentLanguage:t.language}),Z.useEffect(()=>{n&&a.current&&(console.log("🎯 Focusing first language option"),a.current.focus())},[n]),Z.useEffect(()=>{const h=u=>{var d;if(n){if(u.key==="Escape"){e();return}if(u.key==="ArrowDown"||u.key==="ArrowUp"){u.preventDefault();const m=(d=i.current)==null?void 0:d.querySelectorAll(".language-option");if(!m.length)return;const y=Array.from(m).findIndex(x=>x===document.activeElement);let p;u.key==="ArrowDown"?p=y<m.length-1?y+1:0:p=y>0?y-1:m.length-1,m[p].focus()}if(u.key==="Enter"||u.key===" "){const m=document.activeElement;m!=null&&m.classList.contains("language-option")&&(u.preventDefault(),m.click())}}};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n,e]);const o=h=>{console.log("🔄 Language change requested:",{from:t.language,to:h}),t.changeLanguage(h),console.log("✅ Language changed, closing modal"),e()},c=h=>{h.target===h.currentTarget&&(console.log("🖱️ Modal backdrop clicked - closing modal"),e())};return n?(console.log("🎨 Rendering language modal with languages:",Sv.map(h=>h.code)),k.jsx("div",{className:"language-modal-backdrop",onClick:c,children:k.jsxs("div",{className:"language-modal-content",ref:i,children:[k.jsxs("div",{className:"language-modal-header",children:[k.jsx("h2",{className:"language-modal-title",children:s("language.modal.title","Select Language")}),k.jsx("button",{className:"language-modal-close",onClick:e,"aria-label":s("ui.close"),children:"×"})]}),k.jsx("div",{className:"language-modal-body",children:k.jsx("div",{className:"language-options",children:Sv.map((h,u)=>k.jsxs("button",{ref:u===0?a:void 0,className:`language-option ${t.language===h.code?"current":""}`,onClick:()=>o(h.code),"aria-label":s("commands.language.switchTo",{0:h.name}),children:[k.jsx("span",{className:"language-name",children:h.name}),t.language===h.code&&k.jsx("span",{className:"language-current-indicator",children:"✓"})]},h.code))})}),k.jsx("div",{className:"language-modal-footer",children:k.jsxs("div",{className:"language-modal-shortcuts",children:[k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"↑"}),k.jsx("kbd",{children:"↓"})," ",s("commandPalette.shortcuts.navigate")]}),k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"Enter"})," ",s("commandPalette.shortcuts.select")]}),k.jsxs("span",{className:"shortcut",children:[k.jsx("kbd",{children:"Esc"})," ",s("commandPalette.shortcuts.close")]})]})})]})})):(console.log("🚫 Modal not open - returning null"),null)},nN=(n,e,t)=>{const[s,i]=Z.useState(!1),[a,o]=Z.useState(0),[c,h]=Z.useState(null),[u,d]=Z.useState("");Z.useEffect(()=>{const y=n!==null&&!e;i(y),y&&o(0)},[n,e]),Z.useEffect(()=>{if(!s||a>=2)return;const y=setTimeout(()=>{o(p=>p+1)},500);return()=>clearTimeout(y)},[s,a]),Z.useEffect(()=>{if(n){const y=n.medianScore;h(y),y!==null?y<=30?d("poor"):y<=70?d("fair"):d("good"):d("")}else h(null),d("")},[n]);const m=Z.useCallback(()=>{t(!0)},[t]);return{isVisible:s,shouldPulsate:s&&a<2,score:c,scoreClass:u,handleClick:m}},aN=({benchmarkData:n,showBenchmark:e,setShowBenchmark:t})=>{const{isVisible:s,shouldPulsate:i,score:a,scoreClass:o,handleClick:c}=nN(n,e,t),[h,u]=Z.useState(!1);return Z.useEffect(()=>{if(i){u(!0);const d=setTimeout(()=>{u(!1)},500);return()=>clearTimeout(d)}},[i]),!s||a===null?null:k.jsx("div",{className:`benchmark-panel ${h?"pulsate":""}`,onClick:c,role:"button","aria-label":"Open benchmark information",tabIndex:0,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c())},children:k.jsx("div",{className:`benchmark-score ${o}`,children:Math.round(a)})})},OS=Z.createContext(void 0),Xu={position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"},rN=({children:n})=>{const e=(t,s="info")=>{switch(s){case"success":Ge.success(t,Xu);break;case"warning":Ge.warning(t,Xu);break;case"error":Ge.error(t,Xu);break;case"info":default:Ge.info(t,Xu)}};return k.jsx(OS.Provider,{value:{addToast:e},children:n})},mc=()=>{const n=Z.useContext(OS);if(n===void 0)throw new Error("useToast must be used within a ToastProvider");return n};function oN(n,e){const[t,s]=Z.useState(e),i=()=>{try{const o="__test__";return localStorage.setItem(o,o),localStorage.removeItem(o),!0}catch{return!1}};return Z.useEffect(()=>{try{if(!i())return;const o=localStorage.getItem(n);o!==null&&s(JSON.parse(o))}catch(o){console.warn(`Error reading localStorage key "${n}":`,o)}},[n]),[t,o=>{try{const c=o instanceof Function?o(t):o;s(c),i()&&localStorage.setItem(n,JSON.stringify(c))}catch(c){console.warn(`Error setting localStorage key "${n}":`,c)}}]}function gn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Xs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ho={duration:.5,overwrite:!1,delay:0},vp,ss,ft,qi=1e8,ds=1/qi,Bg=Math.PI*2,lN=Bg/4,cN=0,LS=Math.sqrt,uN=Math.cos,hN=Math.sin,$t=function(e){return typeof e=="string"},Ct=function(e){return typeof e=="function"},Sn=function(e){return typeof e=="number"},_p=function(e){return typeof e>"u"},Wi=function(e){return typeof e=="object"},As=function(e){return e!==!1},wp=function(){return typeof window<"u"},Gu=function(e){return Ct(e)||$t(e)},IS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},fs=Array.isArray,Og=/(?:-?\.?\d|\.)+/gi,zS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Qr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Um=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,FS=/[+-]=-?[.\d]+/,jS=/[^,'"\[\]\s]+/gi,dN=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,pt,ji,Ng,Sp,Ws={},yh={},YS,US=function(e){return(yh=fo(e,Ws))&&Es},Cp=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ic=function(e,t){return!t&&console.warn(e)},VS=function(e,t){return e&&(Ws[e]=t)&&yh&&(yh[e]=t)||Ws},nc=function(){return 0},fN={suppressEvents:!0,isStart:!0,kill:!1},Ku={suppressEvents:!0,kill:!1},mN={suppressEvents:!0},Ap={},sa=[],Lg={},HS,Us={},Vm={},Cv=30,Qu=[],Tp="",Mp=function(e){var t=e[0],s,i;if(Wi(t)||Ct(t)||(e=[e]),!(s=(t._gsap||{}).harness)){for(i=Qu.length;i--&&!Qu[i].targetTest(t););s=Qu[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new mC(e[i],s)))||e.splice(i,1);return e},Ua=function(e){return e._gsap||Mp(ci(e))[0]._gsap},XS=function(e,t,s){return(s=e[t])&&Ct(s)?e[t]():_p(s)&&e.getAttribute&&e.getAttribute(t)||s},Ts=function(e,t){return(e=e.split(",")).forEach(t)||e},Et=function(e){return Math.round(e*1e5)/1e5||0},Nt=function(e){return Math.round(e*1e7)/1e7||0},no=function(e,t){var s=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),s==="+"?e+i:s==="-"?e-i:s==="*"?e*i:e/i},gN=function(e,t){for(var s=t.length,i=0;e.indexOf(t[i])<0&&++i<s;);return i<s},xh=function(){var e=sa.length,t=sa.slice(0),s,i;for(Lg={},sa.length=0,s=0;s<e;s++)i=t[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},kp=function(e){return!!(e._initted||e._startAt||e.add)},GS=function(e,t,s,i){sa.length&&!ss&&xh(),e.render(t,s,!!(ss&&t<0&&kp(e))),sa.length&&!ss&&xh()},qS=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(jS).length<2?t:$t(e)?e.trim():e},WS=function(e){return e},$s=function(e,t){for(var s in t)s in e||(e[s]=t[s]);return e},pN=function(e){return function(t,s){for(var i in s)i in t||i==="duration"&&e||i==="ease"||(t[i]=s[i])}},fo=function(e,t){for(var s in t)e[s]=t[s];return e},Av=function n(e,t){for(var s in t)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Wi(t[s])?n(e[s]||(e[s]={}),t[s]):t[s]);return e},bh=function(e,t){var s={},i;for(i in e)i in t||(s[i]=e[i]);return s},Ul=function(e){var t=e.parent||pt,s=e.keyframes?pN(fs(e.keyframes)):$s;if(As(e.inherit))for(;t;)s(e,t.vars.defaults),t=t.parent||t._dp;return e},yN=function(e,t){for(var s=e.length,i=s===t.length;i&&s--&&e[s]===t[s];);return s<0},$S=function(e,t,s,i,a){var o=e[i],c;if(a)for(c=t[a];o&&o[a]>c;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[s],e[s]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Yh=function(e,t,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var a=t._prev,o=t._next;a?a._next=o:e[s]===t&&(e[s]=o),o?o._prev=a:e[i]===t&&(e[i]=a),t._next=t._prev=t.parent=null},na=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Va=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},xN=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ig=function(e,t,s,i){return e._startAt&&(ss?e._startAt.revert(Ku):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},bN=function n(e){return!e||e._ts&&n(e.parent)},Tv=function(e){return e._repeat?mo(e._tTime,e=e.duration()+e._rDelay)*e:0},mo=function(e,t){var s=Math.floor(e=Nt(e/t));return e&&s===e?s-1:s},vh=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Uh=function(e){return e._end=Nt(e._start+(e._tDur/Math.abs(e._ts||e._rts||ds)||0))},Vh=function(e,t){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=Nt(s._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Uh(e),s._dirty||Va(s,e)),e},KS=function(e,t){var s;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(s=vh(e.rawTime(),t),(!t._dur||gc(0,t.totalDuration(),s)-t._tTime>ds)&&t.render(s,!0)),Va(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-1e-8}},Ui=function(e,t,s,i){return t.parent&&na(t),t._start=Nt((Sn(s)?s:s||e!==pt?ai(e,s,t):e._time)+t._delay),t._end=Nt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),$S(e,t,"_first","_last",e._sort?"_start":0),zg(t)||(e._recent=t),i||KS(e,t),e._ts<0&&Vh(e,e._tTime),e},QS=function(e,t){return(Ws.ScrollTrigger||Cp("scrollTrigger",t))&&Ws.ScrollTrigger.create(t,e)},ZS=function(e,t,s,i,a){if(Rp(e,t,a),!e._initted)return 1;if(!s&&e._pt&&!ss&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&HS!==Vs.frame)return sa.push(e),e._lazy=[a,i],1},vN=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},zg=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_N=function(e,t,s,i){var a=e.ratio,o=t<0||!t&&(!e._start&&vN(e)&&!(!e._initted&&zg(e))||(e._ts<0||e._dp._ts<0)&&!zg(e))?0:1,c=e._rDelay,h=0,u,d,m;if(c&&e._repeat&&(h=gc(0,e._tDur,t),d=mo(h,c),e._yoyo&&d&1&&(o=1-o),d!==mo(e._tTime,c)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||ss||i||e._zTime===ds||!t&&e._zTime){if(!e._initted&&ZS(e,t,i,s,h))return;for(m=e._zTime,e._zTime=t||(s?ds:0),s||(s=t&&!m),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=h,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&Ig(e,t,s,!0),e._onUpdate&&!s&&Hs(e,"onUpdate"),h&&e._repeat&&!s&&e.parent&&Hs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&na(e,1),!s&&!ss&&(Hs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},wN=function(e,t,s){var i;if(s>t)for(i=e._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},go=function(e,t,s,i){var a=e._repeat,o=Nt(t)||0,c=e._tTime/e._tDur;return c&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Nt(o*(a+1)+e._rDelay*a):o,c>0&&!i&&Vh(e,e._tTime=e._tDur*c),e.parent&&Uh(e),s||Va(e.parent,e),e},Mv=function(e){return e instanceof gs?Va(e):go(e,e._dur)},SN={_start:0,endTime:nc,totalDuration:nc},ai=function n(e,t,s){var i=e.labels,a=e._recent||SN,o=e.duration()>=qi?a.endTime(!1):e._dur,c,h,u;return $t(t)&&(isNaN(t)||t in i)?(h=t.charAt(0),u=t.substr(-1)==="%",c=t.indexOf("="),h==="<"||h===">"?(c>=0&&(t=t.replace(/=/,"")),(h==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(c<0?a:s).totalDuration()/100:1)):c<0?(t in i||(i[t]=o),i[t]):(h=parseFloat(t.charAt(c-1)+t.substr(c+1)),u&&s&&(h=h/100*(fs(s)?s[0]:s).totalDuration()),c>1?n(e,t.substr(0,c-1),s)+h:o+h)):t==null?o:+t},Vl=function(e,t,s){var i=Sn(t[1]),a=(i?2:1)+(e<2?0:1),o=t[a],c,h;if(i&&(o.duration=t[1]),o.parent=s,e){for(c=o,h=s;h&&!("immediateRender"in c);)c=h.vars.defaults||{},h=As(h.vars.inherit)&&h.parent;o.immediateRender=As(c.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return new Ot(t[0],o,t[a+1])},oa=function(e,t){return e||e===0?t(e):t},gc=function(e,t,s){return s<e?e:s>t?t:s},cs=function(e,t){return!$t(e)||!(t=dN.exec(e))?"":t[1]},CN=function(e,t,s){return oa(s,function(i){return gc(e,t,i)})},Fg=[].slice,JS=function(e,t){return e&&Wi(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Wi(e[0]))&&!e.nodeType&&e!==ji},AN=function(e,t,s){return s===void 0&&(s=[]),e.forEach(function(i){var a;return $t(i)&&!t||JS(i,1)?(a=s).push.apply(a,ci(i)):s.push(i)})||s},ci=function(e,t,s){return ft&&!t&&ft.selector?ft.selector(e):$t(e)&&!s&&(Ng||!po())?Fg.call((t||Sp).querySelectorAll(e),0):fs(e)?AN(e,s):JS(e)?Fg.call(e,0):e?[e]:[]},jg=function(e){return e=ci(e)[0]||ic("Invalid scope")||{},function(t){var s=e.current||e.nativeElement||e;return ci(t,s.querySelectorAll?s:s===e?ic("Invalid scope")||Sp.createElement("div"):e)}},eC=function(e){return e.sort(function(){return .5-Math.random()})},tC=function(e){if(Ct(e))return e;var t=Wi(e)?e:{each:e},s=Ha(t.ease),i=t.from||0,a=parseFloat(t.base)||0,o={},c=i>0&&i<1,h=isNaN(i)||c,u=t.axis,d=i,m=i;return $t(i)?d=m={center:.5,edges:.5,end:1}[i]||0:!c&&h&&(d=i[0],m=i[1]),function(y,p,x){var v=(x||t).length,_=o[v],A,S,w,T,R,E,D,B,O;if(!_){if(O=t.grid==="auto"?0:(t.grid||[1,qi])[1],!O){for(D=-1e8;D<(D=x[O++].getBoundingClientRect().left)&&O<v;);O<v&&O--}for(_=o[v]=[],A=h?Math.min(O,v)*d-.5:i%O,S=O===qi?0:h?v*m/O-.5:i/O|0,D=0,B=qi,E=0;E<v;E++)w=E%O-A,T=S-(E/O|0),_[E]=R=u?Math.abs(u==="y"?T:w):LS(w*w+T*T),R>D&&(D=R),R<B&&(B=R);i==="random"&&eC(_),_.max=D-B,_.min=B,_.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(O>v?v-1:u?u==="y"?v/O:O:Math.max(O,v/O))||0)*(i==="edges"?-1:1),_.b=v<0?a-v:a,_.u=cs(t.amount||t.each)||0,s=s&&v<0?hC(s):s}return v=(_[y]-_.min)/_.max||0,Nt(_.b+(s?s(v):v)*_.v)+_.u}},Yg=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var i=Nt(Math.round(parseFloat(s)/e)*e*t);return(i-i%1)/t+(Sn(s)?0:cs(s))}},sC=function(e,t){var s=fs(e),i,a;return!s&&Wi(e)&&(i=s=e.radius||qi,e.values?(e=ci(e.values),(a=!Sn(e[0]))&&(i*=i)):e=Yg(e.increment)),oa(t,s?Ct(e)?function(o){return a=e(o),Math.abs(a-o)<=i?a:o}:function(o){for(var c=parseFloat(a?o.x:o),h=parseFloat(a?o.y:0),u=qi,d=0,m=e.length,y,p;m--;)a?(y=e[m].x-c,p=e[m].y-h,y=y*y+p*p):y=Math.abs(e[m]-c),y<u&&(u=y,d=m);return d=!i||u<=i?e[d]:o,a||d===o||Sn(o)?d:d+cs(o)}:Yg(e))},iC=function(e,t,s,i){return oa(fs(e)?!t:s===!0?!!(s=0):!i,function(){return fs(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(t-e+s*.99))/s)*s*i)/i})},TN=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(i){return t.reduce(function(a,o){return o(a)},i)}},MN=function(e,t){return function(s){return e(parseFloat(s))+(t||cs(s))}},kN=function(e,t,s){return aC(e,t,0,1,s)},nC=function(e,t,s){return oa(s,function(i){return e[~~t(i)]})},EN=function n(e,t,s){var i=t-e;return fs(e)?nC(e,n(0,e.length),t):oa(s,function(a){return(i+(a-e)%i)%i+e})},RN=function n(e,t,s){var i=t-e,a=i*2;return fs(e)?nC(e,n(0,e.length-1),t):oa(s,function(o){return o=(a+(o-e)%a)%a||0,e+(o>i?a-o:o)})},ac=function(e){for(var t=0,s="",i,a,o,c;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),c=e.charAt(i+7)==="[",a=e.substr(i+7,o-i-7).match(c?jS:Og),s+=e.substr(t,i-t)+iC(c?a:+a[0],c?0:+a[1],+a[2]||1e-5),t=o+1;return s+e.substr(t,e.length-t)},aC=function(e,t,s,i,a){var o=t-e,c=i-s;return oa(a,function(h){return s+((h-e)/o*c||0)})},DN=function n(e,t,s,i){var a=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!a){var o=$t(e),c={},h,u,d,m,y;if(s===!0&&(i=1)&&(s=null),o)e={p:e},t={p:t};else if(fs(e)&&!fs(t)){for(d=[],m=e.length,y=m-2,u=1;u<m;u++)d.push(n(e[u-1],e[u]));m--,a=function(x){x*=m;var v=Math.min(y,~~x);return d[v](x-v)},s=t}else i||(e=fo(fs(e)?[]:{},e));if(!d){for(h in t)Ep.call(c,e,h,"get",t[h]);a=function(x){return Bp(x,c)||(o?e.p:e)}}}return oa(s,a)},kv=function(e,t,s){var i=e.labels,a=qi,o,c,h;for(o in i)c=i[o]-t,c<0==!!s&&c&&a>(c=Math.abs(c))&&(h=o,a=c);return h},Hs=function(e,t,s){var i=e.vars,a=i[t],o=ft,c=e._ctx,h,u,d;if(a)return h=i[t+"Params"],u=i.callbackScope||e,s&&sa.length&&xh(),c&&(ft=c),d=h?a.apply(u,h):a.call(u),ft=o,d},Ol=function(e){return na(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ss),e.progress()<1&&Hs(e,"onInterrupt"),e},Zr,rC=[],oC=function(e){if(e)if(e=!e.name&&e.default||e,wp()||e.headless){var t=e.name,s=Ct(e),i=t&&!s&&e.init?function(){this._props=[]}:e,a={init:nc,render:Bp,add:Ep,kill:qN,modifier:GN,rawVars:0},o={targetTest:0,get:0,getSetter:Pp,aliases:{},register:0};if(po(),e!==i){if(Us[t])return;$s(i,$s(bh(e,a),o)),fo(i.prototype,fo(a,bh(e,o))),Us[i.prop=t]=i,e.targetTest&&(Qu.push(i),Ap[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}VS(t,i),e.register&&e.register(Es,i,Ms)}else rC.push(e)},it=255,Nl={aqua:[0,it,it],lime:[0,it,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,it],navy:[0,0,128],white:[it,it,it],olive:[128,128,0],yellow:[it,it,0],orange:[it,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[it,0,0],pink:[it,192,203],cyan:[0,it,it],transparent:[it,it,it,0]},Hm=function(e,t,s){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(s-t)*e*6:e<.5?s:e*3<2?t+(s-t)*(2/3-e)*6:t)*it+.5|0},lC=function(e,t,s){var i=e?Sn(e)?[e>>16,e>>8&it,e&it]:0:Nl.black,a,o,c,h,u,d,m,y,p,x;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Nl[e])i=Nl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),c=e.charAt(3),e="#"+a+a+o+o+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&it,i&it,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&it,e&it]}else if(e.substr(0,3)==="hsl"){if(i=x=e.match(Og),!t)h=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(u+1):d+u-d*u,a=d*2-o,i.length>3&&(i[3]*=1),i[0]=Hm(h+1/3,a,o),i[1]=Hm(h,a,o),i[2]=Hm(h-1/3,a,o);else if(~e.indexOf("="))return i=e.match(zS),s&&i.length<4&&(i[3]=1),i}else i=e.match(Og)||Nl.transparent;i=i.map(Number)}return t&&!x&&(a=i[0]/it,o=i[1]/it,c=i[2]/it,m=Math.max(a,o,c),y=Math.min(a,o,c),d=(m+y)/2,m===y?h=u=0:(p=m-y,u=d>.5?p/(2-m-y):p/(m+y),h=m===a?(o-c)/p+(o<c?6:0):m===o?(c-a)/p+2:(a-o)/p+4,h*=60),i[0]=~~(h+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),s&&i.length<4&&(i[3]=1),i},cC=function(e){var t=[],s=[],i=-1;return e.split(ia).forEach(function(a){var o=a.match(Qr)||[];t.push.apply(t,o),s.push(i+=o.length+1)}),t.c=s,t},Ev=function(e,t,s){var i="",a=(e+i).match(ia),o=t?"hsla(":"rgba(",c=0,h,u,d,m;if(!a)return e;if(a=a.map(function(y){return(y=lC(y,t,1))&&o+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),s&&(d=cC(e),h=s.c,h.join(i)!==d.c.join(i)))for(u=e.replace(ia,"1").split(Qr),m=u.length-1;c<m;c++)i+=u[c]+(~h.indexOf(c)?a.shift()||o+"0,0,0,0)":(d.length?d:a.length?a:s).shift());if(!u)for(u=e.split(ia),m=u.length-1;c<m;c++)i+=u[c]+a[c];return i+u[m]},ia=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Nl)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),PN=/hsl[a]?\(/,uC=function(e){var t=e.join(" "),s;if(ia.lastIndex=0,ia.test(t))return s=PN.test(t),e[1]=Ev(e[1],s),e[0]=Ev(e[0],s,cC(e[1])),!0},rc,Vs=function(){var n=Date.now,e=500,t=33,s=n(),i=s,a=1e3/240,o=a,c=[],h,u,d,m,y,p,x=function v(_){var A=n()-i,S=_===!0,w,T,R,E;if((A>e||A<0)&&(s+=A-t),i+=A,R=i-s,w=R-o,(w>0||S)&&(E=++m.frame,y=R-m.time*1e3,m.time=R=R/1e3,o+=w+(w>=a?4:a-w),T=1),S||(h=u(v)),T)for(p=0;p<c.length;p++)c[p](R,y,E,_)};return m={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(_){return y/(1e3/(_||60))},wake:function(){YS&&(!Ng&&wp()&&(ji=Ng=window,Sp=ji.document||{},Ws.gsap=Es,(ji.gsapVersions||(ji.gsapVersions=[])).push(Es.version),US(yh||ji.GreenSockGlobals||!ji.gsap&&ji||{}),rC.forEach(oC)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&m.sleep(),u=d||function(_){return setTimeout(_,o-m.time*1e3+1|0)},rc=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(h),rc=0,u=nc},lagSmoothing:function(_,A){e=_||1/0,t=Math.min(A||33,e)},fps:function(_){a=1e3/(_||240),o=m.time*1e3+a},add:function(_,A,S){var w=A?function(T,R,E,D){_(T,R,E,D),m.remove(w)}:_;return m.remove(_),c[S?"unshift":"push"](w),po(),w},remove:function(_,A){~(A=c.indexOf(_))&&c.splice(A,1)&&p>=A&&p--},_listeners:c},m}(),po=function(){return!rc&&Vs.wake()},Fe={},BN=/^[\d.\-M][\d.\-,\s]/,ON=/["']/g,NN=function(e){for(var t={},s=e.substr(1,e.length-3).split(":"),i=s[0],a=1,o=s.length,c,h,u;a<o;a++)h=s[a],c=a!==o-1?h.lastIndexOf(","):h.length,u=h.substr(0,c),t[i]=isNaN(u)?u.replace(ON,"").trim():+u,i=h.substr(c+1).trim();return t},LN=function(e){var t=e.indexOf("(")+1,s=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<s?e.indexOf(")",s+1):s)},IN=function(e){var t=(e+"").split("("),s=Fe[t[0]];return s&&t.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[NN(t[1])]:LN(e).split(",").map(qS)):Fe._CE&&BN.test(e)?Fe._CE("",e):s},hC=function(e){return function(t){return 1-e(1-t)}},dC=function n(e,t){for(var s=e._first,i;s;)s instanceof gs?n(s,t):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==t&&(s.timeline?n(s.timeline,t):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=t)),s=s._next},Ha=function(e,t){return e&&(Ct(e)?e:Fe[e]||IN(e))||t},Ja=function(e,t,s,i){s===void 0&&(s=function(h){return 1-t(1-h)}),i===void 0&&(i=function(h){return h<.5?t(h*2)/2:1-t((1-h)*2)/2});var a={easeIn:t,easeOut:s,easeInOut:i},o;return Ts(e,function(c){Fe[c]=Ws[c]=a,Fe[o=c.toLowerCase()]=s;for(var h in a)Fe[o+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=Fe[c+"."+h]=a[h]}),a},fC=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Xm=function n(e,t,s){var i=t>=1?t:1,a=(s||(e?.3:.45))/(t<1?t:1),o=a/Bg*(Math.asin(1/i)||0),c=function(d){return d===1?1:i*Math.pow(2,-10*d)*hN((d-o)*a)+1},h=e==="out"?c:e==="in"?function(u){return 1-c(1-u)}:fC(c);return a=Bg/a,h.config=function(u,d){return n(e,u,d)},h},Gm=function n(e,t){t===void 0&&(t=1.70158);var s=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?s:e==="in"?function(a){return 1-s(1-a)}:fC(s);return i.config=function(a){return n(e,a)},i};Ts("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ja(n+",Power"+(t-1),e?function(s){return Math.pow(s,t)}:function(s){return s},function(s){return 1-Math.pow(1-s,t)},function(s){return s<.5?Math.pow(s*2,t)/2:1-Math.pow((1-s)*2,t)/2})});Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn;Ja("Elastic",Xm("in"),Xm("out"),Xm());(function(n,e){var t=1/e,s=2*t,i=2.5*t,a=function(c){return c<t?n*c*c:c<s?n*Math.pow(c-1.5/e,2)+.75:c<i?n*(c-=2.25/e)*c+.9375:n*Math.pow(c-2.625/e,2)+.984375};Ja("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);Ja("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Ja("Circ",function(n){return-(LS(1-n*n)-1)});Ja("Sine",function(n){return n===1?1:-uN(n*lN)+1});Ja("Back",Gm("in"),Gm("out"),Gm());Fe.SteppedEase=Fe.steps=Ws.SteppedEase={config:function(e,t){e===void 0&&(e=1);var s=1/e,i=e+(t?0:1),a=t?1:0,o=1-ds;return function(c){return((i*gc(0,o,c)|0)+a)*s}}};ho.ease=Fe["quad.out"];Ts("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Tp+=n+","+n+"Params,"});var mC=function(e,t){this.id=cN++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:XS,this.set=t?t.getSetter:Pp},oc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,go(this,+t.duration,1,1),this.data=t.data,ft&&(this._ctx=ft,ft.data.push(this)),rc||Vs.wake()}var e=n.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,go(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,i){if(po(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Vh(this,s),!a._dp||a.parent||KS(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Ui(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ds||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),GS(this,s,i)),this},e.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Tv(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},e.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Tv(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*a,i):this._repeat?mo(this._tTime,a)+1:1},e.timeScale=function(s,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===s)return this;var a=this.parent&&this._ts?vh(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-1e-8?0:this._rts,this.totalTime(gc(-Math.abs(this._delay),this.totalDuration(),a),i!==!1),Uh(this),xN(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(po(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ds&&(this._tTime-=ds)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ui(i,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(As(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?vh(i.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=mN);var i=ss;return ss=s,kp(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),ss=i,this},e.globalTime=function(s){for(var i=this,a=arguments.length?s:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):a},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Mv(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,Mv(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,i){return this.totalTime(ai(this,s),As(i))},e.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,As(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},e.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var s=this.parent||this._dp,i=this._start,a;return!!(!s||this._ts&&this._initted&&s.isActive()&&(a=s.rawTime(!0))>=i&&a<this.endTime(!0)-ds)},e.eventCallback=function(s,i,a){var o=this.vars;return arguments.length>1?(i?(o[s]=i,a&&(o[s+"Params"]=a),s==="onUpdate"&&(this._onUpdate=i)):delete o[s],this):o[s]},e.then=function(s){var i=this;return new Promise(function(a){var o=Ct(s)?s:WS,c=function(){var u=i.then;i.then=null,Ct(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),a(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?c():i._prom=c})},e.kill=function(){Ol(this)},n}();$s(oc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var gs=function(n){NS(e,n);function e(s,i){var a;return s===void 0&&(s={}),a=n.call(this,s)||this,a.labels={},a.smoothChildTiming=!!s.smoothChildTiming,a.autoRemoveChildren=!!s.autoRemoveChildren,a._sort=As(s.sortChildren),pt&&Ui(s.parent||pt,gn(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),s.scrollTrigger&&QS(gn(a),s.scrollTrigger),a}var t=e.prototype;return t.to=function(i,a,o){return Vl(0,arguments,this),this},t.from=function(i,a,o){return Vl(1,arguments,this),this},t.fromTo=function(i,a,o,c){return Vl(2,arguments,this),this},t.set=function(i,a,o){return a.duration=0,a.parent=this,Ul(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Ot(i,a,ai(this,o),1),this},t.call=function(i,a,o){return Ui(this,Ot.delayedCall(0,i,a),o)},t.staggerTo=function(i,a,o,c,h,u,d){return o.duration=a,o.stagger=o.stagger||c,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new Ot(i,o,ai(this,h)),this},t.staggerFrom=function(i,a,o,c,h,u,d){return o.runBackwards=1,Ul(o).immediateRender=As(o.immediateRender),this.staggerTo(i,a,o,c,h,u,d)},t.staggerFromTo=function(i,a,o,c,h,u,d,m){return c.startAt=o,Ul(c).immediateRender=As(c.immediateRender),this.staggerTo(i,a,c,h,u,d,m)},t.render=function(i,a,o){var c=this._time,h=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:Nt(i),m=this._zTime<0!=i<0&&(this._initted||!u),y,p,x,v,_,A,S,w,T,R,E,D;if(this!==pt&&d>h&&i>=0&&(d=h),d!==this._tTime||o||m){if(c!==this._time&&u&&(d+=this._time-c,i+=this._time-c),y=d,T=this._start,w=this._ts,A=!w,m&&(u||(c=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,_=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,a,o);if(y=Nt(d%_),d===h?(v=this._repeat,y=u):(R=Nt(d/_),v=~~R,v&&v===R&&(y=u,v--),y>u&&(y=u)),R=mo(this._tTime,_),!c&&this._tTime&&R!==v&&this._tTime-R*_-this._dur<=0&&(R=v),E&&v&1&&(y=u-y,D=1),v!==R&&!this._lock){var B=E&&R&1,O=B===(E&&v&1);if(v<R&&(B=!B),c=B?0:d%u?u:d,this._lock=1,this.render(c||(D?0:Nt(v*_)),a,!u)._lock=0,this._tTime=d,!a&&this.parent&&Hs(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),c&&c!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,h=this._tDur,O&&(this._lock=2,c=B?u:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;dC(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(S=wN(this,Nt(c),Nt(y)),S&&(d-=y-(y=S._start))),this._tTime=d,this._time=y,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,c=0),!c&&d&&!a&&!R&&(Hs(this,"onStart"),this._tTime!==d))return this;if(y>=c&&i>=0)for(p=this._first;p;){if(x=p._next,(p._act||y>=p._start)&&p._ts&&S!==p){if(p.parent!==this)return this.render(i,a,o);if(p.render(p._ts>0?(y-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(y-p._start)*p._ts,a,o),y!==this._time||!this._ts&&!A){S=0,x&&(d+=this._zTime=-1e-8);break}}p=x}else{p=this._last;for(var L=i<0?i:y;p;){if(x=p._prev,(p._act||L<=p._end)&&p._ts&&S!==p){if(p.parent!==this)return this.render(i,a,o);if(p.render(p._ts>0?(L-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(L-p._start)*p._ts,a,o||ss&&kp(p)),y!==this._time||!this._ts&&!A){S=0,x&&(d+=this._zTime=L?-1e-8:ds);break}}p=x}}if(S&&!a&&(this.pause(),S.render(y>=c?0:-1e-8)._zTime=y>=c?1:-1,this._ts))return this._start=T,Uh(this),this.render(i,a,o);this._onUpdate&&!a&&Hs(this,"onUpdate",!0),(d===h&&this._tTime>=this.totalDuration()||!d&&c)&&(T===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===h&&this._ts>0||!d&&this._ts<0)&&na(this,1),!a&&!(i<0&&!c)&&(d||c||!h)&&(Hs(this,d===h&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<h&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,a){var o=this;if(Sn(a)||(a=ai(this,a,i)),!(i instanceof oc)){if(fs(i))return i.forEach(function(c){return o.add(c,a)}),this;if($t(i))return this.addLabel(i,a);if(Ct(i))i=Ot.delayedCall(0,i);else return this}return this!==i?Ui(this,i,a):this},t.getChildren=function(i,a,o,c){i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),c===void 0&&(c=-1e8);for(var h=[],u=this._first;u;)u._start>=c&&(u instanceof Ot?a&&h.push(u):(o&&h.push(u),i&&h.push.apply(h,u.getChildren(!0,a,o)))),u=u._next;return h},t.getById=function(i){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===i)return a[o]},t.remove=function(i){return $t(i)?this.removeLabel(i):Ct(i)?this.killTweensOf(i):(i.parent===this&&Yh(this,i),i===this._recent&&(this._recent=this._last),Va(this))},t.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Nt(Vs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},t.addLabel=function(i,a){return this.labels[i]=ai(this,a),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,a,o){var c=Ot.delayedCall(0,a||nc,o);return c.data="isPause",this._hasPause=1,Ui(this,c,ai(this,i))},t.removePause=function(i){var a=this._first;for(i=ai(this,i);a;)a._start===i&&a.data==="isPause"&&na(a),a=a._next},t.killTweensOf=function(i,a,o){for(var c=this.getTweensOf(i,o),h=c.length;h--;)Zn!==c[h]&&c[h].kill(i,a);return this},t.getTweensOf=function(i,a){for(var o=[],c=ci(i),h=this._first,u=Sn(a),d;h;)h instanceof Ot?gN(h._targets,c)&&(u?(!Zn||h._initted&&h._ts)&&h.globalTime(0)<=a&&h.globalTime(h.totalDuration())>a:!a||h.isActive())&&o.push(h):(d=h.getTweensOf(c,a)).length&&o.push.apply(o,d),h=h._next;return o},t.tweenTo=function(i,a){a=a||{};var o=this,c=ai(o,i),h=a,u=h.startAt,d=h.onStart,m=h.onStartParams,y=h.immediateRender,p,x=Ot.to(o,$s({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:a.duration||Math.abs((c-(u&&"time"in u?u.time:o._time))/o.timeScale())||ds,onStart:function(){if(o.pause(),!p){var _=a.duration||Math.abs((c-(u&&"time"in u?u.time:o._time))/o.timeScale());x._dur!==_&&go(x,_,0,1).render(x._time,!0,!0),p=1}d&&d.apply(x,m||[])}},a));return y?x.render(0):x},t.tweenFromTo=function(i,a,o){return this.tweenTo(a,$s({startAt:{time:ai(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),kv(this,ai(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),kv(this,ai(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ds)},t.shiftChildren=function(i,a,o){o===void 0&&(o=0);for(var c=this._first,h=this.labels,u;c;)c._start>=o&&(c._start+=i,c._end+=i),c=c._next;if(a)for(u in h)h[u]>=o&&(h[u]+=i);return Va(this)},t.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Va(this)},t.totalDuration=function(i){var a=0,o=this,c=o._last,h=qi,u,d,m;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(m=o.parent;c;)u=c._prev,c._dirty&&c.totalDuration(),d=c._start,d>h&&o._sort&&c._ts&&!o._lock?(o._lock=1,Ui(o,c,d-c._delay,1)._lock=0):h=d,d<0&&c._ts&&(a-=d,(!m&&!o._dp||m&&m.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),h=0),c._end>a&&c._ts&&(a=c._end),c=u;go(o,o===pt&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(pt._ts&&(GS(pt,vh(i,pt)),HS=Vs.frame),Vs.frame>=Cv){Cv+=Xs.autoSleep||120;var a=pt._first;if((!a||!a._ts)&&Xs.autoSleep&&Vs._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Vs.sleep()}}},e}(oc);$s(gs.prototype,{_lock:0,_hasPause:0,_forcing:0});var zN=function(e,t,s,i,a,o,c){var h=new Ms(this._pt,e,t,0,1,vC,null,a),u=0,d=0,m,y,p,x,v,_,A,S;for(h.b=s,h.e=i,s+="",i+="",(A=~i.indexOf("random("))&&(i=ac(i)),o&&(S=[s,i],o(S,e,t),s=S[0],i=S[1]),y=s.match(Um)||[];m=Um.exec(i);)x=m[0],v=i.substring(u,m.index),p?p=(p+1)%5:v.substr(-5)==="rgba("&&(p=1),x!==y[d++]&&(_=parseFloat(y[d-1])||0,h._pt={_next:h._pt,p:v||d===1?v:",",s:_,c:x.charAt(1)==="="?no(_,x)-_:parseFloat(x)-_,m:p&&p<4?Math.round:0},u=Um.lastIndex);return h.c=u<i.length?i.substring(u,i.length):"",h.fp=c,(FS.test(i)||A)&&(h.e=0),this._pt=h,h},Ep=function(e,t,s,i,a,o,c,h,u,d){Ct(i)&&(i=i(a||0,e,o));var m=e[t],y=s!=="get"?s:Ct(m)?u?e[t.indexOf("set")||!Ct(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():m,p=Ct(m)?u?VN:xC:Dp,x;if($t(i)&&(~i.indexOf("random(")&&(i=ac(i)),i.charAt(1)==="="&&(x=no(y,i)+(cs(y)||0),(x||x===0)&&(i=x))),!d||y!==i||Ug)return!isNaN(y*i)&&i!==""?(x=new Ms(this._pt,e,t,+y||0,i-(y||0),typeof m=="boolean"?XN:bC,0,p),u&&(x.fp=u),c&&x.modifier(c,this,e),this._pt=x):(!m&&!(t in e)&&Cp(t,i),zN.call(this,e,t,y,i,p,h||Xs.stringFilter,u))},FN=function(e,t,s,i,a){if(Ct(e)&&(e=Hl(e,a,t,s,i)),!Wi(e)||e.style&&e.nodeType||fs(e)||IS(e))return $t(e)?Hl(e,a,t,s,i):e;var o={},c;for(c in e)o[c]=Hl(e[c],a,t,s,i);return o},gC=function(e,t,s,i,a,o){var c,h,u,d;if(Us[e]&&(c=new Us[e]).init(a,c.rawVars?t[e]:FN(t[e],i,a,o,s),s,i,o)!==!1&&(s._pt=h=new Ms(s._pt,a,e,0,1,c.render,c,0,c.priority),s!==Zr))for(u=s._ptLookup[s._targets.indexOf(a)],d=c._props.length;d--;)u[c._props[d]]=h;return c},Zn,Ug,Rp=function n(e,t,s){var i=e.vars,a=i.ease,o=i.startAt,c=i.immediateRender,h=i.lazy,u=i.onUpdate,d=i.runBackwards,m=i.yoyoEase,y=i.keyframes,p=i.autoRevert,x=e._dur,v=e._startAt,_=e._targets,A=e.parent,S=A&&A.data==="nested"?A.vars.targets:_,w=e._overwrite==="auto"&&!vp,T=e.timeline,R,E,D,B,O,L,z,H,X,j,W,I,U;if(T&&(!y||!a)&&(a="none"),e._ease=Ha(a,ho.ease),e._yEase=m?hC(Ha(m===!0?a:m,ho.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!T&&!!i.runBackwards,!T||y&&!i.stagger){if(H=_[0]?Ua(_[0]).harness:0,I=H&&i[H.prop],R=bh(i,Ap),v&&(v._zTime<0&&v.progress(1),t<0&&d&&c&&!p?v.render(-1,!0):v.revert(d&&x?Ku:fN),v._lazy=0),o){if(na(e._startAt=Ot.set(_,$s({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!v&&As(h),startAt:null,delay:0,onUpdate:u&&function(){return Hs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ss||!c&&!p)&&e._startAt.revert(Ku),c&&x&&t<=0&&s<=0){t&&(e._zTime=t);return}}else if(d&&x&&!v){if(t&&(c=!1),D=$s({overwrite:!1,data:"isFromStart",lazy:c&&!v&&As(h),immediateRender:c,stagger:0,parent:A},R),I&&(D[H.prop]=I),na(e._startAt=Ot.set(_,D)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ss?e._startAt.revert(Ku):e._startAt.render(-1,!0)),e._zTime=t,!c)n(e._startAt,ds,ds);else if(!t)return}for(e._pt=e._ptCache=0,h=x&&As(h)||h&&!x,E=0;E<_.length;E++){if(O=_[E],z=O._gsap||Mp(_)[E]._gsap,e._ptLookup[E]=j={},Lg[z.id]&&sa.length&&xh(),W=S===_?E:S.indexOf(O),H&&(X=new H).init(O,I||R,e,W,S)!==!1&&(e._pt=B=new Ms(e._pt,O,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(ne){j[ne]=B}),X.priority&&(L=1)),!H||I)for(D in R)Us[D]&&(X=gC(D,R,e,W,O,S))?X.priority&&(L=1):j[D]=B=Ep.call(e,O,D,"get",R[D],W,S,0,i.stringFilter);e._op&&e._op[E]&&e.kill(O,e._op[E]),w&&e._pt&&(Zn=e,pt.killTweensOf(O,j,e.globalTime(t)),U=!e.parent,Zn=0),e._pt&&h&&(Lg[z.id]=1)}L&&_C(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!U,y&&t<=0&&T.render(qi,!0,!0)},jN=function(e,t,s,i,a,o,c,h){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,m,y,p;if(!u)for(u=e._ptCache[t]=[],y=e._ptLookup,p=e._targets.length;p--;){if(d=y[p][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return Ug=1,e.vars[t]="+=0",Rp(e,c),Ug=0,h?ic(t+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)m=u[p],d=m._pt||m,d.s=(i||i===0)&&!a?i:d.s+(i||0)+o*d.c,d.c=s-d.s,m.e&&(m.e=Et(s)+cs(m.e)),m.b&&(m.b=d.s+cs(m.b))},YN=function(e,t){var s=e[0]?Ua(e[0]).harness:0,i=s&&s.aliases,a,o,c,h;if(!i)return t;a=fo({},t);for(o in i)if(o in a)for(h=i[o].split(","),c=h.length;c--;)a[h[c]]=a[o];return a},UN=function(e,t,s,i){var a=t.ease||i||"power1.inOut",o,c;if(fs(t))c=s[e]||(s[e]=[]),t.forEach(function(h,u){return c.push({t:u/(t.length-1)*100,v:h,e:a})});else for(o in t)c=s[o]||(s[o]=[]),o==="ease"||c.push({t:parseFloat(e),v:t[o],e:a})},Hl=function(e,t,s,i,a){return Ct(e)?e.call(t,s,i,a):$t(e)&&~e.indexOf("random(")?ac(e):e},pC=Tp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yC={};Ts(pC+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return yC[n]=1});var Ot=function(n){NS(e,n);function e(s,i,a,o){var c;typeof i=="number"&&(a.duration=i,i=a,a=null),c=n.call(this,o?i:Ul(i))||this;var h=c.vars,u=h.duration,d=h.delay,m=h.immediateRender,y=h.stagger,p=h.overwrite,x=h.keyframes,v=h.defaults,_=h.scrollTrigger,A=h.yoyoEase,S=i.parent||pt,w=(fs(s)||IS(s)?Sn(s[0]):"length"in i)?[s]:ci(s),T,R,E,D,B,O,L,z;if(c._targets=w.length?Mp(w):ic("GSAP target "+s+" not found. https://gsap.com",!Xs.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=p,x||y||Gu(u)||Gu(d)){if(i=c.vars,T=c.timeline=new gs({data:"nested",defaults:v||{},targets:S&&S.data==="nested"?S.vars.targets:w}),T.kill(),T.parent=T._dp=gn(c),T._start=0,y||Gu(u)||Gu(d)){if(D=w.length,L=y&&tC(y),Wi(y))for(B in y)~pC.indexOf(B)&&(z||(z={}),z[B]=y[B]);for(R=0;R<D;R++)E=bh(i,yC),E.stagger=0,A&&(E.yoyoEase=A),z&&fo(E,z),O=w[R],E.duration=+Hl(u,gn(c),R,O,w),E.delay=(+Hl(d,gn(c),R,O,w)||0)-c._delay,!y&&D===1&&E.delay&&(c._delay=d=E.delay,c._start+=d,E.delay=0),T.to(O,E,L?L(R,O,w):0),T._ease=Fe.none;T.duration()?u=d=0:c.timeline=0}else if(x){Ul($s(T.vars.defaults,{ease:"none"})),T._ease=Ha(x.ease||i.ease||"none");var H=0,X,j,W;if(fs(x))x.forEach(function(I){return T.to(w,I,">")}),T.duration();else{E={};for(B in x)B==="ease"||B==="easeEach"||UN(B,x[B],E,x.easeEach);for(B in E)for(X=E[B].sort(function(I,U){return I.t-U.t}),H=0,R=0;R<X.length;R++)j=X[R],W={ease:j.e,duration:(j.t-(R?X[R-1].t:0))/100*u},W[B]=j.v,T.to(w,W,H),H+=W.duration;T.duration()<u&&T.to({},{duration:u-T.duration()})}}u||c.duration(u=T.duration())}else c.timeline=0;return p===!0&&!vp&&(Zn=gn(c),pt.killTweensOf(w),Zn=0),Ui(S,gn(c),a),i.reversed&&c.reverse(),i.paused&&c.paused(!0),(m||!u&&!x&&c._start===Nt(S._time)&&As(m)&&bN(gn(c))&&S.data!=="nested")&&(c._tTime=-1e-8,c.render(Math.max(0,-d)||0)),_&&QS(gn(c),_),c}var t=e.prototype;return t.render=function(i,a,o){var c=this._time,h=this._tDur,u=this._dur,d=i<0,m=i>h-ds&&!d?h:i<ds?0:i,y,p,x,v,_,A,S,w,T;if(!u)_N(this,i,a,o);else if(m!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(y=m,w=this.timeline,this._repeat){if(v=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(v*100+i,a,o);if(y=Nt(m%v),m===h?(x=this._repeat,y=u):(_=Nt(m/v),x=~~_,x&&x===_?(y=u,x--):y>u&&(y=u)),A=this._yoyo&&x&1,A&&(T=this._yEase,y=u-y),_=mo(this._tTime,v),y===c&&!o&&this._initted&&x===_)return this._tTime=m,this;x!==_&&(w&&this._yEase&&dC(w,A),this.vars.repeatRefresh&&!A&&!this._lock&&y!==v&&this._initted&&(this._lock=o=1,this.render(Nt(v*x),!0).invalidate()._lock=0))}if(!this._initted){if(ZS(this,d?i:y,o,a,m))return this._tTime=0,this;if(c!==this._time&&!(o&&this.vars.repeatRefresh&&x!==_))return this;if(u!==this._dur)return this.render(i,a,o)}if(this._tTime=m,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=S=(T||this._ease)(y/u),this._from&&(this.ratio=S=1-S),!c&&m&&!a&&!_&&(Hs(this,"onStart"),this._tTime!==m))return this;for(p=this._pt;p;)p.r(S,p.d),p=p._next;w&&w.render(i<0?i:w._dur*w._ease(y/this._dur),a,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(d&&Ig(this,i,a,o),Hs(this,"onUpdate")),this._repeat&&x!==_&&this.vars.onRepeat&&!a&&this.parent&&Hs(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(d&&!this._onUpdate&&Ig(this,i,!0,!0),(i||!u)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&na(this,1),!a&&!(d&&!c)&&(m||c||A)&&(Hs(this,m===h?"onComplete":"onReverseComplete",!0),this._prom&&!(m<h&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,a,o,c,h){rc||Vs.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Rp(this,u),d=this._ease(u/this._dur),jN(this,i,a,o,c,d,u,h)?this.resetTo(i,a,o,c,1):(Vh(this,0),this.parent||$S(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?Ol(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ss),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,Zn&&Zn.vars.overwrite!==!0)._first||Ol(this),this.parent&&o!==this.timeline.totalDuration()&&go(this,this._dur*this.timeline._tDur/o,0,1),this}var c=this._targets,h=i?ci(i):c,u=this._ptLookup,d=this._pt,m,y,p,x,v,_,A;if((!a||a==="all")&&yN(c,h))return a==="all"&&(this._pt=0),Ol(this);for(m=this._op=this._op||[],a!=="all"&&($t(a)&&(v={},Ts(a,function(S){return v[S]=1}),a=v),a=YN(c,a)),A=c.length;A--;)if(~h.indexOf(c[A])){y=u[A],a==="all"?(m[A]=a,x=y,p={}):(p=m[A]=m[A]||{},x=a);for(v in x)_=y&&y[v],_&&((!("kill"in _.d)||_.d.kill(v)===!0)&&Yh(this,_,"_pt"),delete y[v]),p!=="all"&&(p[v]=1)}return this._initted&&!this._pt&&d&&Ol(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return Vl(1,arguments)},e.delayedCall=function(i,a,o,c){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:c})},e.fromTo=function(i,a,o){return Vl(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,o){return pt.killTweensOf(i,a,o)},e}(oc);$s(Ot.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ts("staggerTo,staggerFrom,staggerFromTo",function(n){Ot[n]=function(){var e=new gs,t=Fg.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Dp=function(e,t,s){return e[t]=s},xC=function(e,t,s){return e[t](s)},VN=function(e,t,s,i){return e[t](i.fp,s)},HN=function(e,t,s){return e.setAttribute(t,s)},Pp=function(e,t){return Ct(e[t])?xC:_p(e[t])&&e.setAttribute?HN:Dp},bC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},XN=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},vC=function(e,t){var s=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+i,s=s._next;i+=t.c}t.set(t.t,t.p,i,t)},Bp=function(e,t){for(var s=t._pt;s;)s.r(e,s.d),s=s._next},GN=function(e,t,s,i){for(var a=this._pt,o;a;)o=a._next,a.p===i&&a.modifier(e,t,s),a=o},qN=function(e){for(var t=this._pt,s,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Yh(this,t,"_pt"):t.dep||(s=1),t=i;return!s},WN=function(e,t,s,i){i.mSet(e,t,i.m.call(i.tween,s,i.mt),i)},_C=function(e){for(var t=e._pt,s,i,a,o;t;){for(s=t._next,i=a;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:a=t,(t._next=i)?i._prev=t:o=t,t=s}e._pt=a},Ms=function(){function n(t,s,i,a,o,c,h,u,d){this.t=s,this.s=a,this.c=o,this.p=i,this.r=c||bC,this.d=h||this,this.set=u||Dp,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(s,i,a){this.mSet=this.mSet||this.set,this.set=WN,this.m=s,this.mt=a,this.tween=i},n}();Ts(Tp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Ap[n]=1});Ws.TweenMax=Ws.TweenLite=Ot;Ws.TimelineLite=Ws.TimelineMax=gs;pt=new gs({sortChildren:!1,defaults:ho,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xs.stringFilter=uC;var Xa=[],Zu={},$N=[],Rv=0,KN=0,qm=function(e){return(Zu[e]||$N).map(function(t){return t()})},Vg=function(){var e=Date.now(),t=[];e-Rv>2&&(qm("matchMediaInit"),Xa.forEach(function(s){var i=s.queries,a=s.conditions,o,c,h,u;for(c in i)o=ji.matchMedia(i[c]).matches,o&&(h=1),o!==a[c]&&(a[c]=o,u=1);u&&(s.revert(),h&&t.push(s))}),qm("matchMediaRevert"),t.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),Rv=e,qm("matchMedia"))},wC=function(){function n(t,s){this.selector=s&&jg(s),this.data=[],this._r=[],this.isReverted=!1,this.id=KN++,t&&this.add(t)}var e=n.prototype;return e.add=function(s,i,a){Ct(s)&&(a=i,i=s,s=Ct);var o=this,c=function(){var u=ft,d=o.selector,m;return u&&u!==o&&u.data.push(o),a&&(o.selector=jg(a)),ft=o,m=i.apply(o,arguments),Ct(m)&&o._r.push(m),ft=u,o.selector=d,o.isReverted=!1,m};return o.last=c,s===Ct?c(o,function(h){return o.add(null,h)}):s?o[s]=c:c},e.ignore=function(s){var i=ft;ft=null,s(this),ft=i},e.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof n?s.push.apply(s,i.getTweens()):i instanceof Ot&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,i){var a=this;if(s?function(){for(var c=a.getTweens(),h=a.data.length,u;h--;)u=a.data[h],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return c.splice(c.indexOf(d),1)}));for(c.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,m){return m.g-d.g||-1/0}).forEach(function(d){return d.t.revert(s)}),h=a.data.length;h--;)u=a.data[h],u instanceof gs?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Ot)&&u.revert&&u.revert(s);a._r.forEach(function(d){return d(s,a)}),a.isReverted=!0}():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),i)for(var o=Xa.length;o--;)Xa[o].id===this.id&&Xa.splice(o,1)},e.revert=function(s){this.kill(s||{})},n}(),QN=function(){function n(t){this.contexts=[],this.scope=t,ft&&ft.data.push(this)}var e=n.prototype;return e.add=function(s,i,a){Wi(s)||(s={matches:s});var o=new wC(0,a||this.scope),c=o.conditions={},h,u,d;ft&&!o.selector&&(o.selector=ft.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=s;for(u in s)u==="all"?d=1:(h=ji.matchMedia(s[u]),h&&(Xa.indexOf(o)<0&&Xa.push(o),(c[u]=h.matches)&&(d=1),h.addListener?h.addListener(Vg):h.addEventListener("change",Vg)));return d&&i(o,function(m){return o.add(null,m)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},n}(),_h={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(function(i){return oC(i)})},timeline:function(e){return new gs(e)},getTweensOf:function(e,t){return pt.getTweensOf(e,t)},getProperty:function(e,t,s,i){$t(e)&&(e=ci(e)[0]);var a=Ua(e||{}).get,o=s?WS:qS;return s==="native"&&(s=""),e&&(t?o((Us[t]&&Us[t].get||a)(e,t,s,i)):function(c,h,u){return o((Us[c]&&Us[c].get||a)(e,c,h,u))})},quickSetter:function(e,t,s){if(e=ci(e),e.length>1){var i=e.map(function(d){return Es.quickSetter(d,t,s)}),a=i.length;return function(d){for(var m=a;m--;)i[m](d)}}e=e[0]||{};var o=Us[t],c=Ua(e),h=c.harness&&(c.harness.aliases||{})[t]||t,u=o?function(d){var m=new o;Zr._pt=0,m.init(e,s?d+s:d,Zr,0,[e]),m.render(1,m),Zr._pt&&Bp(1,Zr)}:c.set(e,h);return o?u:function(d){return u(e,h,s?d+s:d,c,1)}},quickTo:function(e,t,s){var i,a=Es.to(e,$s((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),s||{})),o=function(h,u,d){return a.resetTo(t,h,u,d)};return o.tween=a,o},isTweening:function(e){return pt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ha(e.ease,ho.ease)),Av(ho,e||{})},config:function(e){return Av(Xs,e||{})},registerEffect:function(e){var t=e.name,s=e.effect,i=e.plugins,a=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(c){return c&&!Us[c]&&!Ws[c]&&ic(t+" effect requires "+c+" plugin.")}),Vm[t]=function(c,h,u){return s(ci(c),$s(h||{},a),u)},o&&(gs.prototype[t]=function(c,h,u){return this.add(Vm[t](c,Wi(h)?h:(u=h)&&{},this),u)})},registerEase:function(e,t){Fe[e]=Ha(t)},parseEase:function(e,t){return arguments.length?Ha(e,t):Fe},getById:function(e){return pt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var s=new gs(e),i,a;for(s.smoothChildTiming=As(e.smoothChildTiming),pt.remove(s),s._dp=0,s._time=s._tTime=pt._time,i=pt._first;i;)a=i._next,(t||!(!i._dur&&i instanceof Ot&&i.vars.onComplete===i._targets[0]))&&Ui(s,i,i._start-i._delay),i=a;return Ui(pt,s,0),s},context:function(e,t){return e?new wC(e,t):ft},matchMedia:function(e){return new QN(e)},matchMediaRefresh:function(){return Xa.forEach(function(e){var t=e.conditions,s,i;for(i in t)t[i]&&(t[i]=!1,s=1);s&&e.revert()})||Vg()},addEventListener:function(e,t){var s=Zu[e]||(Zu[e]=[]);~s.indexOf(t)||s.push(t)},removeEventListener:function(e,t){var s=Zu[e],i=s&&s.indexOf(t);i>=0&&s.splice(i,1)},utils:{wrap:EN,wrapYoyo:RN,distribute:tC,random:iC,snap:sC,normalize:kN,getUnit:cs,clamp:CN,splitColor:lC,toArray:ci,selector:jg,mapRange:aC,pipe:TN,unitize:MN,interpolate:DN,shuffle:eC},install:US,effects:Vm,ticker:Vs,updateRoot:gs.updateRoot,plugins:Us,globalTimeline:pt,core:{PropTween:Ms,globals:VS,Tween:Ot,Timeline:gs,Animation:oc,getCache:Ua,_removeLinkedListItem:Yh,reverting:function(){return ss},context:function(e){return e&&ft&&(ft.data.push(e),e._ctx=ft),ft},suppressOverwrites:function(e){return vp=e}}};Ts("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return _h[n]=Ot[n]});Vs.add(gs.updateRoot);Zr=_h.to({},{duration:0});var ZN=function(e,t){for(var s=e._pt;s&&s.p!==t&&s.op!==t&&s.fp!==t;)s=s._next;return s},JN=function(e,t){var s=e._targets,i,a,o;for(i in t)for(a=s.length;a--;)o=e._ptLookup[a][i],o&&(o=o.d)&&(o._pt&&(o=ZN(o,i)),o&&o.modifier&&o.modifier(t[i],e,s[a],i))},Wm=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,a,o){o._onInit=function(c){var h,u;if($t(a)&&(h={},Ts(a,function(d){return h[d]=1}),a=h),t){h={};for(u in a)h[u]=t(a[u]);a=h}JN(c,a)}}}},Es=_h.registerPlugin({name:"attr",init:function(e,t,s,i,a){var o,c,h;this.tween=s;for(o in t)h=e.getAttribute(o)||"",c=this.add(e,"setAttribute",(h||0)+"",t[o],i,a,0,0,o),c.op=o,c.b=h,this._props.push(o)},render:function(e,t){for(var s=t._pt;s;)ss?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,t){for(var s=t.length;s--;)this.add(e,s,e[s]||0,t[s],0,0,0,0,0,1)}},Wm("roundProps",Yg),Wm("modifiers"),Wm("snap",sC))||_h;Ot.version=gs.version=Es.version="3.13.0";YS=1;wp()&&po();Fe.Power0;Fe.Power1;Fe.Power2;Fe.Power3;Fe.Power4;Fe.Linear;Fe.Quad;Fe.Cubic;Fe.Quart;Fe.Quint;Fe.Strong;Fe.Elastic;Fe.Back;Fe.SteppedEase;Fe.Bounce;Fe.Sine;Fe.Expo;Fe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Dv,Jn,ao,Op,La,Pv,Np,eL=function(){return typeof window<"u"},Cn={},Oa=180/Math.PI,ro=Math.PI/180,Gr=Math.atan2,Bv=1e8,Lp=/([A-Z])/g,tL=/(left|right|width|margin|padding|x)/i,sL=/[\s,\(]\S/,Hi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Hg=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},iL=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nL=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},aL=function(e,t){var s=t.s+t.c*e;t.set(t.t,t.p,~~(s+(s<0?-.5:.5))+t.u,t)},SC=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},CC=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},rL=function(e,t,s){return e.style[t]=s},oL=function(e,t,s){return e.style.setProperty(t,s)},lL=function(e,t,s){return e._gsap[t]=s},cL=function(e,t,s){return e._gsap.scaleX=e._gsap.scaleY=s},uL=function(e,t,s,i,a){var o=e._gsap;o.scaleX=o.scaleY=s,o.renderTransform(a,o)},hL=function(e,t,s,i,a){var o=e._gsap;o[t]=s,o.renderTransform(a,o)},xt="transform",ks=xt+"Origin",dL=function n(e,t){var s=this,i=this.target,a=i.style,o=i._gsap;if(e in Cn&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Hi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return s.tfm[c]=pn(i,c)}):this.tfm[e]=o.x?o[e]:pn(i,e),e===ks&&(this.tfm.zOrigin=o.zOrigin);else return Hi.transform.split(",").forEach(function(c){return n.call(s,c,t)});if(this.props.indexOf(xt)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ks,t,"")),e=xt}(a||t)&&this.props.push(e,t,a[e])},AC=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fL=function(){var e=this.props,t=this.target,s=t.style,i=t._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?s[e[a]]=e[a+2]:s.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(Lp,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=Np(),(!a||!a.isStart)&&!s[xt]&&(AC(s),i.zOrigin&&s[ks]&&(s[ks]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},TC=function(e,t){var s={target:e,props:[],revert:fL,save:dL};return e._gsap||Es.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return s.save(i)}),s},MC,Xg=function(e,t){var s=Jn.createElementNS?Jn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Jn.createElement(e);return s&&s.style?s:Jn.createElement(e)},ui=function n(e,t,s){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(Lp,"-$1").toLowerCase())||i.getPropertyValue(t)||!s&&n(e,yo(t)||t,1)||""},Ov="O,Moz,ms,Ms,Webkit".split(","),yo=function(e,t,s){var i=t||La,a=i.style,o=5;if(e in a&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Ov[o]+e in a););return o<0?null:(o===3?"ms":o>=0?Ov[o]:"")+e},Gg=function(){eL()&&window.document&&(Dv=window,Jn=Dv.document,ao=Jn.documentElement,La=Xg("div")||{style:{}},Xg("div"),xt=yo(xt),ks=xt+"Origin",La.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",MC=!!yo("perspective"),Np=Es.core.reverting,Op=1)},Nv=function(e){var t=e.ownerSVGElement,s=Xg("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",s.appendChild(i),ao.appendChild(s);try{a=i.getBBox()}catch{}return s.removeChild(i),ao.removeChild(s),a},Lv=function(e,t){for(var s=t.length;s--;)if(e.hasAttribute(t[s]))return e.getAttribute(t[s])},kC=function(e){var t,s;try{t=e.getBBox()}catch{t=Nv(e),s=1}return t&&(t.width||t.height)||s||(t=Nv(e)),t&&!t.width&&!t.x&&!t.y?{x:+Lv(e,["x","cx","x1"])||0,y:+Lv(e,["y","cy","y1"])||0,width:0,height:0}:t},EC=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&kC(e))},Ka=function(e,t){if(t){var s=e.style,i;t in Cn&&t!==ks&&(t=xt),s.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),s.removeProperty(i==="--"?t:t.replace(Lp,"-$1").toLowerCase())):s.removeAttribute(t)}},ea=function(e,t,s,i,a,o){var c=new Ms(e._pt,t,s,0,1,o?CC:SC);return e._pt=c,c.b=i,c.e=a,e._props.push(s),c},Iv={deg:1,rad:1,turn:1},mL={grid:1,flex:1},aa=function n(e,t,s,i){var a=parseFloat(s)||0,o=(s+"").trim().substr((a+"").length)||"px",c=La.style,h=tL.test(t),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(h?"Width":"Height"),m=100,y=i==="px",p=i==="%",x,v,_,A;if(i===o||!a||Iv[i]||Iv[o])return a;if(o!=="px"&&!y&&(a=n(e,t,s,"px")),A=e.getCTM&&EC(e),(p||o==="%")&&(Cn[t]||~t.indexOf("adius")))return x=A?e.getBBox()[h?"width":"height"]:e[d],Et(p?a/x*m:a/100*x);if(c[h?"width":"height"]=m+(y?o:i),v=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,A&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Jn||!v.appendChild)&&(v=Jn.body),_=v._gsap,_&&p&&_.width&&h&&_.time===Vs.time&&!_.uncache)return Et(a/_.width*m);if(p&&(t==="height"||t==="width")){var S=e.style[t];e.style[t]=m+i,x=e[d],S?e.style[t]=S:Ka(e,t)}else(p||o==="%")&&!mL[ui(v,"display")]&&(c.position=ui(e,"position")),v===e&&(c.position="static"),v.appendChild(La),x=La[d],v.removeChild(La),c.position="absolute";return h&&p&&(_=Ua(v),_.time=Vs.time,_.width=v[d]),Et(y?x*a/m:x&&a?m/x*a:0)},pn=function(e,t,s,i){var a;return Op||Gg(),t in Hi&&t!=="transform"&&(t=Hi[t],~t.indexOf(",")&&(t=t.split(",")[0])),Cn[t]&&t!=="transform"?(a=cc(e,i),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:Sh(ui(e,ks))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=wh[t]&&wh[t](e,t,s)||ui(e,t)||XS(e,t)||(t==="opacity"?1:0))),s&&!~(a+"").trim().indexOf(" ")?aa(e,t,a,s)+s:a},gL=function(e,t,s,i){if(!s||s==="none"){var a=yo(t,e,1),o=a&&ui(e,a,1);o&&o!==s?(t=a,s=o):t==="borderColor"&&(s=ui(e,"borderTopColor"))}var c=new Ms(this._pt,e.style,t,0,1,vC),h=0,u=0,d,m,y,p,x,v,_,A,S,w,T,R;if(c.b=s,c.e=i,s+="",i+="",i.substring(0,6)==="var(--"&&(i=ui(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(v=e.style[t],e.style[t]=i,i=ui(e,t)||i,v?e.style[t]=v:Ka(e,t)),d=[s,i],uC(d),s=d[0],i=d[1],y=s.match(Qr)||[],R=i.match(Qr)||[],R.length){for(;m=Qr.exec(i);)_=m[0],S=i.substring(h,m.index),x?x=(x+1)%5:(S.substr(-5)==="rgba("||S.substr(-5)==="hsla(")&&(x=1),_!==(v=y[u++]||"")&&(p=parseFloat(v)||0,T=v.substr((p+"").length),_.charAt(1)==="="&&(_=no(p,_)+T),A=parseFloat(_),w=_.substr((A+"").length),h=Qr.lastIndex-w.length,w||(w=w||Xs.units[t]||T,h===i.length&&(i+=w,c.e+=w)),T!==w&&(p=aa(e,t,v,w)||0),c._pt={_next:c._pt,p:S||u===1?S:",",s:p,c:A-p,m:x&&x<4||t==="zIndex"?Math.round:0});c.c=h<i.length?i.substring(h,i.length):""}else c.r=t==="display"&&i==="none"?CC:SC;return FS.test(i)&&(c.e=0),this._pt=c,c},zv={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},pL=function(e){var t=e.split(" "),s=t[0],i=t[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(e=s,s=i,i=e),t[0]=zv[s]||s,t[1]=zv[i]||i,t.join(" ")},yL=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var s=t.t,i=s.style,a=t.u,o=s._gsap,c,h,u;if(a==="all"||a===!0)i.cssText="",h=1;else for(a=a.split(","),u=a.length;--u>-1;)c=a[u],Cn[c]&&(h=1,c=c==="transformOrigin"?ks:xt),Ka(s,c);h&&(Ka(s,xt),o&&(o.svg&&s.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",cc(s,1),o.uncache=1,AC(i)))}},wh={clearProps:function(e,t,s,i,a){if(a.data!=="isFromStart"){var o=e._pt=new Ms(e._pt,t,s,0,0,yL);return o.u=i,o.pr=-10,o.tween=a,e._props.push(s),1}}},lc=[1,0,0,1,0,0],RC={},DC=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Fv=function(e){var t=ui(e,xt);return DC(t)?lc:t.substr(7).match(zS).map(Et)},Ip=function(e,t){var s=e._gsap||Ua(e),i=e.style,a=Fv(e),o,c,h,u;return s.svg&&e.getAttribute("transform")?(h=e.transform.baseVal.consolidate().matrix,a=[h.a,h.b,h.c,h.d,h.e,h.f],a.join(",")==="1,0,0,1,0,0"?lc:a):(a===lc&&!e.offsetParent&&e!==ao&&!s.svg&&(h=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,c=e.nextElementSibling,ao.appendChild(e)),a=Fv(e),h?i.display=h:Ka(e,"display"),u&&(c?o.insertBefore(e,c):o?o.appendChild(e):ao.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},qg=function(e,t,s,i,a,o){var c=e._gsap,h=a||Ip(e,!0),u=c.xOrigin||0,d=c.yOrigin||0,m=c.xOffset||0,y=c.yOffset||0,p=h[0],x=h[1],v=h[2],_=h[3],A=h[4],S=h[5],w=t.split(" "),T=parseFloat(w[0])||0,R=parseFloat(w[1])||0,E,D,B,O;s?h!==lc&&(D=p*_-x*v)&&(B=T*(_/D)+R*(-v/D)+(v*S-_*A)/D,O=T*(-x/D)+R*(p/D)-(p*S-x*A)/D,T=B,R=O):(E=kC(e),T=E.x+(~w[0].indexOf("%")?T/100*E.width:T),R=E.y+(~(w[1]||w[0]).indexOf("%")?R/100*E.height:R)),i||i!==!1&&c.smooth?(A=T-u,S=R-d,c.xOffset=m+(A*p+S*v)-A,c.yOffset=y+(A*x+S*_)-S):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=R,c.smooth=!!i,c.origin=t,c.originIsAbsolute=!!s,e.style[ks]="0px 0px",o&&(ea(o,c,"xOrigin",u,T),ea(o,c,"yOrigin",d,R),ea(o,c,"xOffset",m,c.xOffset),ea(o,c,"yOffset",y,c.yOffset)),e.setAttribute("data-svg-origin",T+" "+R)},cc=function(e,t){var s=e._gsap||new mC(e);if("x"in s&&!t&&!s.uncache)return s;var i=e.style,a=s.scaleX<0,o="px",c="deg",h=getComputedStyle(e),u=ui(e,ks)||"0",d,m,y,p,x,v,_,A,S,w,T,R,E,D,B,O,L,z,H,X,j,W,I,U,ne,se,F,K,ae,ee,ce,ue;return d=m=y=v=_=A=S=w=T=0,p=x=1,s.svg=!!(e.getCTM&&EC(e)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(i[xt]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[xt]!=="none"?h[xt]:"")),i.scale=i.rotate=i.translate="none"),D=Ip(e,s.svg),s.svg&&(s.uncache?(ne=e.getBBox(),u=s.xOrigin-ne.x+"px "+(s.yOrigin-ne.y)+"px",U=""):U=!t&&e.getAttribute("data-svg-origin"),qg(e,U||u,!!U||s.originIsAbsolute,s.smooth!==!1,D)),R=s.xOrigin||0,E=s.yOrigin||0,D!==lc&&(z=D[0],H=D[1],X=D[2],j=D[3],d=W=D[4],m=I=D[5],D.length===6?(p=Math.sqrt(z*z+H*H),x=Math.sqrt(j*j+X*X),v=z||H?Gr(H,z)*Oa:0,S=X||j?Gr(X,j)*Oa+v:0,S&&(x*=Math.abs(Math.cos(S*ro))),s.svg&&(d-=R-(R*z+E*X),m-=E-(R*H+E*j))):(ue=D[6],ee=D[7],F=D[8],K=D[9],ae=D[10],ce=D[11],d=D[12],m=D[13],y=D[14],B=Gr(ue,ae),_=B*Oa,B&&(O=Math.cos(-B),L=Math.sin(-B),U=W*O+F*L,ne=I*O+K*L,se=ue*O+ae*L,F=W*-L+F*O,K=I*-L+K*O,ae=ue*-L+ae*O,ce=ee*-L+ce*O,W=U,I=ne,ue=se),B=Gr(-X,ae),A=B*Oa,B&&(O=Math.cos(-B),L=Math.sin(-B),U=z*O-F*L,ne=H*O-K*L,se=X*O-ae*L,ce=j*L+ce*O,z=U,H=ne,X=se),B=Gr(H,z),v=B*Oa,B&&(O=Math.cos(B),L=Math.sin(B),U=z*O+H*L,ne=W*O+I*L,H=H*O-z*L,I=I*O-W*L,z=U,W=ne),_&&Math.abs(_)+Math.abs(v)>359.9&&(_=v=0,A=180-A),p=Et(Math.sqrt(z*z+H*H+X*X)),x=Et(Math.sqrt(I*I+ue*ue)),B=Gr(W,I),S=Math.abs(B)>2e-4?B*Oa:0,T=ce?1/(ce<0?-ce:ce):0),s.svg&&(U=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!DC(ui(e,xt)),U&&e.setAttribute("transform",U))),Math.abs(S)>90&&Math.abs(S)<270&&(a?(p*=-1,S+=v<=0?180:-180,v+=v<=0?180:-180):(x*=-1,S+=S<=0?180:-180)),t=t||s.uncache,s.x=d-((s.xPercent=d&&(!t&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+o,s.y=m-((s.yPercent=m&&(!t&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-m)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+o,s.z=y+o,s.scaleX=Et(p),s.scaleY=Et(x),s.rotation=Et(v)+c,s.rotationX=Et(_)+c,s.rotationY=Et(A)+c,s.skewX=S+c,s.skewY=w+c,s.transformPerspective=T+o,(s.zOrigin=parseFloat(u.split(" ")[2])||!t&&s.zOrigin||0)&&(i[ks]=Sh(u)),s.xOffset=s.yOffset=0,s.force3D=Xs.force3D,s.renderTransform=s.svg?bL:MC?PC:xL,s.uncache=0,s},Sh=function(e){return(e=e.split(" "))[0]+" "+e[1]},$m=function(e,t,s){var i=cs(t);return Et(parseFloat(t)+parseFloat(aa(e,"x",s+"px",i)))+i},xL=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,PC(e,t)},ka="0deg",El="0px",Ea=") ",PC=function(e,t){var s=t||this,i=s.xPercent,a=s.yPercent,o=s.x,c=s.y,h=s.z,u=s.rotation,d=s.rotationY,m=s.rotationX,y=s.skewX,p=s.skewY,x=s.scaleX,v=s.scaleY,_=s.transformPerspective,A=s.force3D,S=s.target,w=s.zOrigin,T="",R=A==="auto"&&e&&e!==1||A===!0;if(w&&(m!==ka||d!==ka)){var E=parseFloat(d)*ro,D=Math.sin(E),B=Math.cos(E),O;E=parseFloat(m)*ro,O=Math.cos(E),o=$m(S,o,D*O*-w),c=$m(S,c,-Math.sin(E)*-w),h=$m(S,h,B*O*-w+w)}_!==El&&(T+="perspective("+_+Ea),(i||a)&&(T+="translate("+i+"%, "+a+"%) "),(R||o!==El||c!==El||h!==El)&&(T+=h!==El||R?"translate3d("+o+", "+c+", "+h+") ":"translate("+o+", "+c+Ea),u!==ka&&(T+="rotate("+u+Ea),d!==ka&&(T+="rotateY("+d+Ea),m!==ka&&(T+="rotateX("+m+Ea),(y!==ka||p!==ka)&&(T+="skew("+y+", "+p+Ea),(x!==1||v!==1)&&(T+="scale("+x+", "+v+Ea),S.style[xt]=T||"translate(0, 0)"},bL=function(e,t){var s=t||this,i=s.xPercent,a=s.yPercent,o=s.x,c=s.y,h=s.rotation,u=s.skewX,d=s.skewY,m=s.scaleX,y=s.scaleY,p=s.target,x=s.xOrigin,v=s.yOrigin,_=s.xOffset,A=s.yOffset,S=s.forceCSS,w=parseFloat(o),T=parseFloat(c),R,E,D,B,O;h=parseFloat(h),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,h+=d),h||u?(h*=ro,u*=ro,R=Math.cos(h)*m,E=Math.sin(h)*m,D=Math.sin(h-u)*-y,B=Math.cos(h-u)*y,u&&(d*=ro,O=Math.tan(u-d),O=Math.sqrt(1+O*O),D*=O,B*=O,d&&(O=Math.tan(d),O=Math.sqrt(1+O*O),R*=O,E*=O)),R=Et(R),E=Et(E),D=Et(D),B=Et(B)):(R=m,B=y,E=D=0),(w&&!~(o+"").indexOf("px")||T&&!~(c+"").indexOf("px"))&&(w=aa(p,"x",o,"px"),T=aa(p,"y",c,"px")),(x||v||_||A)&&(w=Et(w+x-(x*R+v*D)+_),T=Et(T+v-(x*E+v*B)+A)),(i||a)&&(O=p.getBBox(),w=Et(w+i/100*O.width),T=Et(T+a/100*O.height)),O="matrix("+R+","+E+","+D+","+B+","+w+","+T+")",p.setAttribute("transform",O),S&&(p.style[xt]=O)},vL=function(e,t,s,i,a){var o=360,c=$t(a),h=parseFloat(a)*(c&&~a.indexOf("rad")?Oa:1),u=h-i,d=i+u+"deg",m,y;return c&&(m=a.split("_")[1],m==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-360)),m==="cw"&&u<0?u=(u+o*Bv)%o-~~(u/o)*o:m==="ccw"&&u>0&&(u=(u-o*Bv)%o-~~(u/o)*o)),e._pt=y=new Ms(e._pt,t,s,i,u,iL),y.e=d,y.u="deg",e._props.push(s),y},jv=function(e,t){for(var s in t)e[s]=t[s];return e},_L=function(e,t,s){var i=jv({},s._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=s.style,c,h,u,d,m,y,p,x;i.svg?(u=s.getAttribute("transform"),s.setAttribute("transform",""),o[xt]=t,c=cc(s,1),Ka(s,xt),s.setAttribute("transform",u)):(u=getComputedStyle(s)[xt],o[xt]=t,c=cc(s,1),o[xt]=u);for(h in Cn)u=i[h],d=c[h],u!==d&&a.indexOf(h)<0&&(p=cs(u),x=cs(d),m=p!==x?aa(s,h,u,x):parseFloat(u),y=parseFloat(d),e._pt=new Ms(e._pt,c,h,m,y-m,Hg),e._pt.u=x||0,e._props.push(h));jv(c,i)};Ts("padding,margin,Width,Radius",function(n,e){var t="Top",s="Right",i="Bottom",a="Left",o=(e<3?[t,s,i,a]:[t+a,t+s,i+s,i+a]).map(function(c){return e<2?n+c:"border"+c+n});wh[e>1?"border"+n:n]=function(c,h,u,d,m){var y,p;if(arguments.length<4)return y=o.map(function(x){return pn(c,x,u)}),p=y.join(" "),p.split(y[0]).length===5?y[0]:p;y=(d+"").split(" "),p={},o.forEach(function(x,v){return p[x]=y[v]=y[v]||y[(v-1)/2|0]}),c.init(h,p,m)}});var BC={name:"css",register:Gg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,s,i,a){var o=this._props,c=e.style,h=s.vars.startAt,u,d,m,y,p,x,v,_,A,S,w,T,R,E,D,B;Op||Gg(),this.styles=this.styles||TC(e),B=this.styles.props,this.tween=s;for(v in t)if(v!=="autoRound"&&(d=t[v],!(Us[v]&&gC(v,t,s,i,e,a)))){if(p=typeof d,x=wh[v],p==="function"&&(d=d.call(s,i,e,a),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=ac(d)),x)x(this,e,v,d,s)&&(D=1);else if(v.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(v)+"").trim(),d+="",ia.lastIndex=0,ia.test(u)||(_=cs(u),A=cs(d)),A?_!==A&&(u=aa(e,v,u,A)+A):_&&(d+=_),this.add(c,"setProperty",u,d,i,a,0,0,v),o.push(v),B.push(v,0,c[v]);else if(p!=="undefined"){if(h&&v in h?(u=typeof h[v]=="function"?h[v].call(s,i,e,a):h[v],$t(u)&&~u.indexOf("random(")&&(u=ac(u)),cs(u+"")||u==="auto"||(u+=Xs.units[v]||cs(pn(e,v))||""),(u+"").charAt(1)==="="&&(u=pn(e,v))):u=pn(e,v),y=parseFloat(u),S=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),S&&(d=d.substr(2)),m=parseFloat(d),v in Hi&&(v==="autoAlpha"&&(y===1&&pn(e,"visibility")==="hidden"&&m&&(y=0),B.push("visibility",0,c.visibility),ea(this,c,"visibility",y?"inherit":"hidden",m?"inherit":"hidden",!m)),v!=="scale"&&v!=="transform"&&(v=Hi[v],~v.indexOf(",")&&(v=v.split(",")[0]))),w=v in Cn,w){if(this.styles.save(v),p==="string"&&d.substring(0,6)==="var(--"&&(d=ui(e,d.substring(4,d.indexOf(")"))),m=parseFloat(d)),T||(R=e._gsap,R.renderTransform&&!t.parseTransform||cc(e,t.parseTransform),E=t.smoothOrigin!==!1&&R.smooth,T=this._pt=new Ms(this._pt,c,xt,0,1,R.renderTransform,R,0,-1),T.dep=1),v==="scale")this._pt=new Ms(this._pt,R,"scaleY",R.scaleY,(S?no(R.scaleY,S+m):m)-R.scaleY||0,Hg),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){B.push(ks,0,c[ks]),d=pL(d),R.svg?qg(e,d,0,E,0,this):(A=parseFloat(d.split(" ")[2])||0,A!==R.zOrigin&&ea(this,R,"zOrigin",R.zOrigin,A),ea(this,c,v,Sh(u),Sh(d)));continue}else if(v==="svgOrigin"){qg(e,d,1,E,0,this);continue}else if(v in RC){vL(this,R,v,y,S?no(y,S+d):d);continue}else if(v==="smoothOrigin"){ea(this,R,"smooth",R.smooth,d);continue}else if(v==="force3D"){R[v]=d;continue}else if(v==="transform"){_L(this,d,e);continue}}else v in c||(v=yo(v)||v);if(w||(m||m===0)&&(y||y===0)&&!sL.test(d)&&v in c)_=(u+"").substr((y+"").length),m||(m=0),A=cs(d)||(v in Xs.units?Xs.units[v]:_),_!==A&&(y=aa(e,v,u,A)),this._pt=new Ms(this._pt,w?R:c,v,y,(S?no(y,S+m):m)-y,!w&&(A==="px"||v==="zIndex")&&t.autoRound!==!1?aL:Hg),this._pt.u=A||0,_!==A&&A!=="%"&&(this._pt.b=u,this._pt.r=nL);else if(v in c)gL.call(this,e,v,u,S?S+d:d);else if(v in e)this.add(e,v,u||e[v],S?S+d:d,i,a);else if(v!=="parseTransform"){Cp(v,d);continue}w||(v in c?B.push(v,0,c[v]):typeof e[v]=="function"?B.push(v,2,e[v]()):B.push(v,1,u||e[v])),o.push(v)}}D&&_C(this)},render:function(e,t){if(t.tween._time||!Np())for(var s=t._pt;s;)s.r(e,s.d),s=s._next;else t.styles.revert()},get:pn,aliases:Hi,getSetter:function(e,t,s){var i=Hi[t];return i&&i.indexOf(",")<0&&(t=i),t in Cn&&t!==ks&&(e._gsap.x||pn(e,"x"))?s&&Pv===s?t==="scale"?cL:lL:(Pv=s||{})&&(t==="scale"?uL:hL):e.style&&!_p(e.style[t])?rL:~t.indexOf("-")?oL:Pp(e,t)},core:{_removeProperty:Ka,_getMatrix:Ip}};Es.utils.checkPrefix=yo;Es.core.getStyleSaver=TC;(function(n,e,t,s){var i=Ts(n+","+e+","+t,function(a){Cn[a]=1});Ts(e,function(a){Xs.units[a]="deg",RC[a]=1}),Hi[i[13]]=n+","+e,Ts(s,function(a){var o=a.split(":");Hi[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ts("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Xs.units[n]="px"});Es.registerPlugin(BC);var Wg=Es.registerPlugin(BC)||Es;Wg.core.Tween;class bo{constructor(e){M(this,"container");M(this,"graphics");M(this,"app");M(this,"isVisible",!1);M(this,"color");M(this,"alpha");M(this,"strokeWidth");this.app=e.app,this.color=e.color??16777215,this.alpha=e.alpha??1,this.strokeWidth=e.strokeWidth??1,this.container=new qs,this.graphics=new $l,this.container.addChild(this.graphics)}getContainer(){return this.container}setVisible(e){this.isVisible=e,this.container.visible=e,e||this.clear()}clear(){this.graphics.clear()}get screenRect(){return this.app.renderer.screen}isPointVisible(e,t,s=0){return!0}isCircleVisible(e,t,s){return!0}isSegmentVisible(e,t,s,i){return!0}isPolylineVisible(e,t=2,s=0,i=1){return!0}destroy(){this.clear(),this.container.destroy({children:!0})}}class wL extends bo{constructor(t){super(t);M(this,"pathColor");M(this,"startEndColor");M(this,"boneConnectionColor");M(this,"targetColor");M(this,"showPath");M(this,"showStartEnd");M(this,"showBoneConnections");M(this,"showTarget");M(this,"pathDotRadius");M(this,"pathStrokeWidth");this.pathColor=t.pathColor??16753920,this.startEndColor=t.startEndColor??16761446,this.boneConnectionColor=t.boneConnectionColor??16747520,this.targetColor=t.targetColor??16753920,this.showPath=t.showPath??!0,this.showStartEnd=t.showStartEnd??!0,this.showBoneConnections=t.showBoneConnections??!0,this.showTarget=t.showTarget??!0,this.pathDotRadius=t.pathDotRadius??3,this.pathStrokeWidth=t.pathStrokeWidth}update(t){var a;if(!this.isVisible)return;this.clear();const i=t.skeleton.pathConstraints||[];for(const o of i){if(typeof(o==null?void 0:o.isActive)=="function"&&!o.isActive())continue;const c=o.world;!c||c.length<3||(this.showPath&&this.drawPath(c),this.showStartEnd&&this.drawStartEndCircles(c),this.showBoneConnections&&this.drawBoneConnections(o,c),this.showTarget&&((a=o.target)!=null&&a.bone)&&this.drawTarget(o.target.bone))}}drawPath(t){if(!this.isPolylineVisible(t,3,0,1))return;const s=this.graphics,i=this.pathStrokeWidth??this.strokeWidth;s.stroke({color:this.pathColor,width:i,pixelLine:!0,alpha:this.alpha}).moveTo(t[0],t[1]);for(let h=3;h<t.length;h+=3){const u=t[h],d=t[h+1];s.lineTo(u,d)}const a=this.pathDotRadius;if(a>0){s.stroke({width:0,alpha:0});for(let h=0;h<t.length;h+=3){const u=t[h],d=t[h+1];this.isCircleVisible(u,d,a)&&s.fill({color:this.pathColor,alpha:this.alpha*.35}).circle(u,d,a).fill()}}const o=9,c=Math.max(4,i*1.5);for(let h=3;h<t.length;h+=3*o){const u=t[h-3],d=t[h-2],m=t[h],y=t[h+1];this.drawArrowhead(u,d,m,y,c,this.pathColor,this.alpha*.9)}}drawStartEndCircles(t){const s=this.graphics,i=8;t.length>=3&&this.isCircleVisible(t[0],t[1],i)&&(s.fill({color:this.startEndColor,alpha:this.alpha*.6}).circle(t[0],t[1],i).fill(),s.stroke({color:this.startEndColor,width:2,pixelLine:!0,alpha:this.alpha}).circle(t[0],t[1],i));const a=t[t.length-3],o=t[t.length-2];this.isCircleVisible(a,o,i)&&(s.fill({color:this.startEndColor,alpha:this.alpha*.6}).circle(a,o,i).fill(),s.stroke({color:this.startEndColor,width:2,pixelLine:!0,alpha:this.alpha}).circle(a,o,i))}drawBoneConnections(t,s){const i=t.bones;if(!i||i.length===0)return;const a=this.graphics;a.stroke({color:this.boneConnectionColor,width:Math.max(1,this.strokeWidth-1),pixelLine:!0,alpha:this.alpha*.6});for(const o of i){const c=o.worldX,h=o.worldY;let u=0,d=Number.POSITIVE_INFINITY;for(let p=0;p<s.length;p+=3){const x=s[p]-c,v=s[p+1]-h,_=x*x+v*v;_<d&&(d=_,u=p)}const m=s[u],y=s[u+1];this.isSegmentVisible(c,h,m,y)&&(a.moveTo(c,h).lineTo(m,y),this.isCircleVisible(m,y,2)&&a.fill({color:this.boneConnectionColor,alpha:this.alpha*.8}).circle(m,y,2).fill())}}drawTarget(t){const s=t.worldX,i=t.worldY,a=15;if(!this.isCircleVisible(s,i,a))return;const o=this.graphics;o.fill({color:this.targetColor,alpha:this.alpha*.18}).circle(s,i,a).fill(),o.stroke({color:this.targetColor,width:this.strokeWidth,pixelLine:!0,alpha:this.alpha}).circle(s,i,a).moveTo(s-a*.7,i).lineTo(s+a*.7,i).moveTo(s,i-a*.7).lineTo(s,i+a*.7)}drawArrowhead(t,s,i,a,o,c,h){const u=i-t,d=a-s,m=Math.hypot(u,d);if(m<1e-4)return;const y=u/m,p=d/m,x=-p,v=y,_=i-y*o,A=a-p*o,S=_+x*(o*.5),w=A+v*(o*.5),T=_-x*(o*.5),R=A-v*(o*.5);this.graphics.fill({color:c,alpha:h}).poly([S,w,T,R,i,a]).fill()}setShowPath(t){this.showPath=t}setShowStartEnd(t){this.showStartEnd=t}setShowBoneConnections(t){this.showBoneConnections=t}setShowTarget(t){this.showTarget=t}setColors(t){t.path!==void 0&&(this.pathColor=t.path),t.startEnd!==void 0&&(this.startEndColor=t.startEnd),t.boneConnection!==void 0&&(this.boneConnectionColor=t.boneConnection),t.target!==void 0&&(this.targetColor=t.target)}setPathStyle(t){t.dotRadius!==void 0&&(this.pathDotRadius=t.dotRadius),t.strokeWidth!==void 0&&(this.pathStrokeWidth=t.strokeWidth)}}class SL extends bo{constructor(t){super(t);M(this,"boneColor");M(this,"targetColor");M(this,"startCircleColor");M(this,"startCircleRadius");M(this,"targetCircleRadius");M(this,"showBoneChain");M(this,"showTarget");M(this,"showStartCircle");this.boneColor=t.boneColor??65535,this.targetColor=t.targetColor??65535,this.startCircleColor=t.startCircleColor??65535,this.startCircleRadius=t.startCircleRadius??6,this.targetCircleRadius=t.targetCircleRadius??10,this.showBoneChain=t.showBoneChain??!0,this.showTarget=t.showTarget??!0,this.showStartCircle=t.showStartCircle??!0}update(t){var a;if(!this.isVisible)return;this.clear();const i=t.skeleton.ikConstraints||[];for(const o of i){if(!((a=o==null?void 0:o.isActive)!=null&&a.call(o)))continue;const c=o.bones||[];c.length!==0&&(this.showStartCircle&&c.length>0&&this.drawStartCircle(c[0]),this.showBoneChain&&this.drawBoneChain(c),this.showTarget&&o.target&&this.drawTarget(c[c.length-1],o.target))}}drawStartCircle(t){if(!this.isCircleVisible(t.worldX,t.worldY,this.startCircleRadius))return;const s=this.graphics;s.fill({color:this.startCircleColor,alpha:this.alpha*.5}).circle(t.worldX,t.worldY,this.startCircleRadius).fill(),s.stroke({color:this.startCircleColor,width:2,pixelLine:!0,alpha:this.alpha}).circle(t.worldX,t.worldY,this.startCircleRadius)}drawBoneChain(t){const s=this.graphics;s.stroke({color:this.boneColor,width:this.strokeWidth,pixelLine:!0,alpha:this.alpha});for(let i=0;i<t.length-1;i++){const a=t[i],o=t[i+1];this.isSegmentVisible(a.worldX,a.worldY,o.worldX,o.worldY)&&s.moveTo(a.worldX,a.worldY).lineTo(o.worldX,o.worldY)}}drawTarget(t,s){const i=s.worldX,a=s.worldY;if(this.isSegmentVisible(t.worldX,t.worldY,i,a)&&this.graphics.stroke({color:this.targetColor,width:this.strokeWidth,pixelLine:!0,alpha:this.alpha}).moveTo(t.worldX,t.worldY).lineTo(i,a),this.isCircleVisible(i,a,this.targetCircleRadius)){const o=this.graphics;o.fill({color:this.targetColor,alpha:this.alpha*.3}).circle(i,a,this.targetCircleRadius).fill(),o.stroke({color:this.targetColor,width:2,pixelLine:!0,alpha:this.alpha}).circle(i,a,this.targetCircleRadius);const c=5;o.moveTo(i-c,a).lineTo(i+c,a).moveTo(i,a-c).lineTo(i,a+c)}}setShowBoneChain(t){this.showBoneChain=t}setShowTarget(t){this.showTarget=t}setShowStartCircle(t){this.showStartCircle=t}setColors(t){t.bone!==void 0&&(this.boneColor=t.bone),t.target!==void 0&&(this.targetColor=t.target),t.startCircle!==void 0&&(this.startCircleColor=t.startCircle)}}class CL extends bo{constructor(t){super(t);M(this,"boneColor");M(this,"jointColor");M(this,"jointRadius");M(this,"showBones");M(this,"showJoints");M(this,"showHierarchy");M(this,"triangleBaseScale");M(this,"triangleMinBase");M(this,"triangleMaxBase");M(this,"boneEndCircleRadius");this.boneColor=t.boneColor??16777215,this.jointColor=t.jointColor??16777215,this.jointRadius=t.jointRadius??3,this.showBones=t.showBones??!0,this.showJoints=t.showJoints??!0,this.showHierarchy=t.showHierarchy??!1,this.triangleBaseScale=t.triangleBaseScale??.25,this.triangleMinBase=t.triangleMinBase??8,this.triangleMaxBase=t.triangleMaxBase??30,this.boneEndCircleRadius=t.boneEndCircleRadius??3}update(t){var o;if(!this.isVisible)return;this.clear();const i=t.skeleton.bones||[],a=this.graphics;if(this.showBones){let c=0;for(const h of i){const u=h.worldX,d=h.worldY;if(h.parent){const X=h.parent.data,j=(X==null?void 0:X.length)??0,W=h.parent.worldX+h.parent.a*j,I=h.parent.worldY+h.parent.c*j;this.isSegmentVisible(u,d,W,I)&&a.stroke({color:16777215,width:1,alpha:this.alpha*.5,pixelLine:!0}).moveTo(u,d).lineTo(W,I)}const m=((o=h.data)==null?void 0:o.length)??0;if(m<1e-4){this.isCircleVisible(u,d,this.boneEndCircleRadius)&&(a.stroke({color:this.boneColor,width:this.strokeWidth,alpha:this.alpha,pixelLine:!0}).circle(u,d,this.boneEndCircleRadius),a.fill({color:this.boneColor,alpha:this.alpha*.3}).circle(u,d,this.boneEndCircleRadius).fill(),c++);continue}let y=u+h.a*m,p=d+h.c*m;const x=y-u,v=p-d,_=Math.hypot(x,v);if(_<1e-4)continue;const A=x/_,w=-(v/_),T=A,R=this.clamp(_*this.triangleBaseScale,this.triangleMinBase,this.triangleMaxBase),E=u+w*(R/2),D=d+T*(R/2),B=u-w*(R/2),O=d-T*(R/2),L=y,z=p;(this.isSegmentVisible(u,d,y,p)||this.isSegmentVisible(E,D,L,z)||this.isSegmentVisible(B,O,L,z)||this.isCircleVisible(u,d,this.boneEndCircleRadius))&&(a.stroke({color:this.boneColor,width:this.strokeWidth,alpha:this.alpha*.8,pixelLine:!0,miterLimit:2}).poly([E,D,L,z,B,O]).closePath(),a.fill({color:this.boneColor,alpha:this.alpha*.2}).poly([E,D,L,z,B,O]).fill(),c++)}console.log(`BoneDebugLayer: Drew ${c} bones`)}if(this.showJoints){a.stroke({width:1});let c=0;for(const h of i){const u=h.worldX,d=h.worldY;this.isCircleVisible(u,d,this.jointRadius)&&(a.stroke({color:this.jointColor,width:2,alpha:this.alpha,pixelLine:!0}).circle(u,d,this.jointRadius),a.fill({color:this.jointColor,alpha:this.alpha*.6}).circle(u,d,this.jointRadius).fill(),c++)}console.log(`BoneDebugLayer: Drew ${c} joints`)}}setShowBones(t){this.showBones=t}setShowJoints(t){this.showJoints=t}setShowHierarchy(t){this.showHierarchy=t}setColors(t){t.bone!==void 0&&(this.boneColor=t.bone),t.joint!==void 0&&(this.jointColor=t.joint)}setJointRadius(t){this.jointRadius=t}setBoneEndCircleRadius(t){this.boneEndCircleRadius=t}setTriangleParams(t){t.baseScale!==void 0&&(this.triangleBaseScale=t.baseScale),t.minBase!==void 0&&(this.triangleMinBase=t.minBase),t.maxBase!==void 0&&(this.triangleMaxBase=t.maxBase)}clamp(t,s,i){return Math.max(s,Math.min(i,t))}}class AL extends bo{constructor(t){super(t);M(this,"triangleColor");M(this,"hullColor");M(this,"vertexColor");M(this,"showTriangles");M(this,"showHull");M(this,"showVertices");M(this,"triangleAlpha");M(this,"hullAlpha");M(this,"vertexAlpha");M(this,"vertexRadius");this.triangleColor=t.triangleColor??65280,this.hullColor=t.hullColor??16711935,this.vertexColor=t.vertexColor??16776960,this.showTriangles=t.showTriangles??!0,this.showHull=t.showHull??!0,this.showVertices=t.showVertices??!1,this.triangleAlpha=t.triangleAlpha??.3,this.hullAlpha=t.hullAlpha??.5,this.vertexAlpha=t.vertexAlpha??.6,this.vertexRadius=t.vertexRadius??2}update(t){if(!this.isVisible)return;this.clear();const s=t.skeleton;for(const i of s.slots){const a=i.getAttachment();if(a instanceof Wt){const o=a.worldVerticesLength;if(o===0)continue;const c=new Float32Array(o);a.computeWorldVertices(i,0,o,c,0,2),this.showTriangles&&a.triangles&&a.triangles.length>0&&this.drawTriangles(this.graphics,c,a.triangles),this.showHull&&o>=4&&this.drawHull(this.graphics,c),this.showVertices&&o>=2&&this.drawVertices(this.graphics,c)}}}drawTriangles(t,s,i){if(!(i.length===0||s.length===0)){t.stroke({width:1,color:this.triangleColor,alpha:this.triangleAlpha,pixelLine:!0});for(let a=0;a<i.length&&!(a+2>=i.length);a+=3){const o=i[a]*2,c=i[a+1]*2,h=i[a+2]*2;o+1>=s.length||c+1>=s.length||h+1>=s.length||!isFinite(s[o])||!isFinite(s[o+1])||!isFinite(s[c])||!isFinite(s[c+1])||!isFinite(s[h])||!isFinite(s[h+1])||t.moveTo(s[o],s[o+1]).lineTo(s[c],s[c+1]).lineTo(s[h],s[h+1]).lineTo(s[o],s[o+1])}}}drawHull(t,s){if(s.length<4||(t.stroke({width:1.5,color:this.hullColor,alpha:this.hullAlpha,pixelLine:!0}),!isFinite(s[0])||!isFinite(s[1])))return;t.moveTo(s[0],s[1]);let i=1;for(let a=2;a<s.length&&!(a+1>=s.length);a+=2)!isFinite(s[a])||!isFinite(s[a+1])||(t.lineTo(s[a],s[a+1]),i++);i>=3&&t.lineTo(s[0],s[1])}drawVertices(t,s){if(s.length<2)return;t.fill({color:this.vertexColor,alpha:this.vertexAlpha});let i=0;for(let a=0;a<s.length&&!(a+1>=s.length);a+=2)!isFinite(s[a])||!isFinite(s[a+1])||this.isCircleVisible(s[a],s[a+1],this.vertexRadius)&&(t.circle(s[a],s[a+1],this.vertexRadius).fill(),i++);console.log(`MeshDebugLayer: Drew ${i} vertices`)}setShowTriangles(t){this.showTriangles=t}setShowHull(t){this.showHull=t}setShowVertices(t){this.showVertices=t}setColors(t){t.triangle!==void 0&&(this.triangleColor=t.triangle),t.hull!==void 0&&(this.hullColor=t.hull),t.vertex!==void 0&&(this.vertexColor=t.vertex)}setAlphas(t){t.triangle!==void 0&&(this.triangleAlpha=t.triangle),t.hull!==void 0&&(this.hullAlpha=t.hull),t.vertex!==void 0&&(this.vertexAlpha=t.vertex)}setVertexRadius(t){this.vertexRadius=t}}class TL extends bo{constructor(t){super(t);M(this,"constraintBoneColor");M(this,"targetBoneColor");M(this,"limitColor");M(this,"showConstraints");M(this,"showTargets");M(this,"showLimits");M(this,"constraintBoneAlpha");M(this,"targetBoneAlpha");M(this,"limitAlpha");this.constraintBoneColor=t.constraintBoneColor??65535,this.targetBoneColor=t.targetBoneColor??11393254,this.limitColor=t.limitColor??65535,this.showConstraints=t.showConstraints??!0,this.showTargets=t.showTargets??!0,this.showLimits=t.showLimits??!1,this.constraintBoneAlpha=t.constraintBoneAlpha??.6,this.targetBoneAlpha=t.targetBoneAlpha??.7,this.limitAlpha=t.limitAlpha??.5}update(t){if(!this.isVisible)return;this.clear();const i=t.skeleton.transformConstraints||[];for(const a of i)typeof(a==null?void 0:a.isActive)=="function"&&!a.isActive()||(this.showConstraints&&a.bones&&this.drawConstraintBones(a.bones),this.showTargets&&a.target&&this.drawTargetBone(a.target),this.showLimits&&this.drawLimits(a))}drawConstraintBones(t){const s=this.graphics;s.stroke({color:this.constraintBoneColor,width:2,alpha:this.constraintBoneAlpha,pixelLine:!0});for(const i of t){const a=i.worldX,o=i.worldY;this.isCircleVisible(a,o,5)&&s.moveTo(a-6,o).lineTo(a,o-6).lineTo(a+6,o).lineTo(a,o+6).lineTo(a-6,o)}}drawTargetBone(t){const s=this.graphics,i=t.worldX,a=t.worldY;this.isCircleVisible(i,a,8)&&(s.stroke({color:this.targetBoneColor,width:2,alpha:this.targetBoneAlpha,pixelLine:!0}),s.circle(i,a,8),s.moveTo(i-8,a).lineTo(i+8,a),s.moveTo(i,a-8).lineTo(i,a+8))}drawLimits(t){if(!t.bones||t.bones.length===0)return;const s=this.graphics,i=t.bones[0],a=i.worldX,o=i.worldY;s.stroke({color:this.limitColor,width:1,alpha:this.limitAlpha,pixelLine:!0});const c=30,h=8;for(let u=0;u<h;u+=2){const d=u/h*Math.PI*2,m=(u+1)/h*Math.PI*2,y=a+Math.cos(d)*c,p=o+Math.sin(d)*c,x=a+Math.cos(m)*c,v=o+Math.sin(m)*c;this.isSegmentVisible(y,p,x,v)&&s.moveTo(y,p).lineTo(x,v)}}setShowConstraints(t){this.showConstraints=t}setShowTargets(t){this.showTargets=t}setShowLimits(t){this.showLimits=t}setColors(t){t.constraintBone!==void 0&&(this.constraintBoneColor=t.constraintBone),t.targetBone!==void 0&&(this.targetBoneColor=t.targetBone),t.limit!==void 0&&(this.limitColor=t.limit)}setAlphas(t){t.constraintBone!==void 0&&(this.constraintBoneAlpha=t.constraintBone),t.targetBone!==void 0&&(this.targetBoneAlpha=t.targetBone),t.limit!==void 0&&(this.limitAlpha=t.limit)}}class ML extends bo{constructor(t){super(t);M(this,"boundsColor");M(this,"gravityColor");M(this,"windColor");M(this,"motionColor");M(this,"showBounds");M(this,"showGravity");M(this,"showWind");M(this,"showMotion");M(this,"boundsAlpha");M(this,"gravityAlpha");M(this,"windAlpha");M(this,"motionAlpha");this.boundsColor=t.boundsColor??8388736,this.gravityColor=t.gravityColor??4915330,this.windColor=t.windColor??9662683,this.motionColor=t.motionColor??8388736,this.showBounds=t.showBounds??!0,this.showGravity=t.showGravity??!0,this.showWind=t.showWind??!0,this.showMotion=t.showMotion??!0,this.boundsAlpha=t.boundsAlpha??.5,this.gravityAlpha=t.gravityAlpha??.7,this.windAlpha=t.windAlpha??.6,this.motionAlpha=t.motionAlpha??.6}update(t){if(!this.isVisible)return;this.clear();const i=t.skeleton.physicsConstraints||[];for(const a of i)typeof(a==null?void 0:a.isActive)=="function"&&!a.isActive()||(this.showBounds&&a.bone&&this.drawBounds(a),this.showGravity&&a.gravity!==0&&this.drawGravity(a),this.showWind&&a.wind!==0&&this.drawWind(a),this.showMotion&&this.drawMotion(a))}drawBounds(t){const s=this.graphics,i=t.bone,a=i.worldX,o=i.worldY,c=40,h=20;this.isSegmentVisible(a-c/2,o-h/2,a+c/2,o+h/2)&&(s.stroke({color:this.boundsColor,width:1.5,alpha:this.boundsAlpha,pixelLine:!0}),s.rect(a-c/2,o-h/2,c,h))}drawGravity(t){const s=this.graphics,i=t.bone,a=i.worldX,o=i.worldY,c=20*Math.abs(t.gravity)/100,h=a,u=o,d=h,m=u+c;if(this.isSegmentVisible(h,u,d,m)){s.stroke({color:this.gravityColor,width:2,alpha:this.gravityAlpha,pixelLine:!0}),s.moveTo(h,u).lineTo(d,m);const y=5;s.moveTo(d,m).lineTo(d-y,m-y).moveTo(d,m).lineTo(d+y,m-y)}}drawWind(t){const s=this.graphics,i=t.bone,a=i.worldX,o=i.worldY,c=Math.abs(t.wind)/100,h=15,u=3*c;if(this.isSegmentVisible(a-20,o,a+20,o)){s.stroke({color:this.windColor,width:1,alpha:this.windAlpha,pixelLine:!0}),s.moveTo(a-20,o);for(let d=-20;d<=20;d+=2){const m=o+Math.sin(d/h*Math.PI*2)*u;s.lineTo(a+d,m)}}}drawMotion(t){const s=this.graphics,i=t.bone,a=i.worldX,o=i.worldY,c=3;this.isCircleVisible(a,o,c)&&(s.fill({color:this.motionColor,alpha:this.motionAlpha}),s.circle(a,o,c).fill())}setShowBounds(t){this.showBounds=t}setShowGravity(t){this.showGravity=t}setShowWind(t){this.showWind=t}setShowMotion(t){this.showMotion=t}setColors(t){t.bounds!==void 0&&(this.boundsColor=t.bounds),t.gravity!==void 0&&(this.gravityColor=t.gravity),t.wind!==void 0&&(this.windColor=t.wind),t.motion!==void 0&&(this.motionColor=t.motion)}setAlphas(t){t.bounds!==void 0&&(this.boundsAlpha=t.bounds),t.gravity!==void 0&&(this.gravityAlpha=t.gravity),t.wind!==void 0&&(this.windAlpha=t.wind),t.motion!==void 0&&(this.motionAlpha=t.motion)}}class Yv{static createLayer(e,t){switch(e){case"bones":return new CL({app:t.app,boneColor:t.boneColor??16777215,jointColor:t.jointColor??16777215,jointRadius:t.jointRadius??3,alpha:t.alpha??.6,strokeWidth:t.strokeWidth??2,showBones:t.showBones??!0,showJoints:t.showJoints??!0});case"pathConstraints":return new wL({app:t.app,pathColor:t.pathColor??65280,alpha:t.alpha??1,strokeWidth:t.strokeWidth??1,showPath:t.showPath??!0,showStartEnd:t.showStartEnd??!0,showBoneConnections:t.showBoneConnections??!0,showTarget:t.showTarget??!0});case"ikConstraints":return new SL({app:t.app,boneColor:t.boneColor??65535,targetColor:t.targetColor??65535,startCircleColor:t.startCircleColor??65535,alpha:t.alpha??1,strokeWidth:t.strokeWidth??1,showBoneChain:t.showBoneChain??!0,showTarget:t.showTarget??!0,showStartCircle:t.showStartCircle??!0});case"meshes":return new AL({app:t.app,triangleColor:t.triangleColor??65280,hullColor:t.hullColor??16711935,vertexColor:t.vertexColor??16776960,alpha:t.alpha??1,strokeWidth:t.strokeWidth??1,showTriangles:t.showTriangles??!0,showHull:t.showHull??!0,showVertices:t.showVertices??!1,triangleAlpha:t.triangleAlpha??.3,hullAlpha:t.hullAlpha??.5,vertexAlpha:t.vertexAlpha??.6,vertexRadius:t.vertexRadius??2});case"transformConstraints":return new TL({app:t.app,constraintBoneColor:t.constraintBoneColor??65535,targetBoneColor:t.targetBoneColor??11393254,limitColor:t.limitColor??65535,alpha:t.alpha??1,strokeWidth:t.strokeWidth??1,showConstraints:t.showConstraints??!0,showTargets:t.showTargets??!0,showLimits:t.showLimits??!1,constraintBoneAlpha:t.constraintBoneAlpha??.6,targetBoneAlpha:t.targetBoneAlpha??.7,limitAlpha:t.limitAlpha??.5});case"physics":return new ML({app:t.app,boundsColor:t.boundsColor??8388736,gravityColor:t.gravityColor??4915330,windColor:t.windColor??9662683,motionColor:t.motionColor??8388736,alpha:t.alpha??1,strokeWidth:t.strokeWidth??1,showBounds:t.showBounds??!0,showGravity:t.showGravity??!0,showWind:t.showWind??!0,showMotion:t.showMotion??!0,boundsAlpha:t.boundsAlpha??.5,gravityAlpha:t.gravityAlpha??.7,windAlpha:t.windAlpha??.6,motionAlpha:t.motionAlpha??.6});case"clipping":case"blendModes":case"boundingBoxes":throw new Error(`Layer type '${e}' not yet implemented`);default:throw new Error(`Unknown layer type: ${e}`)}}static getDefaultOptions(e,t){switch(e){case"bones":return{app:t,boneColor:16777215,jointColor:16777215,jointRadius:3,alpha:.6,strokeWidth:2,showBones:!0,showJoints:!0};case"pathConstraints":return{app:t,pathColor:65280,alpha:1,strokeWidth:1,showPath:!0,showStartEnd:!0,showBoneConnections:!0,showTarget:!0};case"ikConstraints":return{app:t,boneColor:65535,targetColor:65535,startCircleColor:65535,alpha:1,strokeWidth:1,showBoneChain:!0,showTarget:!0,showStartCircle:!0};case"meshes":return{app:t,triangleColor:65280,hullColor:16711935,vertexColor:16776960,alpha:.6,strokeWidth:1,showTriangles:!0,showHull:!0,showVertices:!1,triangleAlpha:.3,hullAlpha:.5,vertexAlpha:.6,vertexRadius:2};case"transformConstraints":return{app:t,constraintBoneColor:65535,targetBoneColor:11393254,limitColor:65535,alpha:1,strokeWidth:1,showConstraints:!0,showTargets:!0,showLimits:!1,constraintBoneAlpha:.6,targetBoneAlpha:.7,limitAlpha:.5};case"physics":return{app:t,boundsColor:8388736,gravityColor:4915330,windColor:9662683,motionColor:8388736,alpha:1,strokeWidth:1,showBounds:!0,showGravity:!0,showWind:!0,showMotion:!0,boundsAlpha:.5,gravityAlpha:.7,windAlpha:.6,motionAlpha:.6};default:return{app:t,alpha:1,strokeWidth:1}}}}class kL{constructor(){M(this,"flags");this.flags={showBones:!1,showRegionAttachments:!1,showMeshTriangles:!1,showMeshHull:!1,showVertices:!1,showBoundingBoxes:!1,showPaths:!1,showClipping:!1,showPhysics:!1,showIkConstraints:!1,showTransformConstraints:!1,showPathConstraints:!1}}setDebugFlags(e){this.flags={...this.flags,...e}}getDebugFlags(){return{...this.flags}}isLayerVisible(e){switch(e){case"bones":return this.flags.showBones;case"pathConstraints":return this.flags.showPathConstraints;case"ikConstraints":return this.flags.showIkConstraints;case"meshes":return this.flags.showMeshTriangles||this.flags.showMeshHull||this.flags.showVertices;case"transformConstraints":return this.flags.showTransformConstraints;case"physics":return this.flags.showPhysics;default:return!1}}togglePathConstraints(e){const t=e??!this.flags.showPathConstraints;this.setDebugFlags({showPathConstraints:t})}toggleIkConstraints(e){const t=e??!this.flags.showIkConstraints;this.setDebugFlags({showIkConstraints:t})}toggleMeshes(e){const t=e??!this.flags.showMeshTriangles;this.setDebugFlags({showMeshTriangles:t,showMeshHull:t,showVertices:t,showRegionAttachments:t,showBoundingBoxes:t,showPaths:t,showClipping:t})}togglePhysics(e){const t=e??!this.flags.showPhysics;this.setDebugFlags({showPhysics:t})}toggleTransformConstraints(e){const t=e??!this.flags.showTransformConstraints;this.setDebugFlags({showTransformConstraints:t})}}class EL{constructor(e){M(this,"app");M(this,"container");M(this,"layers",new Map);M(this,"flagsManager");M(this,"currentSpine",null);this.app=e,this.container=new qs,this.flagsManager=new kL,this.initializeLayers()}initializeLayers(){["bones","pathConstraints","ikConstraints","meshes","transformConstraints","physics"].forEach(t=>{try{const s=Yv.createLayer(t,Yv.getDefaultOptions(t,this.app));this.layers.set(t,s),this.container.addChild(s.getContainer())}catch(s){console.warn(`DebugRendererManager: Failed to create ${t} layer:`,s)}})}getContainer(){return this.container}setSpine(e){this.currentSpine=e,e||this.clearAll()}update(){var e,t,s,i,a,o;this.flagsManager.isLayerVisible("bones")&&((e=this.layers.get("bones"))==null||e.update(this.currentSpine)),this.flagsManager.isLayerVisible("pathConstraints")&&((t=this.layers.get("pathConstraints"))==null||t.update(this.currentSpine)),this.flagsManager.isLayerVisible("ikConstraints")&&((s=this.layers.get("ikConstraints"))==null||s.update(this.currentSpine)),this.flagsManager.isLayerVisible("meshes")&&((i=this.layers.get("meshes"))==null||i.update(this.currentSpine)),this.flagsManager.isLayerVisible("transformConstraints")&&((a=this.layers.get("transformConstraints"))==null||a.update(this.currentSpine)),this.flagsManager.isLayerVisible("physics")&&((o=this.layers.get("physics"))==null||o.update(this.currentSpine))}setDebugFlags(e){this.flagsManager.setDebugFlags(e),this.layers.forEach((t,s)=>{const i=this.flagsManager.isLayerVisible(s);t.setVisible(i)}),this.currentSpine&&this.update()}getDebugFlags(){return this.flagsManager.getDebugFlags()}clearAll(){this.layers.forEach(e=>e.clear())}getLayer(e){return this.layers.get(e)}destroy(){this.clearAll(),this.layers.forEach(e=>e.destroy()),this.layers.clear(),this.container.destroy({children:!0})}togglePathConstraints(e){this.flagsManager.togglePathConstraints(e),this.setDebugFlags(this.flagsManager.getDebugFlags())}toggleIkConstraints(e){this.flagsManager.toggleIkConstraints(e),this.setDebugFlags(this.flagsManager.getDebugFlags())}toggleMeshes(e){this.flagsManager.toggleMeshes(e),this.setDebugFlags(this.flagsManager.getDebugFlags())}togglePhysics(e){this.flagsManager.togglePhysics(e),this.setDebugFlags(this.flagsManager.getDebugFlags())}toggleTransformConstraints(e){this.flagsManager.toggleTransformConstraints(e),this.setDebugFlags(this.flagsManager.getDebugFlags())}}class RL extends qs{constructor(t){super();M(this,"originalWidth");M(this,"originalHeight");M(this,"app");M(this,"isDragging",!1);M(this,"lastPosition",null);M(this,"debugRenderer");M(this,"currentSpine",null);M(this,"debugContainer");this.originalWidth=t.width,this.originalHeight=t.height,this.app=t.app,this.debugRenderer=new EL(this.app),this.debugContainer=new qs,this.setupEventListeners(),this.x=this.app.renderer.width/2,this.y=this.app.renderer.height/2,this.onResize=this.onResize.bind(this),window.addEventListener("resize",this.onResize),this.app.ticker.add(()=>{this.currentSpine&&this.debugRenderer.update()})}setupEventListeners(){const t=this.app.canvas;t&&(t.addEventListener("mousedown",s=>{s.button===0&&(this.isDragging=!0,this.lastPosition={x:s.clientX,y:s.clientY},t.style.cursor="grabbing")}),window.addEventListener("mousemove",s=>{if(!this.isDragging||!this.lastPosition)return;const i=s.clientX-this.lastPosition.x,a=s.clientY-this.lastPosition.y;this.x+=i,this.y+=a,this.lastPosition={x:s.clientX,y:s.clientY}}),window.addEventListener("mouseup",s=>{s.button===0&&(this.isDragging=!1,this.lastPosition=null,t.style.cursor="default")}),t.addEventListener("wheel",s=>{s.preventDefault();const i=Math.sign(s.deltaY),a=.2,o=10;let h=this.scale.x-i*.1;h=Math.max(a,Math.min(o,h)),h=Number((Math.ceil(h*20)/20).toFixed(2)),this.scale.set(h),this.setCanvasScaleDebugInfo(h)},{passive:!1}))}onResize(){this.x=this.app.renderer.width/2,this.y=this.app.renderer.height/2}lookAtChild(t){var d;if(this.currentSpine=t,this.debugRenderer.getContainer().parent&&((d=this.debugRenderer.getContainer().parent)==null||d.removeChild(this.debugRenderer.getContainer())),this.currentSpine){const m=this.getChildIndex(this.currentSpine);this.addChildAt(this.debugRenderer.getContainer(),m+1),console.log(`CameraContainer: Added debug container at index ${m+1}, spine at ${m}`),this.debugRenderer.setSpine(this.currentSpine)}const s=20;let i=t.getBounds();(i.width===0||i.height===0)&&(i.width=t.skeleton.data.width/2,i.height=t.skeleton.data.height/2);const a=(this.app.screen.width-s*2)/i.width,o=(this.app.screen.height-s*2)/i.height;let c=Math.min(a,o);t.scale.set(1);const h=this.app.screen.width/2,u=this.app.screen.height/2;Wg.to(this,{x:h,y:u,duration:1,ease:"power2.out"}),c=Number((Math.ceil(c*20)/20).toFixed(2)),this.scale.set(c),this.setCanvasScaleDebugInfo(c)}setCanvasScaleDebugInfo(t){const s=document.getElementById("scale-info");s&&(s.innerText=`Scale: x${t.toFixed(2)}`)}setDebugFlags(t){this.debugRenderer.setDebugFlags(t)}getDebugFlags(){return this.debugRenderer.getDebugFlags()}toggleMeshes(t){const s=t??!this.debugRenderer.getDebugFlags().showMeshTriangles;this.debugRenderer.setDebugFlags({showMeshTriangles:s,showMeshHull:s,showRegionAttachments:s})}togglePhysics(t){const s=t??!this.debugRenderer.getDebugFlags().showPhysics;this.debugRenderer.setDebugFlags({showPhysics:s})}toggleIkConstraints(t){this.debugRenderer.toggleIkConstraints(t)}forceResetDebugGraphics(){this.debugRenderer.clearAll(),this.currentSpine&&this.debugRenderer.update()}centerViewport(){const t=this.app.renderer.width,s=this.app.renderer.height;Wg.to(this,{x:t/2,y:s/2,duration:.5,ease:"power2.out"})}destroy(){var t;window.removeEventListener("resize",this.onResize),this.debugRenderer.getContainer().parent&&((t=this.debugRenderer.getContainer().parent)==null||t.removeChild(this.debugRenderer.getContainer())),this.debugRenderer.destroy(),super.destroy()}}function DL(n,e,t){const s=n.skeleton;let i=0,a=0,o=0,c=0;const h=new Set;e.timelines.forEach(m=>{if(m instanceof fc){const y=m.slotIndex,p=s.slots[y],x=m.attachment;p&&x&&x instanceof Wt&&h.add(`${p.data.name}:${x.name}`)}}),console.log(`Analyzing ${t.meshes.size} active meshes for animation: ${e.name}`),t.meshes.forEach(m=>{var _;const[y,...p]=m.split(":"),x=p.join(":"),v=s.slots.find(A=>A.data.name===y);if(v){const A=v.getAttachment();let S=null;if(A&&A.name===x?S=A:S=s.getAttachment(v.data.index,x),S&&S instanceof Wt){i++;const w=S.worldVerticesLength/2;a+=w,(_=S.bones)!=null&&_.length&&o++,h.has(m)&&c++}}});const u={activeMeshCount:i,totalVertices:a,weightedMeshCount:o,deformedMeshCount:c,avgVerticesPerMesh:i>0?a/i:0,highVertexMeshes:0,complexMeshes:0,score:0},d=Yw(u);return u.score=d,u}function PL(n){const e=n.skeleton,t=n.skeleton.data.animations;let s=0,i=0,a=0,o=0;const c=new Map,h=[];e.slots.forEach(m=>{var p,x;const y=m.getAttachment();if(y&&y instanceof Wt){s++;const v=y.worldVerticesLength/2;i+=v,(((p=y.bones)==null?void 0:p.length)??0)>0&&a++;const A=y.getParentMesh()!=null;h.push({slotName:m.data.name,vertices:v,isDeformed:!1,boneWeights:((x=y.bones)==null?void 0:x.length)||0,hasParentMesh:A}),c.set(m.data.name,!1)}}),t.forEach(m=>{m.timelines.forEach(y=>{if(y instanceof fc){const p=y.slotIndex,x=e.slots[p],v=x.getAttachment();if(v&&v instanceof Wt&&!c.get(x.data.name)){o++,c.set(x.data.name,!0);const _=h.find(A=>A.slotName===x.data.name);_&&(_.isDeformed=!0)}}})}),h.sort((m,y)=>y.vertices-m.vertices);const u={activeMeshCount:s,totalVertices:i,weightedMeshCount:a,deformedMeshCount:o,avgVerticesPerMesh:s>0?i/s:0,highVertexMeshes:h.filter(m=>m.vertices>50).length,complexMeshes:h.filter(m=>m.vertices>20&&(m.isDeformed||m.boneWeights>0)).length,score:0},d=Yw(u);return u.score=d,{meshes:h,metrics:u}}function BL(n,e,t){const s=n.skeleton;let i=0,a=0,o=0;console.log(`Analyzing clipping for ${e.name}, active slots: ${t.slots.size}`),t.slots.forEach(h=>{const u=s.slots.find(d=>d.data.name===h);if(u){const d=u.getAttachment();if(d&&d instanceof Xi){i++;const m=d.worldVerticesLength/2;a+=m,m>4&&o++,console.log(`Found clipping mask in slot ${h} with ${m} vertices`)}}});const c=Uw(i,a,o);return{activeMaskCount:i,maskCount:i,totalVertices:a,complexMasks:o,score:c}}function OL(n){const e=[];let t=0;n.skeleton.slots.forEach(o=>{if(o.attachment&&o.attachment instanceof Xi){const h=o.attachment.worldVerticesLength/2;e.push({slotName:o.data.name,vertexCount:h}),t+=h}});const s=e.filter(o=>o.vertexCount>4).length,i=Uw(e.length,t,s),a={activeMaskCount:e.length,maskCount:e.length,totalVertices:t,complexMasks:s,score:i};return{masks:e,metrics:a}}function NL(n,e,t){const s=n.skeleton,i=n.state,a=[];for(let y=0;y<i.tracks.length;y++){const p=i.tracks[y];p&&a.push({index:y,animation:p.animation,time:p.trackTime,loop:p.loop})}i.clearTracks(),i.setAnimation(0,e.name,!1);const o=1/60,c=e.duration;let h=0,u=0,d=0;console.log(`Analyzing blend modes frame by frame for ${e.name}, duration: ${c}s`);for(let y=0;y<=c;y+=o){i.update(0),i.tracks[0].trackTime=y,i.apply(s),s.update(0),s.updateWorldTransform(Yi.update);let p=0,x=0,v=0;t.slots.forEach(_=>{const A=s.slots.find(S=>S.data.name===_);if(A&&A.color.a>0&&A.attachment){const S=A.data.blendMode;S!==hs.Normal&&(p++,S===hs.Additive?x++:S===hs.Multiply&&v++)}}),h=Math.max(h,p),u=Math.max(u,x),d=Math.max(d,v)}console.log(`Max concurrent blend modes - Non-normal: ${h}, Additive: ${u}, Multiply: ${d}`),i.clearTracks(),a.forEach(y=>{const p=i.setAnimation(y.index,y.animation.name,y.loop);p.trackTime=y.time}),i.apply(s);const m=Vw(h,u);return{activeNonNormalCount:h,nonNormalBlendModeCount:h,activeAdditiveCount:u,additiveCount:u,activeMultiplyCount:d,multiplyCount:d,score:m}}function LL(n){const e=new Map,t=new Map;Object.values(hs).forEach(c=>{typeof c=="number"&&e.set(c,0)}),n.skeleton.slots.forEach(c=>{const h=c.data.blendMode;e.set(h,(e.get(h)||0)+1),h!==hs.Normal&&t.set(c.data.name,h)});const s=Array.from(t.values()).filter(c=>c===hs.Additive).length,i=Array.from(t.values()).filter(c=>c===hs.Multiply).length,a=Vw(t.size,s),o={activeNonNormalCount:t.size,nonNormalBlendModeCount:t.size,activeAdditiveCount:s,additiveCount:s,activeMultiplyCount:i,multiplyCount:i,score:a};return{blendModeCounts:e,slotsWithNonNormalBlendMode:t,metrics:o}}function IL(n){const e=n.skeleton;function t(u){const d=u.children||[];return{name:u.data.name,type:"bone",x:u.x.toFixed(2),y:u.y.toFixed(2),children:d.map(t)}}const s=e.bones.filter(u=>!u.parent),i=s.map(t),a=Hw(i),o=e.bones.length,c=r3(o,a),h={totalBones:o,rootBones:s.length,maxDepth:a,score:c};return{boneTree:i,metrics:h}}function zL(n,e,t){const s=n.skeleton,i=t.activeConstraints.ik.size,a=t.activeConstraints.transform.size,o=t.activeConstraints.path.size,c=t.activeConstraints.physics.size;console.log(`Active constraints in ${e.name}:`,{ik:i,transform:a,path:o,physics:c});const h=[],u=[],d=[],m=[];s.ikConstraints.forEach(S=>{t.activeConstraints.ik.has(S.data.name)&&h.push({name:S.data.name,bones:S.bones.map(w=>w.data.name),mix:S.mix||S.data.mix||1})}),s.transformConstraints.forEach(S=>{if(t.activeConstraints.transform.has(S.data.name)){const w=[],T=S.mixRotate??S.data.mixRotate??0,R=S.mixX??S.data.mixX??0,E=S.mixY??S.data.mixY??0,D=S.mixScaleX??S.data.mixScaleX??0,B=S.mixScaleY??S.data.mixScaleY??0,O=S.mixShearY??S.data.mixShearY??0;T>0&&w.push("rotate"),R>0&&w.push("x"),E>0&&w.push("y"),D>0&&w.push("scaleX"),B>0&&w.push("scaleY"),O>0&&w.push("shearY"),u.push({name:S.data.name,bones:S.bones.map(L=>L.data.name),affectedProps:w.length})}}),s.pathConstraints.forEach(S=>{t.activeConstraints.path.has(S.data.name)&&d.push({name:S.data.name,bones:S.bones.map(w=>w.data.name),rotateMode:S.data.rotateMode||0,spacingMode:S.data.spacingMode||0})}),s.physicsConstraints&&s.physicsConstraints.forEach(S=>{if(t.activeConstraints.physics.has(S.data.name)){const w=[];S.data.x>0&&w.push("x"),S.data.y>0&&w.push("y"),S.data.rotate>0&&w.push("rotate"),S.data.scaleX>0&&w.push("scale"),S.data.shearX>0&&w.push("shear"),m.push({name:S.data.name,bone:S.bone.data.name,affectedProps:w.length,strength:S.strength||S.data.strength||100,damping:S.damping||S.data.damping||1})}});const y=OC(h),p=NC(u),x=LC(d),v=IC(m),_=i+a+o+c;let A=100;if(_>0){const S=y*St.IK_WEIGHT+p*St.TRANSFORM_WEIGHT+x*St.PATH_WEIGHT+v*St.PHYSICS_WEIGHT;A=Math.max(0,100-S*.5)}return{activeIkCount:i,activeTransformCount:a,activePathCount:o,activePhysicsCount:c,totalActiveConstraints:_,ikImpact:y,transformImpact:p,pathImpact:x,physicsImpact:v,score:A}}function FL(n){const e=n.skeleton,t=e.ikConstraints,s=e.transformConstraints,i=e.pathConstraints,a=e.physicsConstraints||[],o=t.map(A=>({name:A.data.name,target:A.target.data.name,bones:A.bones.map(S=>S.data.name),mix:A.mix,softness:A.softness,bendDirection:A.bendDirection,compress:A.compress,stretch:A.stretch,isActive:A.isActive()})),c=s.map(A=>({name:A.data.name,target:A.target.data.name,bones:A.bones.map(S=>S.data.name),mixRotate:A.mixRotate,mixX:A.mixX,mixY:A.mixY,mixScaleX:A.mixScaleX,mixScaleY:A.mixScaleY,mixShearY:A.mixShearY,isActive:A.isActive(),isLocal:A.data.local,isRelative:A.data.relative})),h=i.map(A=>({name:A.data.name,target:A.target.data.name,bones:A.bones.map(S=>S.data.name),mixRotate:A.mixRotate,mixX:A.mixX,mixY:A.mixY,position:A.position,spacing:A.spacing,positionMode:A.data.positionMode,spacingMode:A.data.spacingMode,rotateMode:A.data.rotateMode,offsetRotation:A.data.offsetRotation,isActive:A.isActive(),worldPositionsCount:A.world?A.world.length/3:0,hasSegments:A.segments&&A.segments.length>0,hasLengths:A.lengths&&A.lengths.length>0})),u=a.map(A=>({name:A.data.name,bone:A.bone.data.name,inertia:A.inertia,strength:A.strength,damping:A.damping,massInverse:A.massInverse,wind:A.wind,gravity:A.gravity,mix:A.mix,affectsX:A.data.x>0,affectsY:A.data.y>0,affectsRotation:A.data.rotate>0,affectsScale:A.data.scaleX>0,affectsShear:A.data.shearX>0,isActive:A.isActive()})),d=OC(o),m=NC(c),y=LC(h),p=IC(u),x=t.length+s.length+i.length+a.length;let v=100;if(x>0){const A=d*St.IK_WEIGHT+m*St.TRANSFORM_WEIGHT+y*St.PATH_WEIGHT+p*St.PHYSICS_WEIGHT;v=Math.max(0,100-A*.5)}const _={activeIkCount:o.length,activeTransformCount:c.length,activePathCount:h.length,activePhysicsCount:u.length,totalActiveConstraints:x,ikImpact:d,transformImpact:m,pathImpact:y,physicsImpact:p,score:v,ikCount:t.length,transformCount:s.length,pathCount:i.length,physicsCount:a.length,totalConstraints:x};return{ikConstraints:o,transformConstraints:c,pathConstraints:h,physicsConstraints:u,metrics:_}}function OC(n){if(n.length===0)return 0;let e=Math.log2(n.length+1)*20,t=0,s=0;return n.forEach(i=>{t+=i.bones.length,s=Math.max(s,i.bones.length)}),e+=Math.log2(t+1)*10,s>2&&(e+=Math.pow(s,St.IK_CHAIN_LENGTH_FACTOR)*2),Math.min(100,e)}function NC(n){if(n.length===0)return 0;let e=Math.log2(n.length+1)*15,t=0;n.forEach(i=>{t+=i.bones.length}),e+=Math.log2(t+1)*8;let s=0;return n.forEach(i=>{s+=i.affectedProps}),e+=s*5,Math.min(100,e)}function LC(n){if(n.length===0)return 0;let e=Math.log2(n.length+1)*20,t=0;n.forEach(i=>{t+=i.bones.length}),e+=Math.log2(t+1)*10;let s=0;return n.forEach(i=>{i.rotateMode===2?s+=3:i.rotateMode===1?s+=2:s+=1,i.spacingMode===3?s+=2:s+=1}),e+=s*7,Math.min(100,e)}function IC(n){if(n.length===0)return 0;let e=Math.log2(n.length+1)*30,t=0;return n.forEach(s=>{const i=Math.max(1,3-s.damping)*s.strength/50;t+=s.affectedProps*(1+i)}),e+=t*5,Math.min(100,e)}class jL{static sampleAnimation(e,t,s,i={}){const a=e.skeleton,o=e.state,c=i.sampleRate??30,h=i.preserveState??!0;let u=null;if(h){const d=o.getCurrent(0);u={trackTime:d?d.trackTime:0,animationName:d&&d.animation?d.animation.name:null,loop:d?d.loop:!1}}try{o.clearTrack(0),o.setAnimation(0,t.name,!1);const d=t.duration,m=Math.max(1,Math.ceil(d*c));for(let y=0;y<=m;y++){const p=y/m*d,x=o.getCurrent(0);x&&(x.trackTime=p,x.animationLast=p,x.animationEnd=d),o.update(0),o.apply(a),a.updateWorldTransform(Yi.update),s(p,a)}}finally{if(h&&u&&(o.clearTrack(0),u.animationName)){o.setAnimation(0,u.animationName,u.loop);const d=o.getCurrent(0);d&&(d.trackTime=u.trackTime,d.animationLast=u.trackTime,o.update(0),o.apply(a))}}}static getCurrentState(e){const s=e.state.getCurrent(0);return{trackTime:s?s.trackTime:0,animationName:s&&s.animation?s.animation.name:null,loop:s?s.loop:!1}}static restoreState(e,t){const s=e.skeleton,i=e.state;if(i.clearTrack(0),t.animationName){i.setAnimation(0,t.animationName,t.loop);const a=i.getCurrent(0);a&&(a.trackTime=t.trackTime,a.animationLast=t.trackTime,i.update(0),i.apply(s))}}static sampleAllAnimations(e,t,s={}){e.skeleton.data.animations.forEach(a=>{this.sampleAnimation(e,a,(o,c)=>{t(a,o,c)},s)})}}function YL(n,e){const t=n.skeleton,s={slots:new Set,meshes:new Set,bones:new Set,hasClipping:!1,hasBlendModes:!1,hasPhysics:!1,hasIK:!1,hasTransform:!1,hasPath:!1,activeConstraints:{physics:new Set,ik:new Set,transform:new Set,path:new Set}};return jL.sampleAnimation(n,e,(i,a)=>{UL(a,s)}),VL(e,t,s),s}function UL(n,e){n.slots.forEach(t=>{if(t.color.a===0)return;const s=t.getAttachment();if(!s)return;e.slots.add(t.data.name),s instanceof Wt?e.meshes.add(`${t.data.name}:${s.name}`):s instanceof Xi&&(e.hasClipping=!0),t.data.blendMode!==0&&(e.hasBlendModes=!0);let i=t.bone;for(;i;)e.bones.add(i.data.name),i=i.parent}),n.ikConstraints.forEach(t=>{t.isActive()&&t.mix>0&&(e.hasIK=!0,e.activeConstraints.ik.add(t.data.name),t.bones.forEach(s=>{e.bones.add(s.data.name)}))}),n.transformConstraints.forEach(t=>{t.isActive()&&(t.mixRotate>0||t.mixX>0||t.mixY>0||t.mixScaleX>0||t.mixScaleY>0||t.mixShearY>0)&&(e.hasTransform=!0,e.activeConstraints.transform.add(t.data.name),t.bones.forEach(i=>{e.bones.add(i.data.name)}))}),n.pathConstraints.forEach(t=>{t.isActive()&&(t.mixRotate>0||t.mixX>0||t.mixY>0)&&(e.hasPath=!0,e.activeConstraints.path.add(t.data.name),t.bones.forEach(s=>{e.bones.add(s.data.name)}))}),n.physicsConstraints&&n.physicsConstraints.forEach(t=>{t.isActive()&&t.mix>0&&(e.hasPhysics=!0,e.activeConstraints.physics.add(t.data.name),t.bone&&e.bones.add(t.bone.data.name))})}function VL(n,e,t){n.timelines.forEach(s=>{var i;if(s instanceof fp){const a=s.ikConstraintIndex,o=e.ikConstraints[a];o&&(t.hasIK=!0,t.activeConstraints.ik.add(o.data.name))}else if(s instanceof mp){const a=s.transformConstraintIndex,o=e.transformConstraints[a];o&&(t.hasTransform=!0,t.activeConstraints.transform.add(o.data.name))}else if(s instanceof yp||s instanceof gp||s instanceof pp){const a=s.pathConstraintIndex,o=e.pathConstraints[a];o&&(t.hasPath=!0,t.activeConstraints.path.add(o.data.name))}else if(s instanceof ra){const a=s.physicsConstraintIndex,o=(i=e.physicsConstraints)==null?void 0:i[a];o&&(t.hasPhysics=!0,t.activeConstraints.physics.add(o.data.name))}else if(s instanceof fc){const a=s.slotIndex,o=e.slots[a],c=s.attachment;o&&c&&(t.slots.add(o.data.name),c instanceof Wt&&t.meshes.add(`${o.data.name}:${c.name}`))}})}function zC(n){return IL(n)}function HL(n){return{globalMesh:PL(n),globalClipping:OL(n),globalBlendMode:LL(n),globalPhysics:FL(n)}}function XL(n,e){const t=YL(n,e),s=DL(n,e,t),i=BL(n,e,t),a=NL(n,e,t),o=zL(n,e,t),c={boneScore:zC(n).metrics.score,meshScore:s.score,clippingScore:i.score,blendModeScore:a.score,constraintScore:o.score},h=o3(c);return{name:e.name,duration:e.duration,overallScore:h,meshMetrics:s,clippingMetrics:i,blendModeMetrics:a,constraintMetrics:o,activeComponents:t}}function GL(n){const e=n.skeleton.data.animations,t=[];return e.forEach(s=>{t.push(XL(n,s))}),t}function qL(n){return{animationsWithPhysics:n.filter(e=>e.activeComponents.hasPhysics).length,animationsWithClipping:n.filter(e=>e.activeComponents.hasClipping).length,animationsWithBlendModes:n.filter(e=>e.activeComponents.hasBlendModes).length,animationsWithIK:n.filter(e=>e.activeComponents.hasIK).length,animationsWithTransform:n.filter(e=>e.activeComponents.hasTransform).length,animationsWithPath:n.filter(e=>e.activeComponents.hasPath).length,highVertexAnimations:n.filter(e=>e.meshMetrics.totalVertices>500).length,poorPerformingAnimations:n.filter(e=>e.overallScore<55).length}}function WL(n){const e=n.map(o=>o.overallScore);e.sort((o,c)=>o-c);const t=e.length>0?e[Math.floor(e.length/2)]:100,s=[...n].sort((o,c)=>c.overallScore-o.overallScore),i=s.length>0?s[0]:null,a=s.length>0?s[s.length-1]:null;return{sorted:s,best:i,worst:a,medianScore:t}}function $L(n,e,t,s,i,a){return{skeletonName:n.skeleton.data.name||"Unnamed",totalAnimations:n.skeleton.data.animations.length,totalSkins:n.skeleton.data.skins.length,skeleton:e,animations:s,globalMesh:t.globalMesh,globalClipping:t.globalClipping,globalBlendMode:t.globalBlendMode,globalPhysics:t.globalPhysics,medianScore:a.medianScore,bestAnimation:a.best,worstAnimation:a.worst,stats:i}}class Uv{static analyze(e){const t=zC(e),s=HL(e),i=GL(e),a=qL(i),o=WL(i);return $L(e,t,s,i,a,o)}static exportJSON(e){return{skeleton:{name:e.skeletonName,bones:e.skeleton.metrics.totalBones,maxDepth:e.skeleton.metrics.maxDepth,score:e.skeleton.metrics.score,totalAnimations:e.totalAnimations,totalSkins:e.totalSkins},performance:{medianScore:e.medianScore,bestAnimation:e.bestAnimation?{name:e.bestAnimation.name,score:e.bestAnimation.overallScore}:null,worstAnimation:e.worstAnimation?{name:e.worstAnimation.name,score:e.worstAnimation.overallScore}:null},statistics:e.stats,animations:e.animations.map(t=>({name:t.name,duration:t.duration,score:t.overallScore,metrics:{mesh:{count:t.meshMetrics.activeMeshCount,vertices:t.meshMetrics.totalVertices,deformed:t.meshMetrics.deformedMeshCount,weighted:t.meshMetrics.weightedMeshCount,score:t.meshMetrics.score},clipping:{masks:t.clippingMetrics.activeMaskCount,vertices:t.clippingMetrics.totalVertices,complex:t.clippingMetrics.complexMasks,score:t.clippingMetrics.score},blendMode:{nonNormal:t.blendModeMetrics.activeNonNormalCount,additive:t.blendModeMetrics.activeAdditiveCount,multiply:t.blendModeMetrics.activeMultiplyCount,score:t.blendModeMetrics.score},constraints:{physics:t.constraintMetrics.activePhysicsCount,ik:t.constraintMetrics.activeIkCount,transform:t.constraintMetrics.activeTransformCount,path:t.constraintMetrics.activePathCount,total:t.constraintMetrics.totalActiveConstraints,score:t.constraintMetrics.score}}}))}}}class FC{constructor(e){M(this,"app");this.app=e}async loadSpineFromUrls(e,t){try{console.log("Loading Spine files from URLs:",{jsonUrl:e,atlasUrl:t});const s=Date.now(),i=`atlas-${s}-${t}`,a=`json-${s}-${e}`;Jt.add({alias:i,src:t}),Jt.add({alias:a,src:e});const o=await fetch(t);if(!o.ok)throw new Error(`Failed to fetch atlas: ${o.statusText}`);const c=await o.text(),h=this.extractImageUrlsFromAtlas(c,t);console.log("Extracted image URLs:",h);for(const[_,A]of Object.entries(h)){const S=`${s}-${_}`;Jt.add({alias:S,src:A})}const u=[i,a,...Object.keys(h).map(_=>`${s}-${_}`)];await Jt.load(u);const d=await fetch(e);if(!d.ok)throw new Error(`Failed to fetch JSON: ${d.statusText}`);let m=await d.json();m&&m.spine&&m.spine.startsWith("4.1")&&(console.log("Updating Spine version from 4.1 to 4.2.0"),m.spine="4.2.0");const y=new Mg(c);for(const _ of y.pages){const A=_.name,S=`${s}-${A}`,w=await Jt.load(S);if(w)_.setTexture(Ya.from(w.source));else{const T=A.substring(0,A.lastIndexOf(".")),R=`${s}-${T}`,E=await Jt.load(R);if(!E)throw console.error(`Missing texture for page: ${A}`),new Error(`Missing texture for page: ${A}`);_.setTexture(Ya.from(E.source))}}const p=new kg(y),v=new Dg(p).readSkeletonData(m);return new sc(v)}catch(s){throw console.error("Error loading Spine files from URLs:",s),s}finally{}}extractImageUrlsFromAtlas(e,t){const s=e.split(`
`),i={},a=t.substring(0,t.lastIndexOf("/")+1);let o="";for(let c=0;c<s.length;c++){const h=s[c].trim();if(h!=="")if(h.startsWith("size:")){if(o){const u=this.resolveImageUrl(o,a);i[o]=u;const d=o.substring(0,o.lastIndexOf("."));d&&(i[d]=u)}o=""}else o===""&&(h.includes(":")||(o=h))}if(o){const c=this.resolveImageUrl(o,a);i[o]=c;const h=o.substring(0,o.lastIndexOf("."));h&&(i[h]=c)}return i}resolveImageUrl(e,t){return e.startsWith("http://")||e.startsWith("https://")?e:t+e}async loadSpineFiles(e){try{const t=Array.from(e);console.log("Processing files:",t.map(p=>p.fullPath||p.name).join(", "));let s,i,a,o=[];if(t.forEach(p=>{const x=p.name,v=p.fullPath||p.name;x.endsWith(".atlas")?(s=p,console.log("Atlas file found:",v)):x.endsWith(".json")?(i=p,console.log("JSON file found:",v)):x.endsWith(".skel")?(a=p,console.log("Skel file found:",v)):p.type.startsWith("image/")||x.endsWith(".png")||x.endsWith(".jpg")||x.endsWith(".jpeg")||x.endsWith(".webp")?(o.push(p),console.log("Image file found:",v)):console.log("Unrecognized file type:",v)}),!s)throw new Error("Missing atlas file (.atlas). Please include an atlas file with your Spine data.");if(!i&&!a)throw new Error("Missing skeleton file (.json or .skel). Please include a skeleton file with your Spine data.");if(o.length===0)throw new Error("Missing image files. Please include image files referenced by your atlas.");const c=await this.readFileAsText(s);let h;const u=!!a;if(a)console.log("Binary Format"),h=await this.readFileAsArrayBuffer(a);else if(i){console.log("JSON Format");const p=await this.readFileAsText(i);try{h=JSON.parse(p),h&&h.spine&&h.spine.startsWith("4.1")&&(console.log("Updating Spine version from 4.1 to 4.2.0"),h.spine="4.2.0")}catch(x){throw console.error("Error parsing JSON:",x),new Error("Invalid JSON format in skeleton file")}}const d=this.extractImageNamesFromAtlas(c);console.log("Image names referenced in atlas:",d);const m={};for(const p of o){const x=await this.fileToBase64(p),v=this.getFileName(p.name);m[v]={src:x,data:{type:p.type||"image/png"}};const _=v.substring(0,v.lastIndexOf("."));_&&(m[_]={src:x,data:{type:p.type||"image/png"}})}Jt.addBundle("spineAssets",m);const y=await Jt.loadBundle("spineAssets");return await this.createSpineAsset(h,c,y,u)}catch(t){throw console.error("Error loading Spine files:",t),t}}getFileName(e){return e.split("/").pop()||e}extractImageNamesFromAtlas(e){const t=e.split(`
`),s=[];let i="";for(let a=0;a<t.length;a++){const o=t[a].trim();o!==""&&(o.startsWith("size:")?(i&&!s.includes(i)&&s.push(i),i=""):i===""&&(o.includes(":")||(i=o)))}return i&&!s.includes(i)&&s.push(i),s}fileToBase64(e){return new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=s,i.readAsDataURL(e)})}readFileAsText(e){return new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=s,i.readAsText(e)})}readFileAsArrayBuffer(e){return new Promise((t,s)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=s,i.readAsArrayBuffer(e)})}async createSpineAsset(e,t,s,i){console.log(`Creating ${i?"Binary":"JSON"} Spine Asset`);const a=new Mg(t);for(const h of a.pages){const u=h.name;let d=s[u];if(!d){const y=this.getFileName(u);if(d=s[y],!d){const p=y.substring(0,y.lastIndexOf("."));p&&(d=s[p])}}if(!d)throw console.error(`Missing texture for page: ${u}`),console.log("Available textures:",Object.keys(s).join(", ")),new Error(`Missing texture for page: ${u}`);const m=Ya.from(d.source);h.setTexture(m)}const o=new kg(a);let c;if(i){const h=new AS(o);console.log(h),c=h.readSkeletonData(e)}else{const h=new Dg(o);console.log(h),c=h.readSkeletonData(e)}return new sc(c)}}function KL(n){const[e,t]=Z.useState(null),[s,i]=Z.useState(!1),a=Z.useRef(null),{addToast:o}=mc();return Z.useEffect(()=>{n?a.current=new FC(n):a.current=null},[n]),{spineInstance:e,isLoading:s,loadSpineFiles:async d=>{if(!n||!a.current)throw o("Application not initialized","error"),new Error("Application not initialized");i(!0);try{console.log(`Processing ${d.length} files:`),Array.from(d).forEach((y,p)=>{console.log(`File ${p+1}: ${y.name} (${y.type})`)}),e&&t(null);const m=await a.current.loadSpineFiles(d);if(!m)throw new Error("Failed to load Spine instance");return t(m),o("Spine files loaded successfully","success"),m}catch(m){throw console.error("Error loading Spine files:",m),o(`Error loading Spine files: ${m instanceof Error?m.message:"Unknown error"}`,"error"),m}finally{i(!1)}},loadSpineFromUrls:async(d,m)=>{if(!n||!a.current)throw o("Application not initialized","error"),new Error("Application not initialized");i(!0);try{console.log("Loading Spine files from URLs:",{jsonUrl:d,atlasUrl:m}),e&&t(null);const y=await a.current.loadSpineFromUrls(d,m);if(!y)throw new Error("Failed to load Spine instance from URLs");return t(y),o("Spine files loaded successfully from URLs","success"),y}catch(y){throw console.error("Error loading Spine files from URLs:",y),o(`Error loading Spine files: ${y instanceof Error?y.message:"Unknown error"}`,"error"),y}finally{i(!1)}},clearSpineInstance:()=>{t(null)}}}function QL(){const[n,e]=Z.useState(!1),[t,s]=Z.useState(!1),[i,a]=Z.useState(!1),o=Z.useCallback(u=>{e(d=>u??!d)},[]),c=Z.useCallback(u=>{s(d=>u??!d)},[]),h=Z.useCallback(u=>{a(d=>u??!d)},[]);return{meshesVisible:n,physicsVisible:t,ikVisible:i,toggleMeshes:o,togglePhysics:c,toggleIk:h}}class ZL{constructor(e){M(this,"app");M(this,"bgSprite",null);M(this,"container");M(this,"textureId",null);this.app=e,this.container=new qs,this.app.stage.children.length>0?this.app.stage.addChildAt(this.container,0):this.app.stage.addChild(this.container),window.addEventListener("resize",this.resizeBackground.bind(this))}async setBackgroundImage(e){try{this.clearBackground(),this.textureId=`bg_${Date.now()}`,await Jt.add({alias:this.textureId,src:e});const t=await Jt.load(this.textureId);this.bgSprite=new lo(t),this.container.addChild(this.bgSprite),this.resizeBackground()}catch(t){throw console.error("Error loading background image:",t),t}}resizeBackground(){if(!this.bgSprite)return;const e=this.app.renderer,t=e.width,s=e.height,i=this.bgSprite.texture.width/this.bgSprite.texture.height,a=t/s;i>a?(this.bgSprite.width=t,this.bgSprite.height=t/i):(this.bgSprite.height=s,this.bgSprite.width=s*i),this.bgSprite.x=(t-this.bgSprite.width)/2,this.bgSprite.y=(s-this.bgSprite.height)/2}clearBackground(){this.bgSprite&&(this.container.removeChild(this.bgSprite),this.bgSprite.destroy({texture:!0}),this.bgSprite=null),this.textureId&&(Jt.unload(this.textureId),this.textureId=null)}destroy(){this.clearBackground(),window.removeEventListener("resize",this.resizeBackground.bind(this)),this.app.stage.removeChild(this.container),this.container.destroy()}}function JL(n){const e=Z.useRef(null),[t,s]=Z.useState(!1),{addToast:i}=mc();return Z.useEffect(()=>(n?e.current=new ZL(n):e.current=null,()=>{e.current&&(e.current.destroy(),e.current=null)}),[n]),{hasBackground:t,setBackgroundImage:async c=>{if(!e.current){i("Background manager not initialized","error");return}try{await e.current.setBackgroundImage(c),s(!0),i("Background image set successfully","success")}catch(h){console.error("Error setting background image:",h),i(`Error setting background image: ${h instanceof Error?h.message:"Unknown error"}`,"error")}},clearBackgroundImage:()=>{e.current&&(e.current.clearBackground(),s(!1),i("Background image removed","info"))}}}function eI(n){const{i18n:e}=at(),[t,s]=Z.useState(null),[i,a]=Z.useState(!1),o=Z.useRef(null),c=Z.useRef(null),{addToast:h}=mc(),{spineInstance:u,isLoading:d,loadSpineFiles:m,loadSpineFromUrls:y}=KL(n),{meshesVisible:p,ikVisible:x,toggleMeshes:v,toggleIk:_}=QL(),{setBackgroundImage:A,clearBackgroundImage:S}=JL(n);return Z.useEffect(()=>{if(!n)return;const w=new RL({width:n.screen.width,height:n.screen.height,app:n});return n.stage.addChild(w),o.current=w,()=>{w&&w.destroy(),o.current=null}},[n]),Z.useEffect(()=>{if(u){const w=Uv.analyze(u);s(w)}},[e.language,u]),Z.useEffect(()=>{if(c.current&&o.current&&c.current.parent===o.current&&o.current.removeChild(c.current),!u||!o.current){u||s(null),c.current=null;return}c.current=u,o.current.addChild(u),o.current.lookAtChild(u);const w=Uv.analyze(u);s(w),o.current.setDebugFlags({showBones:!1,showMeshTriangles:!1,showMeshHull:!1,showVertices:!1,showRegionAttachments:!1,showBoundingBoxes:!1,showClipping:!1,showIkConstraints:!1,showTransformConstraints:!1})},[u]),Z.useEffect(()=>{o.current&&(o.current.setDebugFlags({showMeshTriangles:p,showMeshHull:p,showRegionAttachments:p,showIkConstraints:x}),o.current.forceResetDebugGraphics())},[p,x]),{spineInstance:u,loadSpineFiles:m,loadSpineFromUrls:y,isLoading:d,benchmarkData:t,setBackgroundImage:A,clearBackgroundImage:S,toggleMeshes:v,toggleIk:_,meshesVisible:p,ikVisible:x,cameraContainer:o.current,physicsVisible:i,togglePhysics:()=>a(!i)}}function tI({spineInstance:n,showBenchmark:e,setShowBenchmark:t,openGitHubReadme:s,setShowLanguageModal:i,meshesVisible:a,physicsVisible:o,ikVisible:c,toggleMeshes:h,togglePhysics:u,toggleIk:d,cameraContainer:m}){const{t:y}=at();Z.useEffect(()=>(n&&(Ve.register({id:"animation.play-pause",title:y("commands.animation.playPause"),category:"animation",description:y("commands.animation.playPauseDescription"),keywords:[y("commands.keywords.animation"),y("commands.keywords.play"),y("commands.keywords.pause"),y("commands.keywords.toggle")],execute:()=>{const x=n.state.timeScale;n.state.timeScale=x===0?1:0}}),Ve.register({id:"animation.stop",title:y("commands.animation.stop"),category:"animation",description:y("commands.animation.stopDescription"),keywords:[y("commands.keywords.animation"),y("commands.keywords.stop")],execute:()=>{n.state.clearTrack(0)}}),Ve.register({id:"animation.restart",title:y("commands.animation.restart"),category:"animation",description:y("commands.animation.restartDescription"),keywords:[y("commands.keywords.animation"),y("commands.keywords.restart"),y("commands.keywords.reset")],execute:()=>{const x=n.state.getCurrent(0);x&&n.state.setAnimation(0,x.animation.name,x.loop)}}),n.skeleton.data.skins.forEach(x=>{Ve.register({id:`skin.${x.name}`,title:y("commands.skin.switchTo",{0:x.name}),category:"skin",description:y("commands.skin.switchToDescription",{0:x.name}),keywords:[y("commands.keywords.skin"),x.name.toLowerCase()],execute:()=>{n.skeleton.setSkin(x.name),n.skeleton.setSlotsToSetupPose()}})})),n&&(Ve.register({id:"debug.toggle-bones",title:y("commands.debug.toggleBones","Toggle Bones"),category:"debug",description:y("commands.debug.toggleBonesDescription","Show/hide bone structure"),keywords:[y("commands.keywords.toggle"),"bones","skeleton","debug","joints"],execute:()=>{if(m){const p=m.getDebugFlags();console.log("Toggle Bones - Current flags:",p),console.log("Toggle Bones - showBones before:",p.showBones),m.setDebugFlags({showBones:!p.showBones});const x=m.getDebugFlags();console.log("Toggle Bones - showBones after:",x.showBones)}else console.error("Toggle Bones - No camera container!")}}),Ve.register({id:"debug.toggle-meshes",title:y("commands.debug.toggleMeshes","Toggle Meshes"),category:"debug",description:y("commands.debug.toggleMeshesDescription","Show/hide mesh triangles and hulls"),keywords:[y("commands.keywords.toggle"),"mesh","triangles","hull","debug","vertices"],execute:()=>{if(m){const x=!m.getDebugFlags().showMeshTriangles;m.setDebugFlags({showMeshTriangles:x,showMeshHull:x,showVertices:x,showRegionAttachments:x,showBoundingBoxes:x,showPaths:x,showClipping:x})}}}),Ve.register({id:"debug.toggle-regions",title:y("commands.debug.toggleRegions","Toggle Region Attachments"),category:"debug",description:y("commands.debug.toggleRegionsDescription","Show/hide region attachment bounds"),keywords:[y("commands.keywords.toggle"),"region","attachments","debug","bounds"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showRegionAttachments:!p.showRegionAttachments})}}}),Ve.register({id:"debug.toggle-bounding-boxes",title:y("commands.debug.toggleBoundingBoxes","Toggle Bounding Boxes"),category:"debug",description:y("commands.debug.toggleBoundingBoxesDescription","Show/hide bounding boxes"),keywords:[y("commands.keywords.toggle"),"bounding","boxes","debug","collision"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showBoundingBoxes:!p.showBoundingBoxes})}}}),Ve.register({id:"debug.toggle-paths",title:y("commands.debug.togglePaths","Toggle Paths"),category:"debug",description:y("commands.debug.togglePathsDescription","Show/hide path attachments"),keywords:[y("commands.keywords.toggle"),"paths","debug","curves"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showPaths:!p.showPaths})}}}),Ve.register({id:"debug.toggle-clipping",title:y("commands.debug.toggleClipping","Toggle Clipping"),category:"debug",description:y("commands.debug.toggleClippingDescription","Show/hide clipping masks"),keywords:[y("commands.keywords.toggle"),"clipping","masks","debug"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showClipping:!p.showClipping})}}}),Ve.register({id:"debug.toggle-ik-constraints",title:y("commands.debug.toggleIkConstraints","Toggle IK Constraints"),category:"debug",description:y("commands.debug.toggleIkConstraintsDescription","Show/hide IK constraints"),keywords:[y("commands.keywords.toggle"),"ik","constraints","debug","inverse","kinematics"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showIkConstraints:!p.showIkConstraints})}}}),Ve.register({id:"debug.toggle-transform-constraints",title:y("commands.debug.toggleTransformConstraints","Toggle Transform Constraints"),category:"debug",description:y("commands.debug.toggleTransformConstraintsDescription","Show/hide transform constraints"),keywords:[y("commands.keywords.toggle"),"transform","constraints","debug"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showTransformConstraints:!p.showTransformConstraints})}}}),Ve.register({id:"debug.toggle-path-constraints",title:y("commands.debug.togglePathConstraints","Toggle Path Constraints"),category:"debug",description:y("commands.debug.togglePathConstraintsDescription","Show/hide path constraints"),keywords:[y("commands.keywords.toggle"),"path","constraints","debug"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showPathConstraints:!p.showPathConstraints})}}}),Ve.register({id:"debug.toggle-physics-constraints",title:y("commands.debug.togglePhysicsConstraints","Toggle Physics Constraints"),category:"debug",description:y("commands.debug.togglePhysicsConstraintsDescription","Show/hide physics constraints"),keywords:[y("commands.keywords.toggle"),"physics","constraints","debug","simulation"],execute:()=>{if(m){const p=m.getDebugFlags();m.setDebugFlags({showPhysics:!p.showPhysics})}}}),Ve.register({id:"debug.show-all",title:y("commands.debug.showAll","Show All Debug"),category:"debug",description:y("commands.debug.showAllDescription","Enable all debug visualizations"),keywords:[y("commands.keywords.show"),"all","debug","everything"],execute:()=>{m&&m.setDebugFlags({showBones:!0,showRegionAttachments:!0,showMeshTriangles:!0,showMeshHull:!0,showBoundingBoxes:!0,showPaths:!0,showClipping:!0,showPhysics:!0,showIkConstraints:!0,showTransformConstraints:!0,showPathConstraints:!0})}}),Ve.register({id:"debug.hide-all",title:y("commands.debug.hideAll","Hide All Debug"),category:"debug",description:y("commands.debug.hideAllDescription","Disable all debug visualizations"),keywords:["hide","all","debug","clear"],execute:()=>{m&&m.setDebugFlags({showBones:!1,showRegionAttachments:!1,showMeshTriangles:!1,showMeshHull:!1,showBoundingBoxes:!1,showPaths:!1,showClipping:!1,showPhysics:!1,showIkConstraints:!1,showTransformConstraints:!1,showPathConstraints:!1})}}),a?Ve.register({id:"debug.hide-mesh",title:y("commands.debug.hideMeshDebug"),category:"debug",description:y("commands.debug.hideMeshDebugDescription"),keywords:["hide","mesh","attachment","debug","vertices","triangles","visualization"],execute:h}):Ve.register({id:"debug.show-mesh",title:y("commands.debug.showMeshDebug"),category:"debug",description:y("commands.debug.showMeshDebugDescription"),keywords:[y("commands.keywords.show"),"mesh","attachment","debug","vertices","triangles","visualization"],execute:h}),c?Ve.register({id:"debug.hide-ik",title:y("commands.debug.hideIkDebug"),category:"debug",description:y("commands.debug.hideIkDebugDescription"),keywords:["hide","ik","debug","constraints","controls"],execute:d}):Ve.register({id:"debug.show-ik",title:y("commands.debug.showIkDebug"),category:"debug",description:y("commands.debug.showIkDebugDescription"),keywords:[y("commands.keywords.show"),"ik","debug","constraints","controls"],execute:d}),o?Ve.register({id:"debug.hide-physics",title:y("commands.debug.hidePhysicsDebug"),category:"debug",description:y("commands.debug.hidePhysicsDebugDescription"),keywords:["hide","physics","debug","constraints","simulation"],execute:u}):Ve.register({id:"debug.show-physics",title:y("commands.debug.showPhysicsDebug"),category:"debug",description:y("commands.debug.showPhysicsDebugDescription"),keywords:[y("commands.keywords.show"),"physics","debug","constraints","simulation"],execute:u})),n&&Ve.register({id:"performance.show-benchmark",title:y("commands.performance.showBenchmark"),category:"performance",description:y("commands.performance.showBenchmarkDescription"),keywords:[y("commands.keywords.performance"),y("commands.keywords.benchmark"),y("commands.keywords.info"),y("commands.keywords.stats"),y("commands.keywords.show")],execute:()=>t(!0)}),Ve.register({id:"help.documentation",title:y("commands.help.documentation"),category:"performance",description:y("commands.help.documentationDescription"),keywords:[y("commands.keywords.help"),y("commands.keywords.documentation"),y("commands.keywords.readme"),y("commands.keywords.github")],execute:s}),console.log("🔧 Registering language command with translations:",{title:y("language.changeLanguage"),description:y("language.changeLanguageDescription"),keywords:[y("commands.keywords.language"),y("commands.keywords.switch"),"change","modal"]}),Ve.register({id:"language.change",title:y("language.changeLanguage"),category:"language",description:y("language.changeLanguageDescription"),keywords:[y("commands.keywords.language"),y("commands.keywords.switch"),"change","modal"],execute:()=>{console.log("🌐 Language command executed - opening modal"),i(!0)}}),console.log("✅ Language command registered successfully"),()=>{["animation.play-pause","animation.stop","animation.restart","debug.toggle-bones","debug.toggle-meshes","debug.toggle-regions","debug.toggle-bounding-boxes","debug.toggle-paths","debug.toggle-clipping","debug.toggle-ik-constraints","debug.toggle-transform-constraints","debug.toggle-path-constraints","debug.toggle-physics-constraints","debug.show-all","debug.hide-all","debug.show-mesh","debug.hide-mesh","debug.show-ik","debug.hide-ik","debug.show-physics","debug.hide-physics","performance.show-benchmark","help.documentation","language.change"].forEach(x=>Ve.unregister(x)),n&&n.skeleton.data.skins.forEach(v=>{Ve.unregister(`skin.${v.name}`)})}),[n,e,t,s,i,a,o,c,h,u,d,m,y])}const sI=()=>{const{addToast:n}=mc(),e=Z.useCallback(async s=>{const i=[],a=async o=>new Promise((c,h)=>{o.readEntries(async u=>{try{if(u.length===0)c([]);else{const d=[];for(const y of u)if(y.isFile){const p=await new Promise((x,v)=>{y.file(x,v)});Object.defineProperty(p,"fullPath",{value:y.fullPath,writable:!1}),d.push(p)}else if(y.isDirectory){const p=await a(y.createReader());d.push(...p)}const m=await a(o);c([...d,...m])}}catch(d){h(d)}})});for(let o=0;o<s.length;o++){const c=s[o];if(c.kind==="file"){const h=c.getAsFile();h&&i.push(h)}else if(c.kind==="directory"){const h=c.webkitGetAsEntry();if(h&&h.isDirectory)try{const u=await a(h.createReader());i.push(...u)}catch(u){console.error("Error reading directory:",u),n("Failed to read directory contents","error")}}}return i},[n]);return{collectFilesFromDataTransfer:Z.useCallback(async s=>{const i=s.items;if(i&&i.length>0)return e(i);{const a=[];for(let o=0;o<s.files.length;o++)a.push(s.files[o]);return a}},[e])}},iI=()=>{const n=Z.useCallback(s=>{(s.ctrlKey||s.metaKey)&&s.key==="s"&&s.preventDefault(),(s.ctrlKey||s.metaKey)&&s.key==="o"&&s.preventDefault()},[]),e=Z.useCallback(s=>{s.preventDefault()},[]),t=Z.useCallback(s=>{s.ctrlKey&&s.preventDefault()},[]);return{handleKeyDown:n,handleContextMenu:e,handleWheel:t}};class Vv{constructor(e){M(this,"app");M(this,"loader");this.app=e,this.loader=e?new FC(e):null}async processItems(e){const t=[],s=e.map(i=>this.processItem(i,"",t));return await Promise.all(s),t}async processItem(e,t,s){const i=e.webkitGetAsEntry();i&&await this.traverseEntry(i,t,s)}async traverseEntry(e,t,s){e.isFile?await this.processFile(e,t,s):e.isDirectory&&await this.processDirectory(e,t,s)}async processFile(e,t,s){return new Promise((i,a)=>{e.file(o=>{Object.defineProperty(o,"fullPath",{value:t+o.name,writable:!1}),s.push(o),i()},a)})}async processDirectory(e,t,s){const i=e.createReader(),a=(h=[])=>new Promise((u,d)=>{i.readEntries(m=>{m.length?(h=h.concat(Array.from(m)),a(h).then(u).catch(d)):u(h)},d)}),c=(await a()).map(h=>this.traverseEntry(h,t+h.name+"/",s));await Promise.all(c)}convertToFileList(e){const t=new DataTransfer;return e.forEach(s=>t.items.add(s)),t.files}async handleSpineFiles(e){const t=Array.from(e).find(s=>s.name.endsWith(".json"));if(t){const s=await t.text();if(s.includes('"spine":"4.1')){const i=s.replace(/"spine":"4.1[^"]*"/,'"spine":"4.2.0"'),a=new File([i],t.name,{type:"application/json"}),o=Array.from(e),c=o.findIndex(h=>h.name===t.name);if(c!==-1)return o[c]=a,this.convertToFileList(o)}}return e}validateFiles(e){const t=Array.from(e).some(o=>o.name.endsWith(".json")||o.type==="application/json"),s=Array.from(e).some(o=>o.name.endsWith(".skel")),i=Array.from(e).some(o=>o.name.endsWith(".atlas")),a=Array.from(e).some(o=>o.type.startsWith("image/")||o.name.endsWith(".png")||o.name.endsWith(".jpg")||o.name.endsWith(".jpeg")||o.name.endsWith(".webp"));if(!i)throw new Error("Missing .atlas file. Please include an atlas file with your Spine data.");if(!t&&!s)throw new Error("Missing skeleton file (.json or .skel). Please include a skeleton file with your Spine data.");if(!a)throw new Error("Missing image files. Please include image files referenced by your atlas.")}}const nI=({isOpen:n,onClose:e,onLoad:t})=>{const[s,i]=Z.useState(""),[a,o]=Z.useState(""),{t:c}=at(),h=u=>{u.preventDefault(),s&&a&&(t(s,a),e())};return n?k.jsx("div",{className:"modal-backdrop",onClick:e,children:k.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[k.jsx("h2",{children:c("ui.loadFromUrl","Load Spine from URL")}),k.jsxs("form",{onSubmit:h,children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"json-url",children:"JSON URL:"}),k.jsx("input",{id:"json-url",type:"url",value:s,onChange:u=>i(u.target.value),placeholder:"https://example.com/spine.json",required:!0})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"atlas-url",children:"Atlas URL:"}),k.jsx("input",{id:"atlas-url",type:"url",value:a,onChange:u=>o(u.target.value),placeholder:"https://example.com/spine.atlas",required:!0})]}),k.jsxs("div",{className:"form-actions",children:[k.jsx("button",{type:"button",onClick:e,children:c("ui.cancel","Cancel")}),k.jsx("button",{type:"submit",children:c("ui.load","Load")})]})]})]})}):null},aI=()=>{const{t:n}=at(),[e,t]=Z.useState(null),s=Z.useRef(null),[i,a]=Z.useState(!1),[o,c]=Z.useState(!1),[h,u]=Z.useState(!1),[d,m]=Z.useState(!1),[y,p]=Z.useState("idle");Z.useEffect(()=>{console.log("🏠 App: Language modal state changed:",o)},[o]);const x=ye=>{console.log("🏠 App: setShowLanguageModal called with:",ye),console.log("🏠 App: Current modal state before change:",o),c(ye),console.log("🏠 App: setShowLanguageModal completed")},[v,_]=oN("spine-benchmark-bg-color","#282b30"),[A,S]=Z.useState(!1),[w,T]=Z.useState(""),{addToast:R}=mc(),{updateHash:E,getStateFromHash:D,onHashChange:B}=up();sI();const{handleKeyDown:O,handleContextMenu:L,handleWheel:z}=iI(),{spineInstance:H,loadSpineFiles:X,loadSpineFromUrls:j,isLoading:W,benchmarkData:I,meshesVisible:U,ikVisible:ne,toggleMeshes:se,toggleIk:F,cameraContainer:K,physicsVisible:ae,togglePhysics:ee}=eI(e);Z.useEffect(()=>{if(!e||d)return;(async()=>{const Be=new URLSearchParams(window.location.search),ke=Be.get("json"),ct=Be.get("atlas");if(ke&&ct){console.log("Found Spine URLs in query parameters:",{jsonUrl:ke,atlasUrl:ct}),m(!0),p("loading");try{await j(ke,ct),p("success"),R(n("success.loadedFromUrl","Successfully loaded Spine from URL"),"success")}catch(fi){console.error("Failed to load files from URLs:",fi),p("error"),R(n("error.failedToLoadFromUrls",{error:fi.message}),"error")}}})()},[e,j,d,R,n]);const ce=Z.useCallback(async(ye,Be)=>{try{p("loading"),await j(ye,Be),p("success");const ke=new URL(window.location.href);ke.searchParams.set("json",ye),ke.searchParams.set("atlas",Be),window.history.replaceState({},"",ke),R(n("success.loadedFromUrl","Successfully loaded Spine from URL"),"success")}catch(ke){p("error"),console.error("Failed to load from URLs:",ke),R(n("error.failedToLoadFromUrls",{error:ke.message}),"error")}},[j,R,n]);Z.useEffect(()=>{D().benchmarkInfo&&a(!0)},[D]),Z.useEffect(()=>B(Be=>{a(Be.benchmarkInfo)}),[B]),Z.useEffect(()=>{D().benchmarkInfo!==i&&E({benchmarkInfo:i})},[i,E,D]),Z.useEffect(()=>(window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}),[O]),Z.useEffect(()=>(window.addEventListener("contextmenu",L),()=>{window.removeEventListener("contextmenu",L)}),[L]),Z.useEffect(()=>(window.addEventListener("wheel",z,{passive:!1}),()=>{window.removeEventListener("wheel",z)}),[z]),Z.useCallback(async ye=>{try{S(!0),await X(ye),R(n("success.filesLoaded","Files loaded successfully"),"success")}catch(Be){console.error("Error handling Spine files:",Be),R(n("error.failedToLoadFiles",{error:Be.message}),"error")}finally{S(!1)}},[X,R,n]),Z.useEffect(()=>{if(!s.current)return;let ye;return(async()=>{try{const ke=new Y_;await ke.init({backgroundColor:parseInt(v.replace("#","0x")),canvas:s.current,resizeTo:s.current.parentElement||void 0,antialias:!0,resolution:2,autoDensity:!0}),e==null||e.destroy(),t(ke),ye=()=>{ke.destroy()}}catch(ke){console.error("Failed to initialize Pixi application:",ke),R(n("error.failedToInitialize",ke instanceof Error?ke.message:"Unknown error"),"error")}})(),()=>{ye&&ye()}},[]);const ue=Z.useRef(new Vv(e));Z.useEffect(()=>{ue.current=e?new Vv(e):null},[e]);const fe=async ye=>{var Be,ke;if(ye.preventDefault(),ye.stopPropagation(),ye.currentTarget.classList.remove("highlight"),!ue.current){R("Application not initialized","error");return}try{S(!0);const ct=(Be=ye.dataTransfer)==null?void 0:Be.items;if(!ct||ct.length===0){if(!((ke=ye.dataTransfer)!=null&&ke.files)||ye.dataTransfer.files.length===0){R(n("error.noFilesDropped"),"error");return}await Ue(ye.dataTransfer.files);return}const fi=Array.from(ct),Tt=await ue.current.processItems(fi);if(console.log(`Traversal complete, found ${Tt.length} files`),Tt.length===0){R(n("error.noValidFiles"),"error");return}console.log("Files collected:",Tt.map(Ri=>Ri.fullPath||Ri.name));const Ei=ue.current.convertToFileList(Tt);await Ue(Ei)}catch(ct){console.error("Error processing dropped items:",ct),R(n("error.processingError",ct instanceof Error?ct.message:"Unknown error"),"error")}finally{S(!1)}},Ye=ye=>{ye.preventDefault(),ye.stopPropagation(),ye.currentTarget.classList.add("highlight")},be=ye=>{ye.preventDefault(),ye.stopPropagation(),ye.currentTarget.classList.remove("highlight")},Ue=async ye=>{if(!ue.current){R("File processor not initialized","error");return}try{const Be=await ue.current.handleSpineFiles(ye);ue.current.validateFiles(Be),await X(Be)}catch(Be){console.error("Error handling Spine files:",Be),R(n("error.loadingError",Be instanceof Error?Be.message:"Unknown error"),"error")}},tt=()=>{window.open("https://github.com/schmooky/spine-benchmark/blob/main/README.md","_blank")};Z.useEffect(()=>{e&&(e.renderer.background.color=parseInt(v.replace("#","0x")))},[v,e]);const At=Z.useCallback(ye=>{a(ye),E({benchmarkInfo:ye})},[E]);return tI({spineInstance:H,showBenchmark:i,setShowBenchmark:At,openGitHubReadme:tt,setShowLanguageModal:x,meshesVisible:U,physicsVisible:ae,ikVisible:ne,toggleMeshes:se,togglePhysics:ee,toggleIk:F,cameraContainer:K}),Z.useEffect(()=>(e&&Ve.register({id:"file.load-from-url",title:n("commands.file.loadFromUrl","Load Spine from URL"),category:"file",description:n("commands.file.loadFromUrlDescription","Load Spine files from remote URLs"),keywords:["load","url","remote","cdn","s3","http"],execute:()=>u(!0)}),()=>{Ve.unregister("file.load-from-url")}),[e,n]),k.jsxs("div",{className:"app-container",children:[k.jsxs("div",{className:"canvas-container",onDrop:fe,onDragOver:Ye,onDragLeave:be,children:[k.jsx("canvas",{ref:s,id:"pixiCanvas"}),!H&&y!=="loading"&&k.jsx("div",{className:"drop-area",children:k.jsx("p",{children:n("ui.dropArea")})}),(A||W||y==="loading")&&k.jsx("div",{className:"loading-indicator",children:k.jsx("p",{children:y==="loading"?n("ui.loadingFromUrl","Loading from URL..."):n("ui.loading")})})]}),k.jsx("div",{className:"help-text",children:k.jsx("p",{children:n("ui.helpText")})}),k.jsx("div",{className:`controls-container ${H?"visible":"hidden"}`,children:H&&(()=>{var ye;return console.log("App center-controls render:",{hasSpineInstance:!!H,spineInstanceType:(ye=H==null?void 0:H.constructor)==null?void 0:ye.name}),k.jsx(iP,{spineInstance:H,onAnimationChange:T})})()}),k.jsx(aN,{benchmarkData:I,showBenchmark:i,setShowBenchmark:At}),i&&I&&k.jsx(LO,{data:I,onClose:()=>At(!1)}),k.jsx(DD,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),k.jsx(tN,{}),k.jsx(sN,{appVersion:"1.2.0",spineVersion:"4.2.*"}),k.jsx(iN,{isOpen:o,onClose:()=>{console.log("🏠 App: Closing language modal"),x(!1)}}),k.jsx(nI,{isOpen:h,onClose:()=>u(!1),onLoad:ce})]})},jC=document.getElementById("root");if(!jC)throw new Error("Failed to find the root element");const rI=mM.createRoot(jC);rI.render(k.jsx(lt.StrictMode,{children:k.jsx(rN,{children:k.jsx(aI,{})})}));export{o2 as $,I_ as A,qt as B,qs as C,nt as D,ge as E,l_ as F,Rh as G,Zb as H,lo as I,R2 as J,F2 as K,uc as L,Le as M,wt as N,Rt as O,us as P,ik as Q,ng as R,wk as S,Kn as T,tg as U,e1 as V,ym as W,t1 as X,c2 as Y,th as Z,Lt as _,Ti as a,n_ as a0,z_ as a1,Re as a2,Je as a3,lk as a4,$_ as a5,Ak as a6,J_ as a7,tw as a8,iw as a9,aw as aa,rw as ab,eh as ac,$u as ad,cg as ae,F1 as af,uw as ag,g1 as ah,m1 as ai,Y1 as aj,ZE as ak,et as al,$l as am,RM as an,rh as ao,fw as ap,Wa as b,Wu as c,ep as d,Dt as e,hg as f,bk as g,O_ as h,g_ as i,Gs as j,E_ as k,gg as l,Z_ as m,ew as n,sw as o,nw as p,Dh as q,HM as r,Ne as s,A_ as t,EM as u,Zk as v,ut as w,hi as x,t_ as y,Si as z};
//# sourceMappingURL=index-DhITrWQQ.js.map
